if (self.CavalryLogger) { CavalryLogger.start_js(["Onj8q"]); }

__d("ChromecastScannerEnum",[],(function(a,b,c,d,e,f){e.exports={INIT:"init",CAST:"cast",ERROR:"error",NEW_SESSION:"new_session",RECEIVER_STATUS_CHANGED:"receiver_status_changed",SESSION_REQUESTED:"session_requested",SESSION_CANCELLED:"session_cancelled",SESSION_STARTED:"session_started",SESSION_DISCONNECTING:"session_disconnecting",SESSION_DISCONNECTED:"session_disconnected"}}),null);
__d("ChromecastSessionEnum",[],(function(a,b,c,d,e,f){e.exports={ERROR:"error",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",VIDEO_LOADING:"video_loading",VIDEO_LOADED:"video_loaded",VIDEO_PLAYING:"video_playing",VIDEO_PAUSED:"video_paused",VIDEO_SEEK:"video_seek"}}),null);
__d("ChromecastAPI",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){__p&&__p();var g=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","boadgeojelhgndaghljhdicfkmllpafd","dliochdbjfkdbacpmhlcpmleaejidimm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],h=null;c={};e.exports=c;c.getSenderAPI=function(){__p&&__p();if(h)return h;if(!a.chrome){h=b("Promise").reject(new Error("Browser not supported"));return h}if(a.chrome.cast&&a.chrome.cast.isAvailable){h=b("Promise").resolve(a.chrome.cast);return h}h=b("Promise").resolve().then(function(){return i()}).then(function(c){return new(b("Promise"))(function(b,d){a.chrome.cast=a.chrome.cast||{};a.chrome.cast.extensionId=c;a.__onGCastApiAvailable=function(c,e){e?d(e):b(a.chrome.cast)};var e=document.createElement("script");e.onerror=d;e.src=k(c);(document.head||document.documentElement).appendChild(e)})});return h};function i(){__p&&__p();var a,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<g.length)){e.next=11;break}c=g[a];e.next=5;return b("regeneratorRuntime").awrap(j(c));case 5:d=e.sent;if(!d){e.next=8;break}return e.abrupt("return",c);case 8:a++;e.next=1;break;case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},null,this)}function j(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:return c.abrupt("return",new(b("Promise"))(function(b,c){c=k(a);var d=new XMLHttpRequest();d.onreadystatechange=function(){d.readyState===4&&b(d.status===200)};d.onerror=function(){b(!1)};d.open("GET",c,!0);d.send()}));case 1:case"end":return c.stop()}},null,this)}function k(a){return"chrome-extension://"+a+"/cast_sender.js"}}),null);
__d("ChromecastSession",["invariant","regeneratorRuntime","Promise","ChromecastAPI","ChromecastSessionEnum","EventEmitter"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("ChromecastAPI").getSenderAPI;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){var e;e=a.call(this)||this;e.$ChromecastSession1=b;e.$ChromecastSession2=e.$ChromecastSession5.bind(babelHelpers.assertThisInitialized(e));e.$ChromecastSession3=c;e.$ChromecastSession4=d;d.addMessageListener(e.$ChromecastSession3,e.$ChromecastSession2);return e}var d=c.prototype;d.destroy=function(){var a=this.$ChromecastSession4;a&&a.removeMessageListener(this.$ChromecastSession3,this.$ChromecastSession2);this.removeAllListeners()};d.isCasting=function(){return!!this.$ChromecastSession4};d.isPlaying=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(h());case 2:a=c.sent;return c.abrupt("return",!!(this.$ChromecastSession4&&this.$ChromecastSession4.media&&this.$ChromecastSession4.media[0]&&this.$ChromecastSession4.media[0].playerState===a.media.PlayerState.PLAYING));case 4:case"end":return c.stop()}},null,this)};d.hasMedia=function(){return!!(this.$ChromecastSession4&&this.$ChromecastSession4.media&&this.$ChromecastSession4.media[0])};d.disconnect=function(){__p&&__p();var a=this;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:this.emit(b("ChromecastSessionEnum").DISCONNECTING);c.prev=1;c.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,c){a.$ChromecastSession4?a.$ChromecastSession4.stop(b,c):b()}));case 4:c.next=10;break;case 6:c.prev=6;c.t0=c["catch"](1);this.emit(b("ChromecastSessionEnum").ERROR,c.t0);throw c.t0;case 10:c.prev=10;this.$ChromecastSession4=null;this.emit(b("ChromecastSessionEnum").DISCONNECTED);this.removeAllListeners();return c.finish(10);case 15:case"end":return c.stop()}},null,this,[[1,6,10,15]])};d.loadVideo=function(a,c,d){__p&&__p();var e=this,f,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:j.prev=0;j.next=3;return b("regeneratorRuntime").awrap(h());case 3:f=j.sent;i=this.$ChromecastSession4;c||(c="video/mp4");j.next=8;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(h,j){__p&&__p();i||g(0,4266);e.emit(b("ChromecastSessionEnum").VIDEO_LOADING);var k=new f.media.MediaInfo(a,c);k.streamType=f.media.StreamType.BUFFERED;k=new f.media.LoadRequest(k);k.autoplay=!0;d&&(k.currentTime=d);i.loadMedia(k,function(a){var c=function c(){a.removeUpdateListener(c),e.emit(b("ChromecastSessionEnum").VIDEO_LOADED),h()};a.addUpdateListener(c)},j)}));case 8:this.emit(b("ChromecastSessionEnum").VIDEO_PLAYING);j.next=15;break;case 11:j.prev=11;j.t0=j["catch"](0);this.emit(b("ChromecastSessionEnum").ERROR,j.t0);throw j.t0;case 15:case"end":return j.stop()}},null,this,[[0,11]])};d.playVideo=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return b("regeneratorRuntime").awrap(h());case 3:a=d.sent;c=this.$ChromecastSession4;d.next=7;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,d){c||g(0,4267);c.media&&c.media[0]||g(0,4268);var e=new a.media.PlayRequest();c.media[0].play(e,b,d)}));case 7:this.emit(b("ChromecastSessionEnum").VIDEO_PLAYING);d.next=14;break;case 10:d.prev=10;d.t0=d["catch"](0);this.emit(b("ChromecastSessionEnum").ERROR,d.t0);throw d.t0;case 14:case"end":return d.stop()}},null,this,[[0,10]])};d.pauseVideo=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return b("regeneratorRuntime").awrap(h());case 3:a=d.sent;c=this.$ChromecastSession4;d.next=7;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,d){c||g(0,4269);c.media&&c.media[0]||g(0,4270);var e=new a.media.PauseRequest();c.media[0].pause(e,b,d)}));case 7:this.emit(b("ChromecastSessionEnum").VIDEO_PAUSED);d.next=14;break;case 10:d.prev=10;d.t0=d["catch"](0);this.emit(b("ChromecastSessionEnum").ERROR,d.t0);throw d.t0;case 14:case"end":return d.stop()}},null,this,[[0,10]])};d.seekVideo=function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(h());case 3:c=e.sent;d=this.$ChromecastSession4;e.next=7;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,e){d||g(0,4271);d.media&&d.media[0]||g(0,4272);var f=new c.media.SeekRequest();f.currentTime=a;d.media[0].seek(f,b,e)}));case 7:this.emit(b("ChromecastSessionEnum").VIDEO_PLAYING);e.next=14;break;case 10:e.prev=10;e.t0=e["catch"](0);this.emit(b("ChromecastSessionEnum").ERROR,e.t0);throw e.t0;case 14:case"end":return e.stop()}},null,this,[[0,10]])};d.getVolume=function(){var a=this.$ChromecastSession6();return a?a.level:null};d.setVolume=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=0;c=this.$ChromecastSession4;d.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,d){c||g(0,4273),c.setReceiverVolumeLevel(a,b,d)}));case 4:d.next=10;break;case 6:d.prev=6;d.t0=d["catch"](0);this.emit(b("ChromecastSessionEnum").ERROR,d.t0);throw d.t0;case 10:case"end":return d.stop()}},null,this,[[0,6]])};d.isMuted=function(){var a=this.$ChromecastSession6();return a?a.muted:null};d.mute=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$ChromecastSession7(!0));case 2:case"end":return a.stop()}},null,this)};d.unmute=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$ChromecastSession7(!1));case 2:case"end":return a.stop()}},null,this)};d.sendMessage=function(a){__p&&__p();var c=this;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=0;d.next=3;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,d){var e=c.$ChromecastSession4;e||g(0,4274);e.sendMessage(c.$ChromecastSession3,a,b,d)}));case 3:d.next=9;break;case 5:d.prev=5;d.t0=d["catch"](0);this.emit(b("ChromecastSessionEnum").ERROR,d.t0);throw d.t0;case 9:case"end":return d.stop()}},null,this,[[0,5]])};d.$ChromecastSession6=function(){return this.$ChromecastSession4&&this.$ChromecastSession4.receiver&&this.$ChromecastSession4.receiver.volume};d.$ChromecastSession7=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=0;c=this.$ChromecastSession4;d.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,d){c||g(0,4275),c.setReceiverMuted(a,b,d)}));case 4:d.next=10;break;case 6:d.prev=6;d.t0=d["catch"](0);this.emit(b("ChromecastSessionEnum").ERROR,d.t0);throw d.t0;case 10:case"end":return d.stop()}},null,this,[[0,6]])};d.getVideoTime=function(){var a=null,b=this.$ChromecastSession4&&this.$ChromecastSession4.media[0];b&&(a=b.getEstimatedTime());return a};d.$ChromecastSession5=function(a,b){a===this.$ChromecastSession3?this.emit("message",b):this.emit("invalid_message",{namespace:a,message:b})};return c}(b("EventEmitter"));e.exports=a}),null);
__d("ConnectedTVTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("ctv_proxy:ConnectedTVLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("ctv_proxy:ConnectedTVLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("ctv_proxy:ConnectedTVLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAccessToken=function(a){this.$1.access_token=a;return this};c.setActionMethod=function(a){this.$1.action_method=a;return this};c.setActionSurface=function(a){this.$1.action_surface=a;return this};c.setActionTarget=function(a){this.$1.action_target=a;return this};c.setCampaignID=function(a){this.$1.campaign_id=a;return this};c.setCastActivityName=function(a){this.$1.cast_activity_name=a;return this};c.setCastClientAppID=function(a){this.$1.cast_client_app_id=a;return this};c.setCastClientAppVersion=function(a){this.$1.cast_client_app_version=a;return this};c.setCastClientSeqNum=function(a){this.$1.cast_client_seq_num=a;return this};c.setCastClientTimeMs=function(a){this.$1.cast_client_time_ms=a;return this};c.setCastDeviceCount=function(a){this.$1.cast_device_count=a;return this};c.setCastSessionID=function(a){this.$1.cast_session_id=a;return this};c.setCastingDeviceType=function(a){this.$1.casting_device_type=a;return this};c.setChainingDepthLevel=function(a){this.$1.chaining_depth_level=a;return this};c.setClientSessionStartTimeMs=function(a){this.$1.client_session_start_time_ms=a;return this};c.setClientVideoBandwidth=function(a){this.$1.client_video_bandwidth=a;return this};c.setDeviceUniqueID=function(a){this.$1.device_unique_id=a;return this};c.setDurationMs=function(a){this.$1.duration_ms=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventDescription=function(a){this.$1.event_description=a;return this};c.setExperience=function(a){this.$1.experience=a;return this};c.setExperienceView=function(a){this.$1.experience_view=a;return this};c.setExternalLogID=function(a){this.$1.external_log_id=a;return this};c.setExternalLogType=function(a){this.$1.external_log_type=a;return this};c.setGraphqlQueryName=function(a){this.$1.graphql_query_name=a;return this};c.setInitialCast=function(a){this.$1.initial_cast=a;return this};c.setInitialLogin=function(a){this.$1.initial_login=a;return this};c.setIsAppVisible=function(a){this.$1.is_app_visible=a;return this};c.setIsFirstLoadAfterInstall=function(a){this.$1.is_first_load_after_install=a;return this};c.setIsGoogleCastBg=function(a){this.$1.is_google_cast_bg=a;return this};c.setIsShowVideo=function(a){this.$1.is_show_video=a;return this};c.setManufacturer=function(a){this.$1.manufacturer=a;return this};c.setMemorySize=function(a){this.$1.memory_size=a;return this};c.setMinCountNumFetched=function(a){this.$1.min_count_num_fetched=a;return this};c.setModelName=function(a){this.$1.model_name=a;return this};c.setMostRecentSenderUserAgent=function(a){this.$1.most_recent_sender_user_agent=a;return this};c.setNumDynamicSections=function(a){this.$1.num_dynamic_sections=a;return this};c.setOsVersion=function(a){this.$1.os_version=a;return this};c.setOwnerID=function(a){this.$1.owner_id=a;return this};c.setOwnerType=function(a){this.$1.owner_type=a;return this};c.setPerfTimeMs=function(a){this.$1.perf_time_ms=a;return this};c.setPersonalizedDynamicOrder=function(a){this.$1.personalized_dynamic_order=a;return this};c.setPlaybackIsLiveStreaming=function(a){this.$1.playback_is_live_streaming=a;return this};c.setPlayerFormat=function(a){this.$1.player_format=a;return this};c.setPlayerOrigin=function(a){this.$1.player_origin=a;return this};c.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};c.setPlayerVersion=function(a){this.$1.player_version=a;return this};c.setPositionInChannel=function(a){this.$1.position_in_channel=a;return this};c.setPreviousState=function(a){this.$1.previous_state=a;return this};c.setPreviousTvSessionID=function(a){this.$1.previous_tv_session_id=a;return this};c.setProjection=function(a){this.$1.projection=a;return this};c.setReferer=function(a){this.$1.referer=a;return this};c.setRetryCount=function(a){this.$1.retry_count=a;return this};c.setSectionTypeOverride=function(a){this.$1.section_type_override=a;return this};c.setSessionFailureCode=function(a){this.$1.session_failure_code=a;return this};c.setSessionFailureDescription=function(a){this.$1.session_failure_description=a;return this};c.setShowVideoType=function(a){this.$1.show_video_type=a;return this};c.setStallCount=function(a){this.$1.stall_count=a;return this};c.setStallTimeForStartMs=function(a){this.$1.stall_time_for_start_ms=a;return this};c.setStallTimeMs=function(a){this.$1.stall_time_ms=a;return this};c.setStoryID=function(a){this.$1.story_id=a;return this};c.setStreamingFormat=function(a){this.$1.streaming_format=a;return this};c.setTabType=function(a){this.$1.tab_type=a;return this};c.setThirdPartyAppID=function(a){this.$1.third_party_app_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTvAppVersion=function(a){this.$1.tv_app_version=a;return this};c.setTvSeqNum=function(a){this.$1.tv_seq_num=a;return this};c.setTvSessionID=function(a){this.$1.tv_session_id=a;return this};c.setTvTimeMs=function(a){this.$1.tv_time_ms=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoChannelID=function(a){this.$1.video_channel_id=a;return this};c.setVideoIDOverride=function(a){this.$1.video_id_override=a;return this};c.setViewCount=function(a){this.$1.view_count=a;return this};c.setViewCount100=function(a){this.$1.view_count_100=a;return this};c.setViewCount10s=function(a){this.$1.view_count_10s=a;return this};c.setViewCount15s=function(a){this.$1.view_count_15s=a;return this};c.setViewCount30s=function(a){this.$1.view_count_30s=a;return this};c.setViewCount75=function(a){this.$1.view_count_75=a;return this};c.setViewCount95=function(a){this.$1.view_count_95=a;return this};c.setViewportDuration=function(a){this.$1.viewport_duration=a;return this};c.setVoiceOverEnabled=function(a){this.$1.voice_over_enabled=a;return this};c.setWatchTimeChannelMs=function(a){this.$1.watch_time_channel_ms=a;return this};c.setWatchTimeFullScreenMs=function(a){this.$1.watch_time_full_screen_ms=a;return this};c.setWatchTimeInlineMs=function(a){this.$1.watch_time_inline_ms=a;return this};c.setWatchTimeMs=function(a){this.$1.watch_time_ms=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={access_token:!0,action_method:!0,action_surface:!0,action_target:!0,campaign_id:!0,cast_activity_name:!0,cast_client_app_id:!0,cast_client_app_version:!0,cast_client_seq_num:!0,cast_client_time_ms:!0,cast_device_count:!0,cast_session_id:!0,casting_device_type:!0,chaining_depth_level:!0,client_session_start_time_ms:!0,client_video_bandwidth:!0,device_unique_id:!0,duration_ms:!0,error_details:!0,error_message:!0,event:!0,event_description:!0,experience:!0,experience_view:!0,external_log_id:!0,external_log_type:!0,graphql_query_name:!0,initial_cast:!0,initial_login:!0,is_app_visible:!0,is_first_load_after_install:!0,is_google_cast_bg:!0,is_show_video:!0,manufacturer:!0,memory_size:!0,min_count_num_fetched:!0,model_name:!0,most_recent_sender_user_agent:!0,num_dynamic_sections:!0,os_version:!0,owner_id:!0,owner_type:!0,perf_time_ms:!0,personalized_dynamic_order:!0,playback_is_live_streaming:!0,player_format:!0,player_origin:!0,player_suborigin:!0,player_version:!0,position_in_channel:!0,previous_state:!0,previous_tv_session_id:!0,projection:!0,referer:!0,retry_count:!0,section_type_override:!0,session_failure_code:!0,session_failure_description:!0,show_video_type:!0,stall_count:!0,stall_time_for_start_ms:!0,stall_time_ms:!0,story_id:!0,streaming_format:!0,tab_type:!0,third_party_app_id:!0,time:!0,tv_app_version:!0,tv_seq_num:!0,tv_session_id:!0,tv_time_ms:!0,vc:!0,video_channel_id:!0,video_id_override:!0,view_count:!0,view_count_100:!0,view_count_10s:!0,view_count_15s:!0,view_count_30s:!0,view_count_75:!0,view_count_95:!0,viewport_duration:!0,voice_over_enabled:!0,watch_time_channel_ms:!0,watch_time_full_screen_ms:!0,watch_time_inline_ms:!0,watch_time_ms:!0,weight:!0};e.exports=a}),null);
__d("ChromecastScanner",["regeneratorRuntime","Promise","ChromecastAPI","ChromecastScannerEnum","ChromecastSession","ChromecastSessionEnum","ConnectedTVTypedLogger","EventEmitter","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("ChromecastAPI").getSenderAPI,i=3*60*1e3;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);c.getInstance=function(a,d,e){var f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:f=new c(a,d,e);g.next=3;return b("regeneratorRuntime").awrap(f.ready());case 3:return g.abrupt("return",f);case 4:case"end":return g.stop()}},null,this)};function c(b,c,d){__p&&__p();var e;e=a.call(this)||this;e.$ChromecastScanner1=b||null;e.$ChromecastScanner2=c||null;e.$ChromecastScanner3=d||!1;e.$ChromecastScanner6=!1;e.$ChromecastScanner4=!1;e.$ChromecastScanner5=!1;e.$ChromecastScanner7=new Set();e.$ChromecastScanner8=e.$ChromecastScanner9();return e}var d=c.prototype;d.$ChromecastScanner9=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(h());case 2:a=c.sent;this.$ChromecastScanner5=!0;this.$ChromecastScanner5&&this.$ChromecastScanner1===null&&(this.$ChromecastScanner1=a.media.DEFAULT_MEDIA_RECEIVER_APP_ID);c.prev=5;c.next=8;return b("regeneratorRuntime").awrap(this.$ChromecastScanner10());case 8:this.emit(b("ChromecastScannerEnum").INIT);if(!this.$ChromecastScanner3){c.next=12;break}c.next=12;return b("regeneratorRuntime").awrap(this.scanForReceivers());case 12:c.next=18;break;case 14:c.prev=14;c.t0=c["catch"](5);this.emit(b("ChromecastScannerEnum").ERROR,c.t0);throw c.t0;case 18:case"end":return c.stop()}},null,this,[[5,14]])};d.ready=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$ChromecastScanner8);case 2:case"end":return a.stop()}},null,this)};d.destroy=function(){this.removeAllListeners(),this.$ChromecastScanner7.forEach(function(a){return a.destroy()})};d.hasSupport=function(){return this.$ChromecastScanner5};d.hasFoundReceiver=function(){return this.$ChromecastScanner6};d.scanForReceivers=function(){__p&&__p();var a=this,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:if(!this.$ChromecastScanner4){e.next=2;break}return e.abrupt("return");case 2:this.$ChromecastScanner4=!0;e.next=5;return b("regeneratorRuntime").awrap(h());case 5:c=e.sent;d=new(b("Promise"))(function(d,e){var f=function(c){c=a.$ChromecastScanner11(c);a.emit(b("ChromecastScannerEnum").SESSION_STARTED,c)},g=function(e){a.$ChromecastScanner6=e===c.ReceiverAvailability.AVAILABLE,a.emit(b("ChromecastScannerEnum").RECEIVER_STATUS_CHANGED,{foundReceiver:a.$ChromecastScanner6}),d()};f=new c.ApiConfig(new c.SessionRequest(a.$ChromecastScanner1),f,g,c.AutoJoinPolicy.ORIGIN_SCOPED,c.DefaultActionPolicy.CAST_THIS_TAB);c.initialize(f,b("emptyFunction"),e)});d=d["catch"](function(c){a.$ChromecastScanner4=!1;a.emit(b("ChromecastScannerEnum").ERROR,c);throw c});e.next=10;return b("regeneratorRuntime").awrap(d);case 10:case"end":return e.stop()}},null,this)};d.getSession=function(){__p&&__p();var a=this,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:if(this.$ChromecastScanner6){f.next=2;break}throw new Error("No receivers found");case 2:this.emit(b("ChromecastScannerEnum").SESSION_REQUESTED);c=this.$ChromecastScanner12();c["catch"](function(c){a.emit(b("ChromecastScannerEnum").SESSION_CANCELLED);a.emit(b("ChromecastScannerEnum").SESSION_DISCONNECTED);throw c});f.next=7;return b("regeneratorRuntime").awrap(c);case 7:d=f.sent;e=this.$ChromecastScanner11(d);this.$ChromecastScanner7.add(e);this.emit(b("ChromecastScannerEnum").SESSION_STARTED,e);return f.abrupt("return",e);case 12:case"end":return f.stop()}},null,this)};d.$ChromecastScanner12=function(){__p&&__p();var a=this,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(h());case 2:c=e.sent;e.next=5;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(d,e){new(b("ConnectedTVTypedLogger"))().setEvent("sender_session_requested").log();var f=(g||(g=b("performanceAbsoluteNow")))(),h=new c.SessionRequest(a.$ChromecastScanner1,[c.Capability.VIDEO_OUT,c.Capability.AUDIO_OUT],i);c.requestSession(function(a){new(b("ConnectedTVTypedLogger"))().setEvent("sender_session_started").setPerfTimeMs(Math.floor((g||(g=b("performanceAbsoluteNow")))()-f)).log();return d(a)},function(a){new(b("ConnectedTVTypedLogger"))().setEvent("sender_session_failed").setSessionFailureCode(a.code).setSessionFailureDescription(a.description).setPerfTimeMs(Math.floor((g||(g=b("performanceAbsoluteNow")))()-f)).log();return e(a)},h)}));case 5:d=e.sent;return e.abrupt("return",d);case 7:case"end":return e.stop()}},null,this)};d.$ChromecastScanner11=function(a){var c=this,d=new(b("ChromecastSession"))(this.$ChromecastScanner1||"",this.$ChromecastScanner2||"",a);d.addListener(b("ChromecastSessionEnum").DISCONNECTING,function(){c.emit(b("ChromecastScannerEnum").SESSION_DISCONNECTING,d)});d.addListener(b("ChromecastSessionEnum").DISCONNECTED,function(){c.emit(b("ChromecastScannerEnum").SESSION_DISCONNECTED,d),c.$ChromecastScanner7["delete"](d)});d.addListener(b("ChromecastSessionEnum").ERROR,function(a){c.emit(b("ChromecastScannerEnum").ERROR,a)});return d};d.$ChromecastScanner10=function(){__p&&__p();var a=this,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(h());case 2:c=d.sent,c.addReceiverActionListener(function(d,e){switch(e){case c.ReceiverAction.CAST:a.emit(b("ChromecastScannerEnum").CAST,d);break;case c.ReceiverAction.STOP:a.$ChromecastScanner7.forEach(function(a){return a.disconnect()});break}});case 4:case"end":return d.stop()}},null,this)};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAccessToken=function(a){this.$1.access_token=a;return this};c.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};c.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=a;return this};c.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};c.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};c.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};c.setCode=function(a){this.$1.code=a;return this};c.setConcluder=function(a){this.$1.concluder=a;return this};c.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};c.setContentLengthHeader=function(a){this.$1.content_length_header=a;return this};c.setDevicePixelRatioFloat=function(a){this.$1.device_pixel_ratio_float=a;return this};c.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};c.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};c.setEdgeHitHeader=function(a){this.$1.edge_hit_header=a;return this};c.setEnded=function(a){this.$1.ended=a;return this};c.setError=function(a){this.$1.error=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExpectedLength=function(a){this.$1.expected_length=a;return this};c.setInitiator=function(a){this.$1.initiator=a;return this};c.setIsDrm=function(a){this.$1.is_drm=a;return this};c.setIsLive=function(a){this.$1.is_live=a;return this};c.setIsMuted=function(a){this.$1.is_muted=a;return this};c.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};c.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};c.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};c.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};c.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};c.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};c.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};c.setLength=function(a){this.$1.length=a;return this};c.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};c.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};c.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};c.setManifestType=function(a){this.$1.manifest_type=a;return this};c.setMediastreamEventCount=function(a){this.$1.mediastream_event_count=a;return this};c.setOriginHitHeader=function(a){this.$1.origin_hit_header=a;return this};c.setParentID=function(a){this.$1.parent_id=a;return this};c.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};c.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};c.setPlayerVersion=function(a){this.$1.player_version=a;return this};c.setPlayhead=function(a){this.$1.playhead=a;return this};c.setPreloadTime=function(a){this.$1.preload_time=a;return this};c.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};c.setPriorityFloat=function(a){this.$1.priority_float=a;return this};c.setPushed=function(a){this.$1.pushed=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setRepresentationID=function(a){this.$1.representation_id=a;return this};c.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};c.setResource=function(a){this.$1.resource=a;return this};c.setResult=function(a){this.$1.result=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSegmentCount=function(a){this.$1.segment_count=a;return this};c.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};c.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};c.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};c.setSequentialID=function(a){this.$1.sequential_id=a;return this};c.setSession=function(a){this.$1.session=a;return this};c.setState=function(a){this.$1.state=a;return this};c.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};c.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};c.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};c.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};c.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};c.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};c.setTotalFrames=function(a){this.$1.total_frames=a;return this};c.setType=function(a){this.$1.type=a;return this};c.setUpdatePeriod=function(a){this.$1.update_period=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoDuration=function(a){this.$1.video_duration=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};c.setWasDelayed=function(a){this.$1.was_delayed=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={access_token:!0,additional_buffered_ranges:!0,appended_buffer_ms:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,content_length_header:!0,device_pixel_ratio_float:!0,dropped_frames:!0,dynamic_bitrate:!0,edge_hit_header:!0,ended:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_drm:!0,is_live:!0,is_muted:!0,is_page_visible:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,mediastream_event_count:!0,origin_hit_header:!0,parent_id:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_count:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0,weight:!0};e.exports=a}),null);
__d("CastingExperienceManager",["invariant","regeneratorRuntime","Promise","ChromecastConfig","ChromecastScanner","ChromecastScannerEnum","EventEmitter","Random","SubscriptionsHandler","WebStorage","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=(h||b("WebStorage")).getLocalStorage(),j=null;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var d;d=a.call(this)||this;d.$CastingExperienceManager5=new(b("ChromecastScanner"))(b("ChromecastConfig").APP_ID,b("ChromecastConfig").NAMESPACE,b("ChromecastConfig").AUTO_SCAN);d.$CastingExperienceManager2=null;d.$CastingExperienceManager1=!1;d.$CastingExperienceManager4=0;d.$CastingExperienceManager7=null;d.$CastingExperienceManager10=new Map();var e=new(b("SubscriptionsHandler"))();e.addSubscriptions(d.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").RECEIVER_STATUS_CHANGED,function(a){return d.$CastingExperienceManager11(a)}),d.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").SESSION_DISCONNECTED,function(){return d.$CastingExperienceManager12()}),d.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").SESSION_STARTED,function(a){return d.$CastingExperienceManager13(a)}),d.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").SESSION_DISCONNECTED,function(){return d.$CastingExperienceManager14()}),d.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").ERROR,function(a){return d.$CastingExperienceManager15(a)}));d.$CastingExperienceManager8=d.$CastingExperienceManager5.ready();b("promiseDone")(d.$CastingExperienceManager8.then(function(){d.$CastingExperienceManager2=!0,d.$CastingExperienceManager1=!0,d.emit(c.READY)},function(a){d.$CastingExperienceManager2=!1,e.release(),d.emit(c.NOT_SUPPORTED,a)}));return d}c.getInstance=function(){j||(j=new c());return j};var d=c.prototype;d.ready=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$CastingExperienceManager8);case 2:case"end":return a.stop()}},null,this)};d.getLastError=function(){return this.$CastingExperienceManager3};d.hasSupport=function(){return this.$CastingExperienceManager2};d.hasFoundReceiver=function(){return this.$CastingExperienceManager5.hasFoundReceiver()};d.getSession=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.ready());case 2:if(!this.$CastingExperienceManager6){d.next=4;break}return d.abrupt("return",this.$CastingExperienceManager6);case 4:this.$CastingExperienceManager9||(this.$CastingExperienceManager9=this.$CastingExperienceManager16());a=null;d.prev=6;d.next=9;return b("regeneratorRuntime").awrap(this.$CastingExperienceManager9);case 9:a=d.sent;d.next=16;break;case 12:d.prev=12;d.t0=d["catch"](6);this.emit(c.ERROR,d.t0);throw d.t0;case 16:d.prev=16;this.$CastingExperienceManager9=null;return d.finish(16);case 19:return d.abrupt("return",a);case 20:case"end":return d.stop()}},null,this,[[6,12,16,19]])};d.$CastingExperienceManager16=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$CastingExperienceManager5.getSession());case 2:a=c.sent;this.$CastingExperienceManager6||(this.$CastingExperienceManager6=a);return c.abrupt("return",this.$CastingExperienceManager6);case 5:case"end":return c.stop()}},null,this)};d.isRequestingSession=function(){return!!this.$CastingExperienceManager9};d.getSessionKey=function(){var a=null;i&&(a=i.getItem("CastingSessionKey"));a||(a=b("Random").uint32().toString(16),i&&i.setItem("CastingSessionKey",a));return a};d.isCasting=function(a){var b=!!this.$CastingExperienceManager6&&this.$CastingExperienceManager6.isCasting();b&&a&&(b=!!this.$CastingExperienceManager7&&this.$CastingExperienceManager7.indexOf(a)>=0);return b};d.startCasting=function(a,c,d){__p&&__p();var e,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:if(this.isCasting(a)){h.next=13;break}e=null;if(!(b("ChromecastConfig").VERSION_LAUNCH_MESSAGE&&d)){h.next=8;break}h.next=5;return b("regeneratorRuntime").awrap(this.sendVersionLaunch(a,c,d));case 5:e=h.sent;h.next=11;break;case 8:h.next=10;return b("regeneratorRuntime").awrap(this.sendLaunch(a));case 10:e=h.sent;case 11:(f=e,g=f.target),this.$CastingExperienceManager7=g;case 13:case"end":return h.stop()}},null,this)};d.stopCasting=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(!this.isCasting()){c.next=6;break}c.next=3;return b("regeneratorRuntime").awrap(this.getSession());case 3:a=c.sent;c.next=6;return b("regeneratorRuntime").awrap(a.disconnect());case 6:this.$CastingExperienceManager17();case 7:case"end":return c.stop()}},null,this)};d.$CastingExperienceManager17=function(){this.$CastingExperienceManager6=null,this.$CastingExperienceManager7=null};d.getTarget=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(this.$CastingExperienceManager7){d.next=10;break}d.next=3;return b("regeneratorRuntime").awrap(this.getSession());case 3:d.next=5;return b("regeneratorRuntime").awrap(this.sendVersion());case 5:a=d.sent;c=a.currently_running_experience;if(c){d.next=9;break}throw new Error("Session has no target");case 9:this.$CastingExperienceManager7=c;case 10:return d.abrupt("return",this.$CastingExperienceManager7);case 11:case"end":return d.stop()}},null,this)};d.setVolume=function(a){this.isCasting()&&(this.$CastingExperienceManager6&&this.$CastingExperienceManager6.setVolume(a))};d.mute=function(){this.isCasting()&&(this.$CastingExperienceManager6&&this.$CastingExperienceManager6.mute())};d.unmute=function(){this.isCasting()&&(this.$CastingExperienceManager6&&this.$CastingExperienceManager6.unmute())};d.isFeedbackEnabled=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.getExperienceState());case 2:a=d.sent;c=a.feedback_disabled;return d.abrupt("return",!!c);case 5:case"end":return d.stop()}},null,this)};d.setFeedbackEnabled=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(this.isCasting()){d.next=2;break}return d.abrupt("return");case 2:c=a?"turn_on_feedback":"turn_off_feedback";d.next=5;return b("regeneratorRuntime").awrap(this.sendCommand(c));case 5:case"end":return d.stop()}},null,this)};d.sendMessage=function(a,c,d){__p&&__p();var e,f;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(this.getSession());case 2:e=h.sent;e||g(0,4274);f={target:a,type:c,data:d,num:this.$CastingExperienceManager4+=2,timestamp:Date.now()};h.next=7;return b("regeneratorRuntime").awrap(e.sendMessage(f));case 7:return h.abrupt("return",{msgNum:f.num});case 8:case"end":return h.stop()}},null,this)};d.receiveMessage=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.getSession());case 2:c=d.sent;c||g(0,4763);return d.abrupt("return",new(b("Promise"))(function(b,d){var e=c.addListener("message",function(c){try{c=JSON.parse(c);var f=!a||a(c);f&&(e.remove(),b(c))}catch(a){e.remove(),d(a)}})}));case 5:case"end":return d.stop()}},null,this)};d.sendVersion=function(){__p&&__p();var a,d,e,f;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:a=this.getSessionKey();h.next=3;return b("regeneratorRuntime").awrap(this.sendMessage("version","version_request",{version:c.VERSION,client_cast_session:a}));case 3:d=h.sent;e=d.msgNum;h.next=7;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===e}));case 7:f=h.sent;f.type==="version_response"||g(0,4764);f.data||g(0,4765);return h.abrupt("return",f.data);case 11:case"end":return h.stop()}},null,this)};d.sendLaunch=function(a){__p&&__p();var c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.sendMessage("experience","launch",{name:a}));case 2:c=f.sent;d=c.msgNum;f.next=6;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===d}));case 6:e=f.sent;e.type==="launch_response"||g(0,4766);return f.abrupt("return",e.data);case 9:case"end":return f.stop()}},null,this)};d.sendVersionLaunch=function(a,d,e){__p&&__p();var f,h,i,j;return b("regeneratorRuntime").async(function(k){__p&&__p();while(1)switch(k.prev=k.next){case 0:f=this.getSessionKey();k.next=3;return b("regeneratorRuntime").awrap(this.sendMessage("version_launch","version_launch",{version:c.VERSION,client_cast_session:f,name:a,params:d,payload:e}));case 3:h=k.sent;i=h.msgNum;k.next=7;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===i}));case 7:j=k.sent;j.type==="version_launch_response"||g(0,4767);return k.abrupt("return",j.data);case 10:case"end":return k.stop()}},null,this)};d.sendCommand=function(a,d,e){__p&&__p();var f,h,i,j;return b("regeneratorRuntime").async(function(k){__p&&__p();while(1)switch(k.prev=k.next){case 0:k.next=2;return b("regeneratorRuntime").awrap(this.getTarget());case 2:f=k.sent;k.next=5;return b("regeneratorRuntime").awrap(this.sendMessage(f,"experience_command",{cmd:a,params:d,payload:e}));case 5:h=k.sent;i=h.msgNum;k.next=9;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===i}));case 9:j=k.sent;j.type==="command_result"||g(0,4768);a==="stop_showing_photo"&&this.emit(c.STOP_VIEW);return k.abrupt("return",j.data);case 13:case"end":return k.stop()}},null,this)};d.getExperienceState=function(a){__p&&__p();var c=this,d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:d=a||"";e=this.$CastingExperienceManager10.get(d);e||(e=this.$CastingExperienceManager18(a),this.$CastingExperienceManager10.set(d,e),f=function(){return c.$CastingExperienceManager10["delete"](d)},b("promiseDone")(e.then(f,f)));return g.abrupt("return",e);case 4:case"end":return g.stop()}},null,this)};d.$CastingExperienceManager18=function(a){__p&&__p();var c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:if(a){f.next=4;break}f.next=3;return b("regeneratorRuntime").awrap(this.getTarget());case 3:a=f.sent;case 4:f.next=6;return b("regeneratorRuntime").awrap(this.sendMessage(a,"get_experience_state",{}));case 6:c=f.sent;d=c.msgNum;f.next=10;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===d}));case 10:e=f.sent;e.type==="experience_state"||g(0,4769);return f.abrupt("return",e.data);case 13:case"end":return f.stop()}},null,this)};d.$CastingExperienceManager11=function(a){a=a.foundReceiver;this.emit(c.RECEIVER_STATUS_CHANGED,!!a)};d.$CastingExperienceManager12=function(){this.$CastingExperienceManager17(),this.emit(c.RECEIVER_DISCONNECTED)};d.$CastingExperienceManager13=function(a){__p&&__p();var d=this,e,f,g,h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:this.$CastingExperienceManager6=a;e="extension";this.$CastingExperienceManager9&&(e="site");i.next=5;return b("regeneratorRuntime").awrap(this.sendVersion());case 5:f=i.sent;g=f.success;h=f.currently_running_experience;if(g){i.next=10;break}throw new Error("Failed to sync versions with session");case 10:h&&(this.$CastingExperienceManager7=h),this.emit(c.SESSION_STARTED,{session:a,source:e,success:g,target:this.$CastingExperienceManager7}),a.addListener("message",function(a){try{a=JSON.parse(a);d.$CastingExperienceManager19(a)}catch(a){d.emit(c.ERROR,a)}});case 13:case"end":return i.stop()}},null,this)};d.$CastingExperienceManager14=function(){var a=this.$CastingExperienceManager6;this.$CastingExperienceManager17();this.emit(c.SESSION_DISCONNECTED,a)};d.$CastingExperienceManager19=function(a){this.emit(c.SESSION_MESSAGE,a),a.type==="experience_ended"&&(this.$CastingExperienceManager7=null,this.emit(c.EXPERIENCE_ENDED))};d.$CastingExperienceManager15=function(a){this.$CastingExperienceManager3=a,this.emit(c.ERROR,a)};return c}(b("EventEmitter"));a.VERSION="1.2.0";a.RECEIVER_STATUS_CHANGED="receiverstatuschanged";a.RECEIVER_DISCONNECTED="receiverdisconnected";a.SESSION_STARTED="sessionstarted";a.SESSION_MESSAGE="sessionmessage";a.SESSION_DISCONNECTED="sessiondisconnected";a.EXPERIENCE_ENDED="experienceended";a.ERROR="error";a.NOT_SUPPORTED="notsupported";a.READY="ready";a.STOP_VIEW="stopview";e.exports=a}),null);
__d("StreamingReactionsTrayEvents",[],(function(a,b,c,d,e,f){a="streamingReactionsTray/AddReactionAnimate";b="streamingReactionsTray/HideChannelViewDetails";c="streamingReactionsTray/ShowChannelViewDetails";d="streamingReactionsTray/UpdateSurface";f="streamingReactionsTray/ResizeChannelViewWindow";var g="streamingReactionsTray/ReactionStateChange",h="streamingReactionsTray/FireworksAnimating",i="streamingReactionsTray/DisableReactions",j="streamingReactionsTray/EnableReactions";a={AddReactionAnimate:a,HideChannelViewDetails:b,ReactionStateChange:g,ResizeChannelViewWindow:f,ShowChannelViewDetails:c,UpdateSurface:d,FireworksAnimating:h,DisableReactions:i,EnableReactions:j};e.exports=a}),null);
__d("XCastingVideoPayloadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/cast/async/video/payload/",{})}),null);
__d("VideoCastingComponent",["cx","invariant","regeneratorRuntime","Promise","Arbiter","AsyncRequest","CastingExperienceManager","ChromecastConfig","CSS","FunnelLogger","Random","ScriptPath","StreamingReactionsTrayEvents","SubscriptionsHandler","XCastingVideoPayloadAsyncController","collectDataAttributes","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="WWW_VIDEOS_CASTING_FUNNEL";a=function(){__p&&__p();function a(a,c){__p&&__p();var d=this,e;this.$1=b("ChromecastConfig").EXPERIENCE_NAME;this.$2=(e=b("CastingExperienceManager")).getInstance();this.$3=a;this.$4=!1;this.$5=!1;this.$6=!1;this.$7=null;this.$9=null;this.$13=null;this.$8=c;this.$10=new(b("SubscriptionsHandler"))();b("CSS").addClass(this.$3.getVideoNode(),"_1_d1");a.registerOption("casting","isSupported",function(){return d.$2.hasSupport()});a.registerOption("casting","hasFoundReceiver",function(){return d.$2.hasFoundReceiver()});a.registerOption("casting","isCasting",function(){return d.$4},function(a){return b("promiseDone")(d.$14(a))});a.registerOption("casting","isPlaying",function(){return d.$6},function(a){return b("promiseDone")(d.$15(a))});a.registerOption("casting","lastError",function(){return d.$2.getLastError()});this.$10.addSubscriptions(this.$2.addListener(e.RECEIVER_STATUS_CHANGED,function(a){return b("promiseDone")(d.$16(a))}),this.$2.addListener(e.RECEIVER_DISCONNECTED,function(){return b("promiseDone")(d.$17())}),this.$2.addListener(e.SESSION_DISCONNECTED,function(){return b("promiseDone")(d.$17())}),this.$2.addListener(e.EXPERIENCE_ENDED,function(){return b("promiseDone")(d.$17())}),this.$2.addListener(e.NOT_SUPPORTED,function(){return b("promiseDone")(d.$18())}),this.$2.addListener(e.READY,function(){return b("promiseDone")(d.$19())}),this.$2.addListener(e.SESSION_MESSAGE,function(a){return b("promiseDone")(d.$20(a))}),this.$2.addListener(e.ERROR,function(a){return b("promiseDone")(d.$21(a))}),this.$3.addListener("seekEnd",function(a){a=a.position;d.$3.isLiveVideo()||b("promiseDone")(d.$22(a))}),this.$3.addListener("muteVideo",function(){b("promiseDone")(d.$23())}),this.$3.addListener("unmuteVideo",function(){b("promiseDone")(d.$24())}),this.$3.addListener("changeVolume",function(a){a=a.volume;b("promiseDone")(d.$25(a))}),this.$3.addListener("stateChange",function(){d.$3.isState("destroyed")&&d.destroy(),d.$3.isState("playing")&&b("promiseDone")(d.$26())}),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").HideChannelViewDetails,function(){return b("promiseDone")(d.$27(!0))}),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").ShowChannelViewDetails,function(){return b("promiseDone")(d.$27(!1))}))}var c=a.prototype;c.destroy=function(){this.$10.release()};c.$28=function(a){a in b("FunnelLogger")||h(0,2601);this.$11||(this.$11=b("Random").uint32(),b("FunnelLogger").startFunnel(i,this.$11));for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];b("FunnelLogger")[a].apply(b("FunnelLogger"),[i,this.$11].concat(d))};c.$29=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:this.$7||(this.$7=this.$30());a.next=3;return b("regeneratorRuntime").awrap(this.$7);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},null,this)};c.$30=function(){__p&&__p();var a,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a=b("XCastingVideoPayloadAsyncController").getURIBuilder().getURI();c=this.$31();e.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(d,e){new(b("AsyncRequest"))().setURI(a).setMethod("POST").setData(c).setErrorHandler(function(a){return e(new Error(a.errorDescription))}).setHandler(function(a){return d(a.getPayload())}).send()}));case 4:d=e.sent;return e.abrupt("return",d);case 6:case"end":return e.stop()}},null,this)};c.$31=function(){var a=babelHelpers["extends"]({},this.$8,{video_id:this.$3.getVideoID(),is_ad:this.$3.isAd(),script_path:b("ScriptPath").getScriptPath()}),c=this.$3.getVideoChannelID();c&&(a.video_channel_id=c);c=this.$3.getPlayerOrigin();c&&(a.player_origin=c);c=this.$3.getPlayerSuborigin();c&&(a.player_suborigin=c);c=b("collectDataAttributes")(this.$3.getRootNode(),["ft"]);c&&c.ft&&(a.tracking_codes=[JSON.stringify(c.ft)]);return a};c.$14=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:this.$3.logEvent("chromecast_button_clicked");if(!a){c.next=19;break}this.$4=!0;this.$3.emit("casting/castingStateChange",this.$4);this.$3.isState("playing")&&this.$3.pause("user_initiated");c.prev=5;this.$28("appendAction","cast_attempted");c.next=9;return b("regeneratorRuntime").awrap(this.$32());case 9:this.$28("appendAction","cast_started");c.next=17;break;case 12:c.prev=12,c.t0=c["catch"](5),this.$28("appendAction","cast_failed"),this.$4=!1,this.$3.emit("casting/castingStateChange",this.$4);case 17:c.next=23;break;case 19:this.$4=!1;this.$3.emit("casting/castingStateChange",this.$4);c.next=23;return b("regeneratorRuntime").awrap(this.$33());case 23:case"end":return c.stop()}},null,this,[[5,12]])};c.$32=function(){__p&&__p();var a,c,d,e,f,g,h,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:this.$3.pause("user_initiated");a=this.$3.getCurrentTimePosition();this.$13=a;c=this.$29();d=this.$2.isCasting(this.$1);if(d){o.next=21;break}this.$28("appendAction","session_requested");if(!b("ChromecastConfig").VERSION_LAUNCH_MESSAGE){o.next=18;break}o.next=10;return b("regeneratorRuntime").awrap(b("Promise").all([c,this.$2.getSession()]));case 10:e=o.sent;f=e[0];o.next=14;return b("regeneratorRuntime").awrap(this.$34(!0));case 14:o.next=16;return b("regeneratorRuntime").awrap(this.$2.startCasting(this.$1,{position:a},f));case 16:o.next=20;break;case 18:o.next=20;return b("regeneratorRuntime").awrap(this.$2.startCasting(this.$1));case 20:this.$28("appendAction","session_started");case 21:o.next=23;return b("regeneratorRuntime").awrap(this.$34(!0));case 23:o.next=25;return b("regeneratorRuntime").awrap(this.$2.getSession());case 25:g=o.sent;h=g.getVolume();!g.isMuted()&&h&&(this.$3.unmute(),this.$3.setVolume(h));if(!(!d&&b("ChromecastConfig").VERSION_LAUNCH_MESSAGE)){o.next=30;break}return o.abrupt("return");case 30:o.next=32;return b("regeneratorRuntime").awrap(this.$35());case 32:i=o.sent;j=!!i.playing_video_id;k=this.$9&&i.playing_video_id===this.$9;if(!(!j||!k)){o.next=42;break}o.next=38;return b("regeneratorRuntime").awrap(c);case 38:l=o.sent;this.$28("appendAction","request_next_video");o.next=42;return b("regeneratorRuntime").awrap(this.$36(l));case 42:if(!(!j||k)){o.next=51;break}this.$28("appendAction","request_playing");o.next=46;return b("regeneratorRuntime").awrap(this.$37(a));case 46:m=o.sent;this.$28("appendAction","playing");this.$9=m.reference_id;o.next=60;break;case 51:this.$9=null;this.$28("appendAction","request_skip");o.next=55;return b("regeneratorRuntime").awrap(this.$38());case 55:o.next=57;return b("regeneratorRuntime").awrap(this.$39(a));case 57:n=o.sent,this.$28("appendAction","playing"),this.$9=n.reference_id;case 60:case"end":return o.stop()}},null,this)};c.$33=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:if(!this.$6){a.next=4;break}a.next=3;return b("regeneratorRuntime").awrap(this.$40());case 3:this.$6=!1;case 4:a.next=6;return b("regeneratorRuntime").awrap(this.$41());case 6:case"end":return a.stop()}},null,this)};c.$15=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(!a){c.next=5;break}c.next=3;return b("regeneratorRuntime").awrap(this.$37());case 3:c.next=7;break;case 5:c.next=7;return b("regeneratorRuntime").awrap(this.$42());case 7:this.$6=a,this.$3.emit("casting/playStateChange",this.$6);case 9:case"end":return c.stop()}},null,this)};c.$34=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:b("CSS").conditionClass(this.$3.getVideoNode(),"_1_d3",a);case 1:case"end":return c.stop()}},null,this)};c.$43=function(a){return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:typeof a!=="number"&&(a=this.$13),this.$3.seek(a);case 2:case"end":return b.stop()}},null,this)};c.$27=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.setFeedbackEnabled(!a));case 2:this.$5=a;case 3:case"end":return c.stop()}},null,this)};c.$41=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:this.$6&&(this.$6=!1,this.$3.emit("casting/playStateChange",this.$6));this.$4&&(this.$4=!1,this.$3.emit("casting/castingStateChange",this.$4));if(!(typeof this.$13==="number")){a.next=5;break}a.next=5;return b("regeneratorRuntime").awrap(this.$43());case 5:a.next=7;return b("regeneratorRuntime").awrap(this.$34(!1));case 7:case"end":return a.stop()}},null,this)};c.$20=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(!this.$4){c.next=4;break}if(!(a.type==="status_update")){c.next=4;break}c.next=4;return b("regeneratorRuntime").awrap(this.$44(a.data));case 4:case"end":return c.stop()}},null,this)};c.$44=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(!(this.$9&&this.$9!==a.reference_id)){d.next=4;break}d.next=3;return b("regeneratorRuntime").awrap(this.$41());case 3:return d.abrupt("return");case 4:c=a.state==="play",c!==this.$6&&(this.$6=c,this.$3.emit("casting/playStateChange",this.$6)),a.position>0&&(this.$13=a.position,this.$3.emit("casting/updateStatus",{position:a.position}));case 7:case"end":return d.stop()}},null,this)};c.$22=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(this.$4){c.next=2;break}return c.abrupt("return");case 2:c.next=4;return b("regeneratorRuntime").awrap(this.$39(a));case 4:if(this.$6){c.next=7;break}c.next=7;return b("regeneratorRuntime").awrap(this.$15(!0));case 7:case"end":return c.stop()}},null,this)};c.$25=function(a){__p&&__p();return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:if(this.$4){b.next=2;break}return b.abrupt("return");case 2:this.$2.setVolume(a);case 3:case"end":return b.stop()}},null,this)};c.$23=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(this.$4){a.next=2;break}return a.abrupt("return");case 2:this.$2.mute();case 3:case"end":return a.stop()}},null,this)};c.$24=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(this.$4){a.next=2;break}return a.abrupt("return");case 2:this.$2.unmute();case 3:case"end":return a.stop()}},null,this)};c.$16=function(a){var c;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:a&&this.$28("appendActionIfNew","found_receiver"),this.$3.logEvent("chromecast_availability_checked",(c={player:this.$3.getPlayerVersion(),cast_button_visible:a,connection:null,raw_client_time:Date.now()/1e3},c.chromecast_receiver_available=a,c)),this.$3.emit("casting/receiverStateChange",a);case 3:case"end":return b.stop()}},null,this)};c.$17=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:this.$28("appendAction","session_disconnected");a.next=3;return b("regeneratorRuntime").awrap(this.$41());case 3:case"end":return a.stop()}},null,this)};c.$19=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:this.$3.emit("casting/supportStateChange");case 1:case"end":return a.stop()}},null,this)};c.$18=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:this.$3.logEvent("chromecast_not_supported"),this.$3.emit("casting/notSupported");case 2:case"end":return a.stop()}},null,this)};c.$26=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:if(!this.$4){a.next=9;break}this.$3.pause("user_initiated");if(!this.$6){a.next=7;break}a.next=5;return b("regeneratorRuntime").awrap(this.$42());case 5:a.next=9;break;case 7:a.next=9;return b("regeneratorRuntime").awrap(this.$37());case 9:case"end":return a.stop()}},null,this)};c.$36=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("next_video",{feedback_disabled:this.$5},a));case 2:c=d.sent;return d.abrupt("return",c);case 4:case"end":return d.stop()}},null,this)};c.$37=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("play_video",{position:a}));case 2:c=d.sent;return d.abrupt("return",c);case 4:case"end":return d.stop()}},null,this)};c.$42=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("pause_video"));case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};c.$39=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("seek_video",{position:a}));case 2:c=d.sent;return d.abrupt("return",c);case 4:case"end":return d.stop()}},null,this)};c.$38=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("skip_video"));case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};c.$40=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("stop_video"));case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};c.$35=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.getExperienceState());case 2:a=c.sent;return c.abrupt("return",a.experience_specific_state);case 4:case"end":return c.stop()}},null,this)};c.$21=function(a){return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$12=a,this.$3.emit("casting/error",a);case 2:case"end":return b.stop()}},null,this)};return a}();e.exports=a}),null);
__d("MosUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getQualityLabel:function(a,b){if(a===0||b===0)return 0;if(a<b){var c=a;a=b;b=c}c=a/b;return c>16/9?Math.round(a/(16/9)):b},getMosValue:function(a,b){__p&&__p();var c=null,d=null,e=null,f=null;for(var g=0;g<a.length;g++){var h=a[g].qualityLabel;if(h<=b)e=a[g].mosValue,c=h;else{f=a[g].mosValue;d=h;break}}if(c===null&&d===null)return 0;else if(c===null&&f!==null)return f;else if(d===null&&e!==null)return e;else if(f!==null&&e!==null&&c!==null&&d!==null){h=e+(b-c)*(f-e)/(d-c);return h<0?0:h>100?100:h}return 0},parsePlaybackMos:function(a){__p&&__p();a=a.split(",");var b=[];for(var c=0;c<a.length;c++){var d=a[c].split(":");if(d.length!==2)return null;var e=Number(d[0]);d=Number(d[1]);if(isNaN(e)||isNaN(d))return null;b.push({qualityLabel:e,mosValue:d})}return b},filterTracksWithExpensiveMos:function(a,b,c,d,e,f){__p&&__p();if(a.length<2)return a;var h=a.map(function(a){return{track:a,mosValue:a.playbackResolutionMos?g.getMosValue(a.playbackResolutionMos,g.getQualityLabel(b,c)):-1}}),i=[],j=e;for(var k=h.length-1;k>0;k--){if(h[k].mosValue===-1||h[k-1].mosValue===-1)return a;var l=h[k].track.bandwidth||-1,m=h[k-1].track.bandwidth||-1;if(l===-1||m===-1)return a;if(h[k].mosValue<h[k-1].mosValue&&l>=m)continue;l=h[k-1].track.bandwidth!==null?h[k].mosValue-h[k-1].mosValue:Infinity;if(l<=j&&h[k].track.bandwidth&&d/h[k].track.bandwidth<=f){j-=l;continue}else j=e;i.push(h[k].track)}i.push(h[0].track);i.reverse();return i}};e.exports=g}),null);
__d("VideoPlayerMainThreadAvailability",["VideoPlayerShakaGlobalConfig","Visibility","nativeRequestAnimationFrame","performanceNow","requestAnimationFrame","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=window.__fbNativeSetTimeout,i=a.__fbNativeClearTimeout,j=window.requestIdleCallback,k=window.cancelIdleCallback,l=function(a){var b=function b(){a(b)};return b},m=function(a,b){var c=function c(){a(c,b)};return c},n=function(a,b){var c=function c(){a(c,b)};return c};c=function(){__p&&__p();function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var c=a.prototype;c.enable=function(){if(this.$1||!this.$5())return;this.$6();this.$7();this.$1=!0};c.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?(g||(g=b("performanceNow")))()-Number(this.$2):null};c.$8=function(){this.$2=b("Visibility").isHidden()?null:(g||(g=b("performanceNow")))()};c.$9=function(){this.$2=null,typeof this.$4==="number"&&(k(this.$4),this.$4=null),typeof this.$3==="number"&&(i(this.$3),this.$3=null)};c.$7=function(){b("VideoPlayerShakaGlobalConfig").getBool("use_settimeout_for_main_thread_available",!1)?this.$10():this.$11()};c.$6=function(){var a=this,c;(c=b("Visibility")).addListener(c.VISIBLE,function(){a.$9(),a.$7()});c.addListener(c.HIDDEN,function(){a.$9()})};c.$10=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("settimeout_polling_delay",-1);if(c>-1){var d=function b(){a.$8(),a.$3=h(b,c)};h(d,c)}};c.$11=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1),d;c>-1&&(d={timeout:c});c=function c(e){a.$8(),a.$4=b("requestIdleCallback")(c,d)};b("requestIdleCallback")(c,d)};c.$5=function(){return b("Visibility").isSupported()&&typeof j==="function"&&typeof k==="function"&&typeof h==="function"&&typeof i==="function"};c.maybeEnablePerformanceTest=function(){var a,c,d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1);d>-1&&(c={timeout:d});b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_raf",!1)&&(a=l(b("requestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_ric",!1)&&(a=m(b("requestIdleCallback"),c));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_raf",!1)&&typeof b("nativeRequestAnimationFrame")==="function"&&(a=l(b("nativeRequestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_ric",!1)&&typeof j==="function"&&(a=m(j,c));d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_native_settimeout_delay",-1);d>-1&&typeof h==="function"&&(a=n(h,d));a&&a()};return a}();e.exports=new c()}),null);
__d("VideoPlayerPlayLogger",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c){var d=this;this.$3=new(b("SubscriptionsHandler"))();this.$1=a;this.$2=c;this.$3.addSubscriptions(b("EventListener").listen(this.$1,"playing",function(){return d.$5()}),b("EventListener").listen(this.$1,"pause",function(){return d.$6()}))}var c=a.prototype;c.playStarted=function(){(this.$1.paused||this.$1.ended)&&(this.$4=this.$2.getOperationLogger("play").setState("pending_play").start())};c.$6=function(){this.$4&&(this.$4.setResult("aborted").log(),this.$4=null)};c.$5=function(){this.$4&&(this.$4.log(),this.$4=null)};c.unload=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){typeof a==="number"&&(a=Math.floor(a));return a}var h=!1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.isEnabled=function(){return c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()||c.$ExtendableVideoPlayerShakaPerformanceTypedLogger5()};c.enable=function(){h=!0};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled};c.$ExtendableVideoPlayerShakaPerformanceTypedLogger5=function(){return h};var d=c.prototype;d.log=function(){c.isEnabled()&&a.prototype.log.call(this)};d.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=b;return a.prototype.setState.call(this,b)};d.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};d.setType=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger3=b;return a.prototype.setType.call(this,b)};d.getType=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger3};d.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=b;a.prototype.setSequentialID.call(this,b);return this};d.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};d.setSegmentEndTime=function(b){a.prototype.setSegmentEndTime.call(this,g(b));return this};d.setSegmentTimeGap=function(b){a.prototype.setSegmentTimeGap.call(this,g(b));return this};d.setSegmentStartTime=function(b){a.prototype.setSegmentStartTime.call(this,g(b));return this};return c}(b("VideoPlayerShakaPerformanceTypedLogger"));e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$8(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$8(a);return a};b.createOperationLogger=function(a){throw new Error("Not implemented: createOperationLogger")};b.createLoggerProvider=function(){throw new Error("Not implemented: createLoggerProvider")};b.$8=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};return a}();e.exports=a}),null);
__d("oz-player/utils/OzError",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b.description)||this;c.$OzError1=b;c.name=b.type;return c}var c=b.prototype;c.getExtra=function(){return this.$OzError1.extra||{}};c.getType=function(){return this.$OzError1.type};c.getDescription=function(){return this.$OzError1.description};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzError","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlaybackQuality").getDroppedFrames,h=b("VideoPlaybackQuality").getTotalFrames,i=9e4;b("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.shouldInitialize=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled||b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_when_unsampled",!1)};c.setVideoPlaybackExperienceIssue=function(a){c.$VideoPlayerShakaPerformanceLogger24=a,b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_after_submitted_playback_issue",!1)&&(b("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable(),c.maybeEnableMainThreadAvailabilityLogging())};function c(b){__p&&__p();var d;d=a.call(this)||this;d.$VideoPlayerShakaPerformanceLogger11=!1;d.$VideoPlayerShakaPerformanceLogger21=0;d.$VideoPlayerShakaPerformanceLogger22=0;d.$VideoPlayerShakaPerformanceLogger20=b;d.$VideoPlayerShakaPerformanceLogger2=b.videoID;d.$VideoPlayerShakaPerformanceLogger4=b.video;d.$VideoPlayerShakaPerformanceLogger1=b.uniqueID;d.$VideoPlayerShakaPerformanceLogger3=0;d.$VideoPlayerShakaPerformanceLogger9=b.isLive;d.$VideoPlayerShakaPerformanceLogger10=b.isServableViaFbms;d.$VideoPlayerShakaPerformanceLogger8=null;d.$VideoPlayerShakaPerformanceLogger12=b.accessToken;d.$VideoPlayerShakaPerformanceLogger13=b.playerOrigin;d.$VideoPlayerShakaPerformanceLogger14=b.playerSuborigin;d.$VideoPlayerShakaPerformanceLogger15=b.playerVersion;d.$VideoPlayerShakaPerformanceLogger23=b.getBandwidthEstimate;d.setRepresentationID(b.representationId);d.$VideoPlayerShakaPerformanceLogger25=b.isDrm;d.$VideoPlayerShakaPerformanceLogger26={};c.maybeEnableMainThreadAvailabilityLogging();return d}c.maybeEnableMainThreadAvailabilityLogging=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&b("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&b("VideoPlayerMainThreadAvailability").enable()};var d=c.prototype;d.$VideoPlayerShakaPerformanceLogger27=function(a){__p&&__p();var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};d.setType=function(a){this.$VideoPlayerShakaPerformanceLogger19=a;return this};d.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger20)};d.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};d.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};d.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger11=a};d.$VideoPlayerShakaPerformanceLogger28=function(){return this.$VideoPlayerShakaPerformanceLogger11};d.getEventLogger=function(a){__p&&__p();var d=this,e=Date.now(),f=new(b("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),i=this.$VideoPlayerShakaPerformanceLogger4.currentTime,j=this.$VideoPlayerShakaPerformanceLogger4.duration;this.$VideoPlayerShakaPerformanceLogger27(f).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(g(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger18).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger13).setScriptPath(b("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger14).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger15).setBandwidthEstimate(Math.round(this.$VideoPlayerShakaPerformanceLogger23(this.$VideoPlayerShakaPerformanceLogger9))).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger17).setPlayhead(Math.round(i*1e3)).setVideoDuration(Math.round(j*1e3)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsLive(this.$VideoPlayerShakaPerformanceLogger9).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger10).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setIsPageVisible(!b("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger28()).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger16).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger12).setVideoPlaybackExperienceIssue(c.$VideoPlayerShakaPerformanceLogger24).setClientTimeBegin(e).setClientTimeEnd(e).setIsDrm(this.$VideoPlayerShakaPerformanceLogger25);var k=this,l=f.setState;f.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?k.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(k.$VideoPlayerShakaPerformanceLogger6=null);k.$VideoPlayerShakaPerformanceLogger5=a;return l.call(this,a)};f.updateState=function(a){return this.getState()==k.$VideoPlayerShakaPerformanceLogger5?this.setState(a):this};var m=f.setError;f.setError=function(a){typeof a==="object"?a instanceof b("oz-player/utils/OzError")?(this.setResult("failed"),this.setCode(a.getExtra().code),m.call(this,a.getType())):(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),m.call(this,a.type)),this.setCode(a.status||a.errorRawTransportStatus)):m.call(this,a);return this};var n=f.setManifestType;f.setManifestType=function(a){d.$VideoPlayerShakaPerformanceLogger16=a;return n.call(f,a)};return f};d.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};d.createOperationLogger=function(a){__p&&__p();var c=this,d=this.getEventLogger(a),e=d.setResource;d.setResource=function(a){return e.call(d,a)};var f=d.log,g=this,h=!1,j=null;d.log=function(){__p&&__p();if(h)return;b("clearTimeout")(j);var c=Date.now();this.setClientTimeEnd(c);var d=b("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(d!=null?Math.round(d):null);g.$VideoPlayerShakaPerformanceLogger29(d);g.$VideoPlayerShakaPerformanceLogger21=c;a==="buffering"&&(g.$VideoPlayerShakaPerformanceLogger7=Date.now());h=!0;d=this.getType();d&&(g.$VideoPlayerShakaPerformanceLogger26[d+a]=(g.$VideoPlayerShakaPerformanceLogger26[d+a]||0)+1,this.setMediastreamEventCount(g.$VideoPlayerShakaPerformanceLogger26[d+a]));return f.call(this)};d.start=function(){j=b("setTimeoutAcrossTransitions")(function(){j=null,d.setResult("timeout"),d.log()},i);return d};d.setWasPrefetchCacheHit=function(a){return d};d.setLiveheadPosition=function(a){c.$VideoPlayerShakaPerformanceLogger8=a;d.setLiveheadDelta(c.getLiveheadDelta());return d};var k=d.setDynamicBitrate;d.setDynamicBitrate=function(a){a=Number(a)||null;c.setDynamicBitrate(a);return k.call(d,a)};var l=d.setLowestQualityRepresentationID;d.setLowestQualityRepresentationID=function(a){c.$VideoPlayerShakaPerformanceLogger17=a;return l.call(d,a)};return d};d.$VideoPlayerShakaPerformanceLogger29=function(a){var c=b("VideoPlayerShakaGlobalConfig").getNumber("main_thread_blocked_event_threshold",200);if(a==null||c===0||this.$VideoPlayerShakaPerformanceLogger21===0||a<c||this.$VideoPlayerShakaPerformanceLogger22<a){this.$VideoPlayerShakaPerformanceLogger22=Number(a);return}this.getEventLogger("main_thread_blocked").setClientTimeEnd(this.$VideoPlayerShakaPerformanceLogger21).setClientTimeBegin(Math.round(this.$VideoPlayerShakaPerformanceLogger21-this.$VideoPlayerShakaPerformanceLogger22)).log();this.$VideoPlayerShakaPerformanceLogger22=Number(a)};d.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger18=a!=null?Math.round(a):null};return c}(b("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger24=null;e.exports=a}),null);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){__p&&__p();a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function f(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}e.exports={startsAtSame:a,startsImmediateAfter:b,startsDuring:c,union:d,disjoinAfter:f,getLength:g}}),null);
__d("oz-player/shims/OzReadableStream",["requireCond","cr:927622"],(function(a,b,c,d,e,f){"use strict";b("cr:927622")&&(b("cr:927622").ReadableStream.isPolyfilled=!0);a=b("cr:927622")?b("cr:927622").ReadableStream:window.ReadableStream;e.exports=a}),null);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("oz-player/shims/OzReadableStream"))({pull:function(b){b.error(a)}})}e.exports=a}),null);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/shims/OzDeferred",["Deferred"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Deferred")}),null);
__d("oz-player/shims/OzMaybeNativePromise",["Promise","MOzExperiments","MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";b("Promise").resolve(),e.exports=b("MOzExperiments").use_native_promise?b("MaybeNativePromise"):b("Promise")}),null);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzProducerInterruptedError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){a===void 0&&(a={});this.$3=[];this.$4=!1;this.$6=0;a=a;var b=a.disableArrayShift;a=a.useNativePromise;this.$1=!!b;this.$2=!!a}var c=a.prototype;c.produce=function(a){this.$7(a)};c.signalProducerInterruption=function(){this.$7(new(b("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};c.consume=function(a){__p&&__p();var c=this;if(this.$4)throw new Error("A buffer can only be consumed by one client at a time");this.$4=!0;var d=b("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$5=this.$2?new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")):new(b("oz-player/shims/OzDeferred"))(),d=this.$5.getPromise());return d.then(function(){__p&&__p();if(c.$1){if(c.$3[c.$6]===void 0)throw new Error("buffer has no value at position "+c.$6)}else if(c.$3.length===0)throw new Error("buffer length must not be 0");c.$5=null;c.$4=!1;var b=c.$1?c.$8(a):c.$9(a);if(b instanceof Uint8Array)return b;throw b})};c.$7=function(a){this.$3.push(a),this.$5&&this.$5.resolve()};c.$8=function(a){__p&&__p();var b=this.$3[this.$6];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$3[this.$6]=void 0;this.$6++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[this.$6]=c}else this.$3[this.$6]=void 0,this.$6++;return b};c.$9=function(a){__p&&__p();if(this.$3.length===0)return new Uint8Array([]);var b=this.$3[0];if(!(b instanceof Uint8Array)){this.$3.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[0]=c}else this.$3.shift();return b};c.isEmpty=function(){return this.$1?this.$3[this.$6]===void 0:this.$3.length===0};return a}();e.exports=a}),null);
__d("pipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a.error(b)}catch(a){}}e.exports=a}),null);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzDeferredBuffer","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/manifests/OzByteRange").startsImmediateAfter;function h(){return new Error("Upstream has an inconsistent range")}var i=function(){__p&&__p();function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=a;this.$20=c;this.$1=d;this.$2=e;a=f||{};c=a.fixStreamingUndefinedEndByte;d=a.disableDeferredBufferArrayShift;e=a.useNativePromiseInDeferredBuffer;f=a.enablePausableStreamResumeFromStartDangerously;var j=a.fixPausePreReadableStream;a=a.throwErrorWhenAborted;this.$11=!!c;this.$16=!!f;this.$17=!!j;this.$18=!!a;this.$3=new(b("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!d,useNativePromise:!!e});this.$6=new this.$19({start:function(a){g.$10=a},pull:function(a){__p&&__p();if((g.$11&&g.$1.endByte===null&&g.$5||g.$7===g.$21())&&g.$3.isEmpty()){a.close();return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=function c(){__p&&__p();var d=g.$15.hasMoreBytesToSkip()?g.$15.getBytesToSkip():void 0;return g.$3.consume(d).then(function(d){if(g.$15.hasMoreBytesToSkip()){g.$15.setBytesSkipped(d.length);return c()}g.$7+=d.length;var e=g.$21();e!==null&&g.$7>(e||0)&&b("pipeErrorTo")(g.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){g.$15.setBytesToSkip(g.$7);return c()}throw a})};return c()},cancel:function(a){g.$12&&g.$12.resolve("stream_cancelled"),b("pipeErrorTo")(g.$9,a)}});this.$22()}var c=a.prototype;c.$21=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};c.$22=function(){__p&&__p();var a=this;this.$4=new this.$20({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var c=a.$1,d=c.endByte;c=c.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-c+1&&b("pipeErrorTo")(a.$10,h())},abort:function(c){a.$12&&(a.$18?a.$12.reject(c):a.$12.resolve("stream_aborted")),b("pipeErrorTo")(a.$10,c)}})};c.getStream=function(){return this.$6};c.startStream=function(){__p&&__p();var c=this;this.$13=!0;var d={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?d.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var e=this.$4;return this.$2.startStream(d).then(function(d){d.pipeTo(c.$17?e:c.$4).then(function(){c.$12&&c.$12.resolve("stream_done")})["catch"](function(b){c.$12&&!c.$12.isSettled()&&(c.$17&&b===a.STREAM_PAUSED?c.$12.resolve("stream_paused"):c.$12.reject(b))});c.$12=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:c.$12.getPromise()}})};c.pauseStream=function(){b("pipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$22()};c.getByteRange=function(){return this.$1};c.getBytesStreamed=function(){return this.$7};c.tryConcatByteRange=function(a){if(this.$13||!g(a,this.$1))return!1;this.$1.endByte=a.endByte;return!0};return a}();a.STREAM_PAUSED="streamPaused";e.exports=a}),null);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$6=new Map(),this.$1=a,this.$2=b}var c=a.prototype;c.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};c.enqueue=function(a,b){__p&&__p();b=this.$7(b);var c=this.$5.get(a),d=this.$8(a);if(c===b)return d;this.$5.has(a)&&this.remove(a);c=this.$9(b);var e=this.$4[c];e&&e.priority===b||(e={priority:b,queue:[]},this.$4.splice(c,0,e));this.$5.set(a,b);e.queue.push(a);this.$3(a,b>=this.$1?"immediate":"normal");return d};c.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};c.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$5["delete"](b);return b}}return null};c.remove=function(a){__p&&__p();var b=this.$5.get(a);if(b===void 0)return;b=this.$9(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)};c.setOnTaskUpdated=function(a){this.$3=a};c.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};c.getLength=function(){return this.$5.size};c.$8=function(a){__p&&__p();var c=this.$6.get(a);if(!c){var d=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=d.getPromise();this.$6.set(a,c);var e=a.run;a.run=function(){return e.call(a).then(function(a){d.resolve(a);return a})["catch"](function(a){d.reject(a);throw a})}}return c};c.$9=function(a){a=this.$7(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};c.$7=function(a){this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();e.exports=a}),null);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("setTimeoutAcrossTransitions")}),null);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$3=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$4=b||0}var c=a.prototype;c.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var a=this.$1.dequeue();a&&this.$6(a,"immediate")};c.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};c.$5=function(a,b){b=this.$6(a,b);b&&this.$1.remove(a)};c.$6=function(a,c){__p&&__p();var d=this;if(this.$2&&c!=="immediate")return!1;this.$2&&this.$2.cancel();c=a.run()["catch"](function(a){});this.$4>0&&(c=b("oz-player/shims/OzMaybeNativePromise").race([c,new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$4)})]));this.$3++;this.$2=a;c=c.then(function(){d.$3--;d.$2===a&&(d.$2=null);if(d.$3===0){var b=d.$1.dequeue();b&&d.$6(b,"immediate")}});return!0};return a}();e.exports=a}),null);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){__p&&__p();if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();e.exports=a}),null);