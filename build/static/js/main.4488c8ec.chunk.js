(this.webpackJsonpstalk=this.webpackJsonpstalk||[]).push([[0],{112:function(e,t,a){},119:function(e,t,a){e.exports=a(273)},124:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},148:function(e,t,a){},271:function(e,t,a){},273:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(11),r=a.n(o),c=(a(124),a(13));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(17),i=a(3),u=a.n(i),m=a(27),p=(a(52),a(141),a(6)),h=a(4),d=a(8),g=a(7),f=a(9);a(82),a(142);var E=function(e){var t=function(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" years":(a=Math.floor(t/2592e3))>1?a+" months":(a=Math.floor(t/86400))>1?a+" days":(a=Math.floor(t/3600))>1?a+" hours":(a=Math.floor(t/60))>1?a+" minutes":Math.floor(t)+" seconds"};return l.a.createElement("div",{className:"waterPlant"},"0 seconds"===t(new Date(1e3*e.plant.last_watered))?"watered!":l.a.createElement("div",null,l.a.createElement("div",{className:"waterPlant-droplet"},l.a.createElement("div",{className:"droplet",onClick:function(){return function(e){var t=Math.floor(Date.now()/1e3);u.a.put("http://localhost:3000/plants/".concat(e,".json"),{plant:{last_watered:t},headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){console.log("res:",e),e.status})).catch((function(e){console.warn("err:",e)}))}(e.plant.id)}})),l.a.createElement("div",{className:"waterPlant-text"},l.a.createElement("p",{id:e.plant.id},"Last Watered ",t(new Date(1e3*e.plant.last_watered))," Ago "))))};a(143);var v=function(e){var t=Object(m.f)();return l.a.createElement("div",null,l.a.createElement("div",{id:"menuToggle"},l.a.createElement("input",{type:"checkbox"}),l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("ul",{id:"menu"},l.a.createElement("li",{key:"edit",onClick:function(){return function(e){var a="/editplant/".concat(e);console.log("route:",a),t.push(a)}(e.plantId)}},"Edit"),l.a.createElement("li",{key:"delete",onClick:function(){return t=e.plantId,void u.a.delete("http://localhost:3000/plants/".concat(t,".json")).then((function(e){})).catch(console.warn);var t}},"Delete"),l.a.createElement("li",{key:"add",onClick:function(){return function(e){var a="/addphoto/".concat(e);console.log("route:",a),t.push(a)}(e.plantId)}},"Add Photo"))))},b=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={users:[]},a.handleClick=function(e){console.log(e);var t="/mygarden/".concat(e);console.log("route:",t),a.props.history.push(t)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("mounted"),u.a.get("http://localhost:3000/users.json").then((function(t){e.setState({users:t.data.users}),console.log("this.state.users",e.state.users),console.log("this.state.res.data.users.length",e.state.users.length)})).catch(console.warn)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("h2",null,"Stalkers"),0===this.state.users.length?l.a.createElement("p",null,"no users"):l.a.createElement("div",null,this.state.users.map((function(t){return l.a.createElement("div",{key:t.id,className:"gardenItem",onClick:function(){return e.handleClick(t.id)}},l.a.createElement("div",{className:"gardenItem-header"},"/home"!==e.props.history.location?l.a.createElement("div",null,l.a.createElement("div",{className:"water-gardenItem"},l.a.createElement("p",null,"Click to View Full Garden!")),l.a.createElement("div",{className:"water-gardenItem"})):l.a.createElement("div",null,l.a.createElement("div",{className:"water-gardenItem"},l.a.createElement(E,{plant:t})),l.a.createElement("div",{className:"burger-menu-gardenItem"},l.a.createElement(v,{plantId:t.id}))),l.a.createElement("div",{className:"plant-name-gardenItem"},l.a.createElement("p",null,t.username,"s garden"))),l.a.createElement("div",{className:"gardenItem-images"},t.plants.map((function(a){return l.a.createElement("img",{src:a.photos[0].image,key:a.id,className:"myGardenPlantPhoto",onClick:function(){return e.handleClick(t.id)}})}))),l.a.createElement("div",{className:"gardenItem-shelf"},l.a.createElement("div",{className:"skew-left"}),l.a.createElement("div",{className:"skew-right"})))}))))}}]),t}(l.a.Component),y=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(b,{history:this.props.history}))}}]),t}(l.a.Component),j=a(16),w=a(115);a(148);var O=function(e){var t=Object(n.useReducer)((function(e,t){return Object(w.a)({},e,{},t)}),{name:"",username:"",location:"",email:"",password:"",password_confirmation:""}),a=Object(s.a)(t,2),o=a[0],r=a[1],c=Object(m.f)(),i=Object(n.useState)([]),p=Object(s.a)(i,2),h=p[0],d=p[1],g=function(e){var t=e.target.name,a=e.target.value;r(Object(j.a)({},t,a))};return l.a.createElement("div",{className:"formContainer"},l.a.createElement("h2",{class:"formTitle"},"Sign up"),h&&l.a.createElement("div",{id:"signup-errors"},l.a.createElement("ul",null,h.map((function(e){return l.a.createElement("li",null,e)})))),l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),u.a.post("http://localhost:3000/users",{user:o,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){t.data.jwt?(localStorage.setItem("token",t.data.jwt),localStorage.setItem("userId",t.data.user.id),u.a.defaults.headers.common.Authorization="Bearer ".concat(t.data.jwt),e.messageCreator(!0,t.data.user.name),c.push("/profile"),r(function(e){Object.keys(e).map((function(t){return e[t]=""}))}(o))):d(t.data.errors)})).catch((function(e){d(e.response.data.errors)}))}},l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Name:"),l.a.createElement("br",null),l.a.createElement("input",{value:o.name,onChange:g,type:"text",name:"name",placeholder:"name"})),l.a.createElement("br",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Username:"),l.a.createElement("br",null),l.a.createElement("input",{value:o.username,onChange:g,type:"text",name:"username",placeholder:"username"})),l.a.createElement("br",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Location:"),l.a.createElement("br",null),l.a.createElement("input",{value:o.location,onChange:g,type:"text",name:"location",placeholder:"location"})),l.a.createElement("br",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Email:"),l.a.createElement("br",null),l.a.createElement("input",{value:o.email,onChange:g,type:"text",name:"email",placeholder:"email"})),l.a.createElement("br",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Password:"),l.a.createElement("br",null),l.a.createElement("input",{value:o.password,onChange:g,type:"password",name:"password",placeholder:"password"})),l.a.createElement("br",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Password Confirmation:"),l.a.createElement("br",null),l.a.createElement("input",{value:o.password_confirmation,onChange:g,type:"password",name:"password_confirmation",placeholder:"password confirmation"})),l.a.createElement("br",null),l.a.createElement("button",{className:"formButton",type:"submit"},"Submit")))},k=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={id:localStorage.getItem("userId"),user:[]},a.handleClick=function(e){console.log(e);var t="/mygarden/".concat(e);console.log("route",t),a.props.history.push(t)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;u.a.get("http://localhost:3000/users/".concat(this.state.id,".json")).then((function(t){console.log("res",t),e.setState({user:t.data}),console.log("plants",e.state.user.plants)}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",{className:"centered"},"Profile Page for ",this.state.user.name),l.a.createElement("div",{className:"profileButtons"},l.a.createElement(c.b,{to:"/users"},l.a.createElement("div",{className:"profileButton slide-top"},"STALKERS")),l.a.createElement(c.b,{to:"/addplant"},l.a.createElement("div",{className:"profileButton slide-top"},"+PLANT")),l.a.createElement(c.b,{to:"/mygarden/".concat(this.state.user.id)},l.a.createElement("div",{className:"profileButton slide-top"},"MY GARDEN")),l.a.createElement(c.b,{to:"/plantcalendar/".concat(this.state.user.id)},l.a.createElement("div",{className:"profileButton slide-top"},"CALENDAR"))))}}]),t}(l.a.Component),C="",N=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={user:[]},a.handleClick=function(e){console.log(e);var t="/photo/".concat(e);console.log("route:",t),a.props.history.push(t)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");t&&(u.a.defaults.headers.common.Authorization="Bearer ".concat(t)),C=this.props.match.params.user_id,console.log("userIDQuery",C),u.a.get("http://localhost:3000/users/".concat(C,".json")).then((function(t){e.setState({user:t.data})})).catch(console.warn)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("h2",null,this.state.user.name,"s Garden"),0===this.state.user.length?l.a.createElement("p",null,"loading"):l.a.createElement("div",null,this.state.user.plants.map((function(t){return l.a.createElement("div",{key:t.id,className:"gardenItem"},l.a.createElement("div",{className:"gardenItem-header"},e.props.tokenHeaderValue&&l.a.createElement("div",null,l.a.createElement("div",{className:"water-gardenItem"},l.a.createElement(E,{plant:t})),l.a.createElement("div",{className:"burger-menu-gardenItem"},l.a.createElement(v,{plantId:t.id}))),l.a.createElement("div",{className:"plant-name-gardenItem"},l.a.createElement("p",null,t.name))),l.a.createElement("div",{className:"gardenItem-images"},t.photos.map((function(t){return l.a.createElement("img",{src:t.image,key:t.id,className:"myGardenPlantPhoto",onClick:function(){return e.handleClick(t.id)}})}))),l.a.createElement("div",{className:"gardenItem-shelf"},l.a.createElement("div",{className:"skew-left"}),l.a.createElement("div",{className:"skew-right"})))}))))}}]),t}(l.a.Component),I=(a(149),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={image_url:""},a.uploadWidget=function(){window.cloudinary.openUploadWidget({cloud_name:"dlbfbi0rp",upload_preset:"mtkzwbw5",tags:["plants"]},(function(e,t){e?console.warn("ERROR UPLOADING",e):(console.log("successfully-uploaded",t[0].url),a.setState({image_url:t[0].url}),a.props.Photo(t[0].url))}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"upload"},l.a.createElement("button",{className:"formButton",onClick:this.uploadWidget},"Upload PLANT!"),0===this.state.image_url.length?console.log("no image"):l.a.createElement("img",{className:"uploadImagePreview",src:this.state.image_url})))}}]),t}(l.a.Component)),S=localStorage.getItem("userId"),D=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={photo:[]},a.handleDeleteClick=function(e){console.log("id:",e),u.a.delete("http://localhost:3000/photos/".concat(e,".json")).then((function(e){console.log(e)})).then(a.props.history.push("/mygarden/".concat(S))).catch(console.warn)},a.handleEditClick=function(e){console.log(e);var t="/editphoto/".concat(e);console.log("route:",t),a.props.history.push(t)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.photo_id;u.a.get("http://localhost:3000/photos/".concat(t,".json")).then((function(t){e.setState({photo:t.data})})).catch(console.warn)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"displayPhoto"},l.a.createElement("img",{className:"mainPhoto",src:this.state.photo.image,alt:""}),l.a.createElement("p",null,this.state.photo.name," - ",this.state.photo.description),l.a.createElement("div",{className:"profileButtons"},l.a.createElement("div",{className:"centerText formButton slide-top smallerButton",onClick:function(){return e.handleDeleteClick(e.state.photo.id)}},"DELETE"),l.a.createElement("div",{className:"centerText formButton slide-top smallerButton",onClick:function(){return e.handleEditClick(e.state.photo.id)}},"EDIT"))))}}]),t}(l.a.Component),A=localStorage.getItem("userId"),_=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={user_id:localStorage.getItem("userId")},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={plant:a.state};console.log("plant",t),u.a.post("http://localhost:3000/plants.json",t).then((function(e){console.log("res:",e),console.log("userID:",A)})).then(a.props.history.push("/mygarden/".concat(A))).catch(console.warn)},a.handleSubmit=function(e){e.preventDefault();var t={plant:a.state};console.log("plant",t),u.a.post("http://localhost:3000/plants.json",t).then((function(e){console.log("res:",e),console.log("userID:",A)})).then(a.props.history.push("/mygarden/".concat(A))).catch(console.warn)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){console.log("user_id:",A)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h2",null,"AddPlant"),l.a.createElement("form",{action:"",onSubmit:this.handleSubmit},l.a.createElement("label",null,"Plant Type"),l.a.createElement("input",{type:"text",name:"planttype",onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"About your plant:"),l.a.createElement("input",{type:"text",name:"description",onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"Date Acquired"),l.a.createElement("input",{type:"date",name:"date_acquired",onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"Days between watering"),l.a.createElement("input",{type:"text",name:"water_days",onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("input",{type:"submit"})))}}]),t}(l.a.Component),x=localStorage.getItem("userId"),M=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={user_id:localStorage.getItem("userId"),plant:[]},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t=a.props.match.params.plant_id;e.preventDefault(),console.log(a.state);var n=a.state;console.log("plant",n),u.a.put("http://localhost:3000/plants/".concat(t,".json"),{plant:n}).then((function(e){console.log("res:",e)})).then(a.props.history.push("/mygarden/".concat(x))).catch(console.warn)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.plant_id;console.log("plantID",t),u.a.get("http://localhost:3000/plants/".concat(t,".json")).then((function(t){var a=t.data;e.setState({plant:a}),console.log(e.state.plant),console.log(e.state.plant.length)})).catch(console.warn)}},{key:"render",value:function(){return l.a.createElement("div",{className:"formContainer"},l.a.createElement("h2",{className:"formTitle"},"Edit ",this.state.plant.name),0===this.state.plant.length?"no":l.a.createElement("div",null),l.a.createElement("form",{action:"",onSubmit:this.handleSubmit},l.a.createElement("label",null,"Plant Type"),l.a.createElement("input",{type:"text",name:"planttype",defaultValue:this.state.plant.planttype,onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",name:"name",defaultValue:this.state.plant.name,onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"About your plant:"),l.a.createElement("input",{type:"text",name:"description",defaultValue:this.state.plant.description,onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"Date Acquired"),l.a.createElement("input",{type:"date",name:"date_acquired",defaultValue:this.state.plant.date_acquired,onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"Days between watering"),l.a.createElement("input",{type:"text",name:"water_days",defaultValue:this.state.plant.water_days,onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("input",{className:"formButton",type:"submit"})))}}]),t}(l.a.Component);a(271);var P=function(e){var t=Object(n.useState)("jordan@test.com"),a=Object(s.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)("chicken"),i=Object(s.a)(c,2),p=i[0],h=i[1],d=Object(n.useState)(""),g=Object(s.a)(d,2),f=g[0],E=g[1],v=Object(m.f)();return l.a.createElement("div",null,f&&l.a.createElement("p",null,f),l.a.createElement("form",{id:"login",onSubmit:function(t){t.preventDefault(),u.a.post("http://localhost:3000/login",{email:o,password:p,headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){t.data.jwt?(localStorage.setItem("token",t.data.jwt),localStorage.setItem("userId",t.data.user.id),u.a.defaults.headers.common.Authorization="Bearer ".concat(t.data.jwt),e.loginMessage(!0,t.data.user.name),v.push("/profile")):E(t.data.failure)})).catch((function(e){console.warn(e)})),r(""),h(""),e.loginDisplay()}},l.a.createElement("div",{id:"login-inputs"},l.a.createElement("input",{value:o,onChange:function(e){r(e.target.value)},type:"text",placeholder:"Your email address"}),l.a.createElement("input",{value:p,onChange:function(e){h(e.target.value)},type:"password",placeholder:"Password"})),l.a.createElement("br",null),l.a.createElement("button",{id:"login-submit",type:"submit"},"Login")))};var B=function(e){var t=Object(m.f)();return l.a.createElement("p",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),delete u.a.defaults.headers.common.Authorization,e.logOutMessage(!1,"Please login or sign up"),t.push("/home")},id:"logOut-link"},"Log Out")};var T=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],r=a[1],i=function(){r(!o)};return l.a.createElement("div",{id:"nav-div"},l.a.createElement("nav",{id:"navbar"},l.a.createElement("p",null,e.navMessage),l.a.createElement("div",{id:"navbar-logo"},l.a.createElement("h1",{id:"logo"},"Stalk")),e.tokenHeaderValue?l.a.createElement(B,{logOutMessage:e.messageCreator}):l.a.createElement("div",{id:"nav-login-operations"},l.a.createElement("p",{id:"login-trigger",href:"#",onClick:i},"Log In"),o&&l.a.createElement("div",{id:"login-content"},l.a.createElement(P,{loginMessage:e.messageCreator,loginDisplay:i})),l.a.createElement(c.b,{to:"/signup",id:"signup-link"},"Sign Up"))))},L=a(33),V=a.n(L),W=a(71),R=(a(272),a(112),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={user:[],userId:localStorage.getItem("userId"),datesArray:[]},a.calculate=function(e,t,n,l){var o=new Date(t);o.setHours(0),o.setMinutes(0);for(var r=V()(l).diff(V()(t),"days"),c=0;r%n!==0;)c++,r++;for(var s=V()(l).add(c,"days").toDate(),i=s;i.getMonth()===s.getMonth();){var u={title:e,allDay:!0,start:i,end:i};i.getTime()>=o.getTime()&&a.state.datesArray.push(u),i=V()(i).add(n,"days").toDate()}},a.monthsChangeHandler=function(e){a.state.datesArray=[];var t=new Date(e.start);1!==t.getDate()&&(t.setDate(1),t.setMonth(t.getMonth()+1)),a.state.user.plants.forEach((function(e){a.calculate(e.name,e.date_acquired,e.water_days,t)}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;u.a.get("http://localhost:3000/users/".concat(this.state.userId,".json")).then((function(t){e.setState({user:t.data});var a=new Date;a.setDate(1),e.state.user.plants.forEach((function(t){e.calculate(t.name,t.date_acquired,t.water_days,a)}))})).catch((function(e){return console.warn(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(W.a,{events:this.state.datesArray,localizer:Object(W.b)(V.a),style:{height:"80vh"},onRangeChange:this.monthsChangeHandler}))}}]),t}(l.a.Component)),z="",U=localStorage.getItem("userId"),G=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={plant:[]},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.setState({photo:{image:a.state.image,description:a.state.description,plant_id:z}}),console.log(a.state.photo);var t=a.state.photo;console.log("photoParams:",t),u.a.post("http://localhost:3000/photos.json",{photo:{image:a.state.image,description:a.state.description,plant_id:z}}).then(console.log).then(a.props.history.push("/mygarden/".concat(U))).catch(console.log)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;z=this.props.match.params.plant_id,console.log("plantID: ".concat(z)),u.a.get("http://localhost:3000/plants/".concat(z,".json")).then((function(t){console.log(t),e.setState({plant:t.data})})).catch(console.warn),this.setState({plant_id:z})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h2",null,"Add Photo of ",this.state.plant.name),l.a.createElement("form",{action:"",onSubmit:this.handleSubmit},l.a.createElement("label",null,"Description"),l.a.createElement("input",{type:"text",name:"description",onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"ImageURL"),l.a.createElement("input",{type:"text",name:"image",onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement(I,null),l.a.createElement("button",{className:"formButton"},"add update")))}}]),t}(l.a.Component),H="",q=(localStorage.getItem("userId"),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={photo:[]},a.handleChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={image:a.state.image,description:a.state.description};console.log("photo:",t),u.a.put("http://localhost:3000/photos/".concat(H,".json"),{photo:t}).then(console.log).then(a.props.history.push("/photo/".concat(H))).catch(console.log)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;H=this.props.match.params.photo_id,console.log("plantID: ".concat("")),u.a.get("http://localhost:3000/photos/".concat(H,".json")).then((function(t){console.log(t),e.setState({photo:t.data})})).catch(console.warn)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h2",null,"Edit Photo for ",this.state.photo.name),l.a.createElement("form",{action:"",onSubmit:this.handleSubmit},l.a.createElement("label",null,"Description"),l.a.createElement("input",{type:"text",name:"description",defaultValue:this.state.photo.description,onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("label",null,"ImageURL"),l.a.createElement("input",{type:"text",name:"image",defaultValue:this.state.photo.image,onChange:this.handleChange})," ",l.a.createElement("br",null),l.a.createElement("button",null,"add update")))}}]),t}(l.a.Component)),F=localStorage.getItem("userId"),K=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).handleClick=function(e){console.log(e);var t="/photo/".concat(e);console.log("route:",t),a.props.history.push(t)},a.state={user:[],userfollows:[]},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");console.log(F),t&&(console.log("TOKEN FOUND!",t),u.a.defaults.headers.common.Authorization="Bearer ".concat(t)),u.a.get("http://localhost:3000/users/".concat(F,".json")).then((function(t){e.setState({user:t.data}),console.log("this.state.user",e.state.user),console.log(e.state.user.plants.length)})).catch(console.warn),console.log("userID",F),u.a.get("http://localhost:3000/follows/".concat(F,".json")).then((function(t){console.log(t),e.setState({userfollows:t.data})})).catch(console.warn)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("h2",null,"Following"),l.a.createElement("p",null),0===this.state.userfollows.length?l.a.createElement("p",null,"loading"):l.a.createElement("div",null,this.state.userfollows.userfollows.map((function(t){return l.a.createElement("div",{key:t.id,className:"gardenPlantIndex"},l.a.createElement("div",{className:"skew-left"}),l.a.createElement("div",{className:"skew-right"}),l.a.createElement("div",{className:"display-plant-name"},l.a.createElement("p",null,t.name)),t.photos.map((function(t){return l.a.createElement("div",{className:"image-box",key:t.id,onClick:function(){return e.handleClick(t.id)}},l.a.createElement("img",{className:"myGardenPlantPhoto",src:t.image}))})))}))))}}]),t}(l.a.Component),J="",Q=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={plant:[]},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");t&&(console.log("TOKEN FOUND!",t),u.a.defaults.headers.common.Authorization="Bearer ".concat(t)),J=this.props.match.params.plant_id,console.log("plantIDQuery",J),u.a.get("http://localhost:3000/plants/".concat(J,".json")).then((function(t){console.log("res:",t),e.setState({plant:t.data}),console.log("plant:",e.state.plant)})).catch(console.warn)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h2",null,"Plant"),l.a.createElement("p",null,this.state.plant.name," - ",this.state.plant.planttype)," ",l.a.createElement("br",null),0===this.state.plant.length?l.a.createElement("p",null,"loading..."):this.state.plant.photos.map((function(e){return l.a.createElement("div",{key:e.id},l.a.createElement("img",{src:e.image,alt:""}))})))}}]),t}(l.a.Component),Y=a(118);function $(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" years":(a=Math.floor(t/2592e3))>1?a+" months":(a=Math.floor(t/86400))>1?a+" days":(a=Math.floor(t/3600))>1?a+" hours":(a=Math.floor(t/60))>1?a+" minutes":Math.floor(t)+" seconds"}var X=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).state={plants:[],watering:""},a.waterPlant=function(e,t){console.log("wateringPlant:",e),console.log({last_watered:Math.floor(Date.now()/1e3)});var n=Math.floor(Date.now()/1e3);u.a.put("http://localhost:3000/plants/".concat(e,".json"),{plant:{last_watered:n},headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(console.log("res:",e),200===e.status){var l=Object(Y.a)(a.state.plants);l[t].last_watered=n,a.setState({plants:l})}})).catch((function(e){console.warn("err:",e)}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;u.a.get("http://localhost:3000/plants.json").then((function(t){e.setState({plants:t.data.plants}),console.log("plants",e.state.plants)})).catch(console.warn)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Time"),l.a.createElement("h2",null,"become a master of time and space"),0===this.state.plants.length?l.a.createElement("p",null,"time is over"):l.a.createElement("div",null,l.a.createElement("p",null,"time is complete"),this.state.plants.map((function(t,a){return l.a.createElement("div",{key:"plant".concat(t.id),className:"gardenPlantIndex"},l.a.createElement("div",{className:"skew-left"}),l.a.createElement("div",{className:"skew-right"}),l.a.createElement("div",{className:"display-plant-name"},l.a.createElement("p",null,t.name)),t.photos.map((function(t){return l.a.createElement("div",{key:"photo".concat(t.id),className:"image-box",onClick:function(){return e.handleClick(t.id)}},l.a.createElement("img",{className:"myGardenPlantPhoto",src:t.image}))})),l.a.createElement("p",null,"  //shows me lastWatered text","0 seconds"===$(new Date(1e3*t.last_watered))?"watered!":l.a.createElement("p",null,"Last Watered ",$(new Date(1e3*t.last_watered))," Hours Ago ")),l.a.createElement("div",{onClick:function(){return e.waterPlant(t.id,a)},className:"waterPlant"},l.a.createElement("img",{src:"/water.png",alt:""})))}))))}}]),t}(l.a.Component),Z=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"landing-container"},l.a.createElement("div",{className:"viewport-header text-focus-in"},l.a.createElement("h2",null,l.a.createElement(c.b,{to:"/home",className:"home-link"}," Stalk"))),l.a.createElement("video",{autoPlay:!0,loop:!0,muted:!0},l.a.createElement("source",{src:"flowers1080p.mp4",type:"video/mp4"})))}}]),t}(l.a.Component);var ee=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)("Welcome, please login or sign up"),i=Object(s.a)(r,2),p=i[0],h=i[1],d=function(e,t){e?(h("Welcome back, ".concat(t)),o(!0)):(h("Welcome, Please login or sign up"),o(!1))};return Object(n.useEffect)((function(){var e=localStorage.getItem("token");e&&(u.a.defaults.headers.common.Authorization="Bearer ".concat(e),o(!0))}),[]),l.a.createElement("div",{className:"stalk-app"},l.a.createElement("main",null,l.a.createElement("div",{id:"main-wrapper"},l.a.createElement("div",{id:"main-logo"},l.a.createElement("h1",{onClick:function(){return console.log("hello")},id:"logo"},l.a.createElement(c.b,{id:"logo",to:"/users"},"Stalk"))),l.a.createElement(T,{tokenHeaderValue:a,messageCreator:d,navMessage:p}),l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/home",component:y}),l.a.createElement(m.a,{exact:!0,path:"/",component:Z}),l.a.createElement(m.a,{exact:!0,path:"/signup",render:function(e){return l.a.createElement(O,Object.assign({},e,{messageCreator:d}))}}),a&&l.a.createElement(m.a,{exact:!0,path:"/profile",component:k}),l.a.createElement(m.a,{exact:!0,path:"/users",component:b}),l.a.createElement(m.a,{exact:!0,path:"/mygarden/:user_id",render:function(e){return l.a.createElement(N,Object.assign({},e,{tokenHeaderValue:a}))}}),l.a.createElement(m.a,{exact:!0,path:"/plantcalendar/:user_id",component:R}),l.a.createElement(m.a,{exact:!0,path:"/photo/:photo_id",component:D}),l.a.createElement(m.a,{exact:!0,path:"/time/",component:X}),l.a.createElement(m.a,{exact:!0,path:"/addplant/",component:_}),l.a.createElement(m.a,{exact:!0,path:"/editplant/:plant_id",component:M}),l.a.createElement(m.a,{exact:!0,path:"/addphoto/:plant_id",component:G}),l.a.createElement(m.a,{exact:!0,path:"/editphoto/:photo_id",component:q}),l.a.createElement(m.a,{exact:!0,path:"/following/",component:K}),l.a.createElement(m.a,{exact:!0,path:"/plant/:plant_id",component:Q}),l.a.createElement(m.a,{exact:!0,path:"/uploadphoto",component:D})))))};r.a.render(l.a.createElement(c.a,null,l.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,a){},82:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.4488c8ec.chunk.js.map