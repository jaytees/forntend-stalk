if (self.CavalryLogger) { CavalryLogger.start_js(["ADWhA"]); }

__d("MessengerCollisionContextQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"conference_name",type:"String!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"messenger_collision_context_query",storageKey:null,args:[{kind:"Variable",name:"conference_name",variableName:"conference_name"}],concreteType:"RTCCollisionContext",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"group_thread_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"peer_id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerCollisionContextQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"MessengerCollisionContextQuery",argumentDefinitions:a,selections:b},params:{operationKind:"query",name:"MessengerCollisionContextQuery",id:"2839537846086423",text:null,metadata:{}}}}();e.exports=a}),null);
__d("SignalsSimpleFadeOutContainer.react",["Animation","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={show:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props,d=c.delay;c=c.duration;var e=b("ReactDOM").findDOMNode(this);e&&(this.$1=new(b("Animation"))(e).from("opacity",1).to("opacity",1).duration(d*1e3).checkpoint().from("opacity",1).to("opacity",0).duration(c*1e3).ondone(function(){a.setState({show:!1})}).go())};d.componentWillUnmount=function(){this.$1&&this.$1.stop()};d.render=function(){var a=this.props,c=a.className;a=a.children;var d=this.state.show;return d?b("React").jsx("div",{className:b("joinClasses")(c),children:a}):null};return c}(a);e.exports=c}),null);
__d("SUIThreeStateCheckboxEnum",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CHECKED:null,PARTIAL:null,UNCHECKED:null});e.exports=a}),null);
__d("SUIThreeStateCheckboxInput.react",["cx","KeyStatus","React","RTLKeys","SUIErrorComponentUtil","SUIInternalMouseUpListener","SUITheme","SUIThreeStateCheckboxEnum","Tooltip","VirtualCursorStatus","getActiveElement","gkx","joinClasses","prop-types","uniqueID","withSUITheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("KeyStatus").isKeyDown,i=b("VirtualCursorStatus").isVirtualCursorTriggered;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$3=function(a){var d=b("getActiveElement")();if(d&&d.nodeName==="A")return;d=c.props.value===b("SUIThreeStateCheckboxEnum").CHECKED?b("SUIThreeStateCheckboxEnum").UNCHECKED:b("SUIThreeStateCheckboxEnum").CHECKED;a.preventDefault();c.props.disabled||c.props.onChange(d,a)};c.$4=function(){c.setState({isActive:!1,showFocusRing:!1})};c.$5=function(){(h()||i())&&c.setState({showFocusRing:!0})};c.$6=function(a){if(!c.props.disabled)switch(a.keyCode){case b("RTLKeys").RETURN:case b("RTLKeys").SPACE:c.setState({isActive:!0,showFocusRing:!0});break}};c.$7=function(a){switch(a.keyCode){case b("RTLKeys").RETURN:case b("RTLKeys").SPACE:c.setState({isActive:!1,showFocusRing:!0});break}};c.$8=function(){c.props.disabled||(b("SUIInternalMouseUpListener").set(c.$2),c.setState({isActive:!0,showFocusRing:!1}))};c.$2=function(){c.setState({isActive:!1,showFocusRing:!1})};c.$1=b("uniqueID")();c.state={isActive:!1,showFocusRing:!1};return c}var d=c.prototype;d.componentWillUnmount=function(){b("SUIInternalMouseUpListener").unset(this.$2)};d.$9=function(){var a=this.props.label,b,c;this.props.labelIsHidden?b=typeof a==="string"?a:void 0:c=a;return{labelAria:b,labelText:c}};d.render=function(){__p&&__p();var a=b("SUITheme").get(this),c=a.SUIThreeStateCheckboxInput,d=this.$9(),e=d.labelAria;d=d.labelText;var f=d!=null&&d!=="",g=this.props.value===b("SUIThreeStateCheckboxEnum").PARTIAL?c.partiallyCheckedIcon:c.checkedIcon,h=this.props.value!==b("SUIThreeStateCheckboxEnum").UNCHECKED;h={borderColor:this.state.isActive&&c.activeCheckboxBorderColor||h&&c.checkedBorderColor||c.checkboxBorderColor,backgroundColor:this.props.disabled&&c.disabledCheckboxBackgroundColor||this.state.isActive&&c.activeCheckboxBackgroundColor||h&&c.checkedBackgroundColor||c.checkboxBackgroundColor};var i=this.props.disabled?c.disabledLabelColor:c.labelColor;e=b("React").jsx("button",{"aria-checked":this.props.value===b("SUIThreeStateCheckboxEnum").PARTIAL?"mixed":this.props.value===b("SUIThreeStateCheckboxEnum").CHECKED?"true":"false","aria-disabled":this.props.disabled,"aria-label":e,"aria-labelledby":f?this.$1:void 0,className:"_1gco"+(d?" _1gcp":"")+(this.state.showFocusRing?"":" _5e9w"),"data-testid":this.props["data-testid"],id:this.props.id,onBlur:this.$4,onFocus:this.$5,onKeyDown:this.$6,onKeyUp:this.$7,role:"checkbox",style:h,type:"button",children:b("React").cloneElement(g,{"aria-hidden":!0,className:"_3w08"+(this.props.value===b("SUIThreeStateCheckboxEnum").UNCHECKED?" accessible_elem":"")+" monochrome",disabled:this.props.disabled})});h=this.props.display==="block";g=b("joinClasses")("_1gcq"+(this.props.disabled?" _5_yg":"")+(h?" _29cz":"")+(h?"":" _29c-"),this.props.margin);h=b("SUIErrorComponentUtil").getErrorIcon(this.props,a,"_3w09");return!f&&!h?b("React").cloneElement(e,babelHelpers["extends"]({className:b("joinClasses")(this.props.className,g,e.props.className),onClick:this.$3,onMouseDown:this.$8},b("Tooltip").propsFor(this.props.tooltip))):b("React").jsxs("label",babelHelpers["extends"]({className:b("joinClasses")(this.props.className,g,h&&"_3w0a"),onClick:this.$3,onMouseDown:this.$8,style:babelHelpers["extends"]({},c.typeStyle,{color:i,fontWeight:"normal"},this.props.style)},b("Tooltip").propsFor(this.props.tooltip),{"data-tooltip-alignh":"center"},b("SUIErrorComponentUtil").getErrorTooltipProps(this.props),{children:[e,f?b("React").jsx("span",{className:"_1gcr",id:this.$1,children:d}):null,h]}))};return c}(b("React").Component);a.propTypes=babelHelpers["extends"]({},b("SUIErrorComponentUtil").propTypes,{disabled:(c=b("prop-types")).bool.isRequired,label:c.node,labelIsHidden:c.bool,display:c.oneOf(["inline","block"]).isRequired,margin:c.string,onChange:c.func.isRequired,theme:c.instanceOf(b("SUITheme")),tooltip:c.node,value:c.string});a.defaultProps=babelHelpers["extends"]({},b("SUIErrorComponentUtil").defaultProps,{disabled:!1,labelIsHidden:!1,display:"inline",value:b("SUIThreeStateCheckboxEnum").UNCHECKED});a.CHECKBOX_STATES=b("SUIThreeStateCheckboxEnum");e.exports=b("withSUITheme")(a)}),null);
__d("SUICheckboxInput.react",["React","SUIComponent","SUIThreeStateCheckboxInput.react","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SUIThreeStateCheckboxInput.react").CHECKBOX_STATES;a=b("SUIThreeStateCheckboxInput.react").defaultProps;a.value;c=babelHelpers.objectWithoutPropertiesLoose(a,["value"]);d=babelHelpers["extends"]({},c,{value:!1});f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SUICheckboxInput1=function(a,b){c.props.onChange(a===g.CHECKED,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props;a.onChange;var c=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","value"]);return b("React").jsx(b("SUIThreeStateCheckboxInput.react"),babelHelpers["extends"]({},a,{onChange:this.$SUICheckboxInput1,value:c?g.CHECKED:g.UNCHECKED}))};return c}(b("SUIComponent"));f.propTypes=babelHelpers["extends"]({},b("SUIThreeStateCheckboxInput.react").propTypes,{value:b("prop-types").bool});f.defaultProps=d;e.exports=f}),null);
__d("getSUIThreeStateCheckboxInputUniform.fds",["ix","cssVar","FDSPrivateTypeStyles","React","SUIGlyphIcon.react","asset","autoFlipStyleProps"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("FDSPrivateTypeStyles").createTypeStyleGetter;function a(a){a=i(a);return{activeCheckboxBackgroundColor:"#EBEDF0",activeCheckboxBorderColor:"#DADDE1",checkboxBackgroundColor:"#FFFFFF",checkboxBorderColor:"#DADDE1",checkedIcon:b("React").jsx(b("SUIGlyphIcon.react"),{srcDefault:g("495429"),srcDisabled:g("492920"),style:b("autoFlipStyleProps")({left:"0",top:"0"})}),disabledCheckboxBackgroundColor:"#EBEDF0",disabledLabelColor:"#BEC3C9",labelColor:"#1C1E21",partiallyCheckedIcon:b("React").jsx(b("SUIGlyphIcon.react"),{srcDefault:g("495440"),srcDisabled:g("492942"),style:b("autoFlipStyleProps")({left:"0",top:"0"})}),typeStyle:a({color:"#1C1E21",fontSize:"12px"})}}e.exports=a}),null);
__d("SUIThreeStateCheckboxInputUniform.fds",["FDSPrivateThemeAtomsClassic","getSUIThreeStateCheckboxInputUniform.fds"],(function(a,b,c,d,e,f){"use strict";e.exports=b("getSUIThreeStateCheckboxInputUniform.fds")(b("FDSPrivateThemeAtomsClassic"))}),null);
__d("FDSCheckboxInput.maintenance.react",["React","SUICheckboxInput.react","SUIThreeStateCheckboxInputUniform.fds","makeFDSStandardComponent","makeSUIFDSPrivateTheme"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("makeSUIFDSPrivateTheme")("FDSCheckboxInput",{SUIThreeStateCheckboxInput:b("SUIThreeStateCheckboxInputUniform.fds")});a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props;return b("React").jsx(b("SUICheckboxInput.react"),{"data-testid":a["data-testid"],disabled:a.isDisabled,display:a.display,id:a.id,label:a.label,margin:a.margin,onChange:a.onChange,style:a.style,theme:g,tooltip:a.tooltip,value:a.value})};return c}(b("React").PureComponent);a.defaultProps={display:"inline",isDisabled:!1,value:!1};e.exports=b("makeFDSStandardComponent")("FDSCheckboxInput",a)}),null);
__d("SUIPopoverContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(!1);e.exports=a}),null);
__d("SUIPopoverArrowBehavior",["csx","AbstractContextualDialogArrowBehavior","DOM"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getArrow=function(){var a=this.__layer.getContentRoot();return b("DOM").find(a,"._4ii9")};return c}(b("AbstractContextualDialogArrowBehavior"));e.exports=a}),null);
__d("SUIPopoverKeepInViewportBehavior",["csx","AbstractContextualDialogKeepInViewportBehavior","DOM","Style"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__adjustForScroll=function(a,c){var d=a.getContentRoot();a=a.getContent();b("Style").set(a,"top",-c+"px");this._arrow||(this._arrow=b("DOM").find(d,"._4ii9"));b("Style").set(this._arrow,"top",c+"px")};return c}(b("AbstractContextualDialogKeepInViewportBehavior"));e.exports=a}),null);
__d("SUIPopoverLayer.react",["cx","AlignmentEnum","ContextualLayerAutoFlip","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","PositionEnum","React","ReactAbstractContextualDialog","ReactLayer","SUIComponent","SUIPopoverArrowBehavior","SUIPopoverKeepInViewportBehavior","SUITheme","cxMargin","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=12;a=20;var i={ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),SUIPopoverKeepInViewportBehavior:b("SUIPopoverKeepInViewportBehavior"),ContextualLayerHideOnScrollOut:b("ContextualLayerHideOnScrollOut"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},j=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({arrowBehavior:b("SUIPopoverArrowBehavior"),displayName:"SUIPopoverLayerInternal",theme:{arrowDimensions:{offset:h,length:a},wrapperClassName:"_34q2"}}));c={alignment:b("AlignmentEnum").left,position:b("PositionEnum").right};d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=b("SUITheme").get(this).SUIPopover,c=0,d=0;switch(this.props.position){case"below":c=h;break;case"above":c=-h;break;case"right":d=h;break;case"left":d=-h;break;default:this.props.position}this.props.offsetX!==void 0&&this.props.offsetX!==null&&(d=this.props.offsetX);this.props.offsetY!==void 0&&this.props.offsetY!==null&&(c=this.props.offsetY);var e=this.props.margin||"_3-8k",f=this.props.behaviors!=null?babelHelpers["extends"]({},i,this.props.behaviors):i,g=this.props.position==="right"||this.props.position==="left";return b("React").jsx(j,{alignment:g?"left":this.props.alignment,autoFocus:!1,behaviors:f,contextRef:this.props.contextRef,"data-testid":this.props["data-testid"],focusContextOnHide:!1,keepInViewport:!1,offsetX:d,offsetY:c,position:this.props.position,shown:!0,children:b("React").jsxs("div",{className:"_4ii7"+(this.props.contentWidthUseSparingly!==null&&this.props.contentWidthUseSparingly!==void 0?" _4vie":""),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,style:babelHelpers["extends"]({backgroundColor:a.backgroundColor,border:a.border,borderRadius:a.borderRadius,boxShadow:a.boxShadow},a.typeStyle),children:[this.props.title!=null?b("React").jsx("div",{className:e,style:a.title.typeStyle,children:this.props.title}):null,b("React").jsx("div",{className:b("joinClasses")(e,"_4vif"),id:this.props.id,style:{width:this.props.contentWidthUseSparingly},children:this.props.content}),this.props.helpLink!=null?b("React").jsx("div",{className:"_4ii8",children:this.props.helpLink}):null,this.props.footer,b("React").jsx("div",{className:"_4ii9",children:a.showArrow&&b("React").jsx("div",{className:"_4iic",style:{backgroundColor:a.backgroundColor,border:a.border,boxShadow:(g=a.arrowBoxShadow)!=null?g:a.boxShadow}})})]})})};return c}(b("SUIComponent"));d.propTypes={alignment:b("AlignmentEnum").propType,content:(f=b("prop-types")).node.isRequired,contentWidthUseSparingly:f.number,contextRef:f.func.isRequired,footer:f.node,helpLink:f.node,margin:f.string,offsetX:f.number,offsetY:f.number,onMouseEnter:f.func,onMouseLeave:f.func,position:b("PositionEnum").propType,theme:f.instanceOf(b("SUITheme")),title:f.node};d.defaultProps=c;e.exports=d}),null);
__d("SUIPopover.react",["AlignmentEnum","Event","PositionEnum","React","ReactDOM","SUIComponent","SUIPopoverContext","SUIPopoverLayer.react","SUITheme","clearTimeout","prop-types","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={alignment:b("AlignmentEnum").left,delay:0,isShown:!1,linger:300,position:b("PositionEnum").right};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$SUIPopover3=null,d.$SUIPopover4=null,d.state={isRendered:!1,isHovered:!1},d.$SUIPopover8=function(){d.$SUIPopover10(),d.$SUIPopover11()},d.$SUIPopover9=function(){b("clearTimeout")(d.$SUIPopover6),d.$SUIPopover12()},d.$SUIPopover12=function(){b("clearTimeout")(d.$SUIPopover5),b("clearTimeout")(d.$SUIPopover7),d.$SUIPopover5=b("setTimeout")(d.$SUIPopover13,d.props.linger)},d.$SUIPopover13=function(){d.setState({isHovered:!1,isRendered:!1},d.$SUIPopover14)},d.$SUIPopover10=function(){b("clearTimeout")(d.$SUIPopover5),b("clearTimeout")(d.$SUIPopover7),d.$SUIPopover7=b("setTimeout")(d.$SUIPopover16,d.props.delay)},d.$SUIPopover15=function(){d.setState({isRendered:!0})},d.$SUIPopover16=function(){d.setState({isHovered:!0},d.$SUIPopover14)},d.$SUIPopover14=function(){d.props.onToggle&&d.props.onToggle(d.state.isHovered)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.hoverContextRef&&b("ReactDOM").findDOMNode(this.props.hoverContextRef());if(!a)return;this.$SUIPopover1=b("Event").listen(a,"mouseenter",this.$SUIPopover8);this.$SUIPopover2=b("Event").listen(a,"mouseleave",this.$SUIPopover9)};d.componentWillUnmount=function(){b("clearTimeout")(this.$SUIPopover5),b("clearTimeout")(this.$SUIPopover7),this.$SUIPopover1&&this.$SUIPopover1.remove(),this.$SUIPopover2&&this.$SUIPopover2.remove(),this.$SUIPopover3&&this.$SUIPopover3.remove(),this.$SUIPopover4&&this.$SUIPopover4.remove()};d.$SUIPopover11=function(){b("clearTimeout")(this.$SUIPopover6);var a=this.props,c=a.delay;a=a.renderDelay;a!=null&&a>=0&&a<c&&(this.$SUIPopover6=b("setTimeout")(this.$SUIPopover15,this.props.renderDelay))};d.render=function(){var a=this,c=this.props,d=c["data-testid"],e=c.contextRef,f=c.hoverContextRef,g=c.isShown,h=c.offsetX,i=babelHelpers.objectWithoutPropertiesLoose(c,["data-testid","contextRef","hoverContextRef","isShown","offsetX"]);c=this.state;var j=c.isRendered,k=c.isHovered;return b("React").jsx(b("SUIPopoverContext").Consumer,{children:function(c){c=k||c===!0||g;return j||c?b("React").jsx(b("SUIPopoverLayer.react"),babelHelpers["extends"]({contextRef:e||f,"data-testid":d,offsetX:j&&!c?-1e4:h,onMouseEnter:a.$SUIPopover10,onMouseLeave:a.$SUIPopover12},i)):null}})};return c}(b("SUIComponent"));c.propTypes={alignment:b("AlignmentEnum").propType,behaviors:(d=b("prop-types")).object,children:d.node,content:d.node.isRequired,contentWidthUseSparingly:d.number,delay:d.number,footer:d.node,helpLink:d.node,isShown:d.bool,linger:d.number,margin:d.string,offsetX:d.number,offsetY:d.number,position:b("PositionEnum").propType,renderDelay:d.number,theme:d.instanceOf(b("SUITheme")),title:d.node};c.defaultProps=a;e.exports=c}),null);
__d("TabBarItem.react",["cx","Event","Focus","Keys","React","ReactDOM","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("li",babelHelpers["extends"]({},this.props,{children:this.props.children}))};return c}(b("React").Component);c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onKeyDown=function(a){var c=b("Event").getKeyCode(a);c===b("Keys").SPACE&&d.refs.tab&&(b("ReactDOM").findDOMNode(d.refs.tab).click(),b("Event").prevent(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.selected,d=a.hideFocusRing;a=a.shouldWrapTab;c="_45hc"+(c?" _1hqh":"");d="_3m1v"+(d?" _468f":"");return a?this.$1(c,d):this.$2(b("joinClasses")(c,d))};d.$1=function(a,c){__p&&__p();var d=this.props,e=d.id,f=d.className,g=d.href,h=d.ajaxify,i=d.tabIndex,j=d.rel,k=d.target,l=d.selected,m=d.wrapper,n=d.mockSpacebarClick,o=d["aria-haspopup"];d.focused;d.hideFocusRing;d.shouldWrapTab;d=babelHelpers.objectWithoutPropertiesLoose(d,["id","className","href","ajaxify","tabIndex","rel","target","selected","wrapper","mockSpacebarClick","aria-haspopup","focused","hideFocusRing","shouldWrapTab"]);g=g||"#";var p={};n&&(p.onKeyDown=this.onKeyDown);n=b("React").jsx("a",{"aria-haspopup":o,"aria-describedby":e,ref:"tab",ajaxify:h,href:g,role:"tab",rel:j,target:k,tabIndex:i,className:c,"aria-selected":l,children:this.props.children});return b("React").jsx(m,babelHelpers["extends"]({},d,{tabIndex:null,className:b("joinClasses")(f,a),role:"presentation",children:b("React").cloneElement(n,p)}))};d.$2=function(a){__p&&__p();var c=this.props,d=c.id,e=c.className,f=c.href,g=c.selected,h=c.mockSpacebarClick;c=babelHelpers.objectWithoutPropertiesLoose(c,["id","className","href","selected","mockSpacebarClick"]);f=f||"#";var i={};h&&(i.onKeyDown=this.onKeyDown);delete c.menuAlignh;delete c.menuClassName;delete c.tabComponent;delete c.maxDropdownHeight;delete c.focused;delete c.hideFocusRing;delete c.wrapper;delete c.shouldWrapTab;h=b("React").jsx("a",babelHelpers["extends"]({"aria-haspopup":this.props["aria-haspopup"],"aria-describedby":d},c,{href:f,ref:"tab",role:"tab",className:b("joinClasses")(e,a),"aria-selected":g,children:this.props.children}));return b("React").cloneElement(h,i)};d.componentDidMount=function(){this.focus()};d.componentDidUpdate=function(a){this.props.focused!==a.focused&&this.focus()};d.focus=function(){this.props.focused&&b("Focus").set(this.refs.tab,!this.props.hideFocusRing)};return c}(b("React").Component);c.propTypes={wrapper:(d=b("prop-types")).func.isRequired,shouldWrapTab:d.bool,tabIndex:d.oneOf([-1,0]),selected:d.bool,focused:d.bool,hideFocusRing:d.bool,mockSpacebarClick:d.bool};c.defaultProps={"aria-haspopup":!1,wrapper:a,shouldWrapTab:!0,tabIndex:-1,selected:!1,focused:!1,hideFocusRing:!1,mockSpacebarClick:!0};e.exports=c}),null);
__d("SUITabItem.react",["ix","cx","FDSPrivateFocusLevelType","FDSPrivateThemeContext.react","FDSPrivateThemeUtils","KeyboardFocus.react","React","SUIComponent","SUIGlyphIcon.react","SUIPopover.react","SUIPopoverContext","SUITheme","SUITooltip.react","TabBarItem.react","asset","autoFlipStyleProps","cxMargin","emptyFunction","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FDSPrivateFocusLevelType").FDSElementStateType,j=b("FDSPrivateFocusLevelType").FDSFocusLevelType,k=200;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isHovering:!1},d.$SUITabItem1=b("uniqueID")(),d.$SUITabItem2=b("React").createRef(),d.$SUITabItem3=function(){return d.$SUITabItem2.current},d.$SUITabItem4=function(){d.setState({isHovering:!0}),d.props.onMouseEnter&&d.props.onMouseEnter()},d.$SUITabItem5=function(){d.setState({isHovering:!1}),d.props.onMouseLeave&&d.props.onMouseLeave()},d.$SUITabItem6=function(){d.props.onMouseDown&&d.props.onMouseDown()},d.$SUITabItem7=function(){d.props.onMouseUp&&d.props.onMouseUp()},d.$SUITabItem8=function(a){var b=d.props,c=b.onClick,e=b.onActivate;b=b.value;e&&e(b,a);c(b,a)},d.$SUITabItem9=function(a){d.props.onFocus&&d.props.onFocus(a)},d.$SUITabItem10=function(a){d.props.onBlur&&d.props.onBlur(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this;return b("React").jsx(b("FDSPrivateThemeContext.react").Consumer,{children:function(c){__p&&__p();return b("React").jsx(b("KeyboardFocus.react"),{onBlur:a.$SUITabItem10,onFocus:a.$SUITabItem9,children:function(d){__p&&__p();var e=d.isKeyboardFocused,f=d.onBlur;d=d.onFocus;var h=b("FDSPrivateThemeUtils").isGeo(c),l=b("SUITheme").get(a).SUITabItem,m=a.props,n=m.badge,o=m.chevron,p=m.className,q=m.subtext,r=m.href,s=m.icon,t=m.infoTooltip,u=m.isActive,v=m.isClickable,w=m.isDisabled,x=m.label;m=m.labelIsHidden;var y=u?l.activeTypeStyle:l.typeStyle,z;u?z=l.activeBorderBottomColor:a.state.isHovering&&(z=l.hoverBorderBottomColor!=null?l.hoverBorderBottomColor:l.hoverBackgroundColor);var A=w?{color:l.disabledColor}:{},B=l.typeStyle.lineHeight?parseInt(l.typeStyle.lineHeight,10):0;B=Math.round((l.height-B)*.5);var C=null;h&&e&&(u?C={backgroundColor:c.colors.active.transform(i["default"],j.focus)}:C={backgroundColor:c.colors.flat.transform(i["default"],j.focus),borderBottomColor:l.hoverBackgroundColor});y=babelHelpers["extends"]({borderBottomColor:z},y,C,A,{minHeight:l.height+"px",paddingTop:B+"px",paddingBottom:B+"px"});C=babelHelpers["extends"]({},l.subtextTypeStyle,A);A=babelHelpers["extends"]({},l.activeTypeStyle,{minHeight:l.height+"px",paddingTop:B+"px",paddingBottom:B+"px"});B=Boolean(n)?b("React").jsx("span",{className:"_3u2b",children:n}):null;n=Boolean(o)&&!h?b("React").jsx("span",{className:"_68_d",children:o}):null;o=Boolean(t)&&!h?b("React").jsxs("span",{className:"_3u2t",children:[b("React").jsx("div",{className:"_3-8r",ref:a.$SUITabItem2,role:"tooltip",children:b("React").jsx(b("SUIGlyphIcon.react"),{className:"_4m37",srcDefault:g("403741"),srcHover:g("403742")})}),t!=null&&b("React").jsx(b("SUIPopover.react"),{content:t,hoverContextRef:a.$SUITabItem3,id:a.$SUITabItem1,position:"below"})]}):null;s=s?b("React").cloneElement(s,{active:u,className:b("joinClasses")(s.props.className,"_ur6"),style:b("autoFlipStyleProps")({marginRight:m===!0?0:l.iconMargin})}):null;l=m===!0?b("React").jsx("span",{className:"accessible_elem",children:x}):x;m=b("React").jsxs(b("React").Fragment,{children:[l,n,B]});x=Boolean(q)&&!h?b("React").jsx("span",{style:C,children:q}):null;l=Boolean(q)&&!h?b("React").jsxs("span",{className:"_4n4x",children:[b("React").jsx("span",{className:"_4n4y",children:m}),x]}):m;n=b("React").jsxs("span",{"aria-hidden":!0,className:"_2ztj _60ol"+(Boolean(q)&&!h?" _4n4z":""),style:A,children:[s,l,o]});B=b("React").jsxs("span",{className:"_60om"+(a.props.density==="sparse"?" _3-8t":"")+(a.props.density==="flex"?" _3u2u":""),ref:a.props.tabRef,children:[b("React").jsxs("span",{className:b("joinClasses")("_2ztj _m_6"+(u?" _4i1f":"")+(!v||w?" _3mmj":"")+(Boolean(q)&&!h?" _4n4z":""),p),"data-testid":a.props["data-testid"],style:y,children:[s,l,o]}),n]});C=a.props;x=C.tabIndex;m=C.selected;A=C.focused;u=C.hideFocusRing;v=C.mockSpacebarClick;q=A===!0&&u||h;return w&&h?null:b("React").jsx(b("SUIPopoverContext").Provider,{value:e,children:b("React").jsxs(b("TabBarItem.react"),{"aria-haspopup":!!t,className:(a.props.density!=="flex"?"_1_mp":"")+(a.props.density==="flex"?" _3u2v":""),focused:A,hideFocusRing:q,href:r,id:o!==null?a.$SUITabItem1:void 0,mockSpacebarClick:v,onBlur:f,onClick:w?b("emptyFunction"):a.$SUITabItem8,onFocus:d,onMouseDown:w?b("emptyFunction"):a.$SUITabItem6,onMouseEnter:w?b("emptyFunction"):a.$SUITabItem4,onMouseLeave:w?b("emptyFunction"):a.$SUITabItem5,onMouseUp:w?b("emptyFunction"):a.$SUITabItem7,selected:m,tabIndex:x,children:[a.props.separator,Boolean(a.props.tooltip)?b("React").jsx(b("SUITooltip.react"),{alignment:a.props.tooltipAlignment,position:a.props.tooltipPosition,tooltip:a.props.tooltip,tooltipDelay:k,children:B}):B]})})}})}})};return c}(b("SUIComponent"));a.defaultProps={isClickable:!0,isDisabled:!1,density:"dense"};e.exports=a}),null);
__d("SUITabMenuItem.react",["cx","React","SUISelector.react","SUISelectorOption.react","SUITabItem.react","SUITheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.props.onMouseEnterTabItem(c.props.value)},c.$4=function(){c.props.onMouseLeaveTabItem(c.props.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(a,b){return!!a&&a.filter(function(a){return a.value===b}).length>0};d.$2=function(){var a=this.props.theme,c=a.SUITabGroup;return new(b("SUITheme"))({id:"suitabgroupcomposite",components:{SUISelector:a.SUISelector,SUISelectorOption:babelHelpers["extends"]({},a.SUISelectorOption,c.subItem,{selectedIcon:b("React").jsx("div",{style:{background:c.activeIndicatorColor,height:"29px",left:"0",position:"absolute",width:"2px"}})}),SUITabItem:a.SUITabItem}})};d.render=function(){var a=this.props,c=a.dropdownWidth,d=a.selectedValue,e=a.subItems,f=a.separator,g=a.onChange;a.onMouseEnterTabItem;a.onMouseLeaveTabItem;var h=a.onMouseEntersMenu,i=a.onMouseLeavesMenu,j=a.selectorRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["dropdownWidth","selectedValue","subItems","separator","onChange","onMouseEnterTabItem","onMouseLeaveTabItem","onMouseEntersMenu","onMouseLeavesMenu","selectorRef"]);var k=a.theme.SUITabGroup,l=this.$1(e,d);return b("React").jsxs("div",{className:"_8m_l",children:[f,b("React").jsx(b("SUISelector.react"),{button:b("React").jsx(b("SUITabItem.react"),babelHelpers["extends"]({},a,{chevron:k.chevron,isActive:l,isClickable:!1,onMouseEnter:this.$3,onMouseLeave:this.$4})),dropdownWidth:c,onChange:g,onMouseEntersMenu:h,onMouseLeavesMenu:i,ref:j,shouldHideOnBlur:!1,theme:this.$2(),value:l?d:null,children:e.map(function(a){return b("React").jsx(b("SUISelectorOption.react"),{description:a.description,icon:a.icon,value:a.value,children:a.label},a.value)})})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("TabBarItemWrapper.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getComponent=function(a){return a.component};var c=b.prototype;c.render=function(){return this.props.component};return b}(b("React").Component);e.exports=a}),null);
__d("TabBar.react",["cx","fbt","invariant","BootloadedComponent.react","Event","JSResource","React","ReactDOM","RTLKeys","TabBarItem.react","TabBarItemWrapper.react","clearTimeout","emptyFunction","joinClasses","setTimeout"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=h._("More");c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.$2=!1,e.state={activeTabKey:e.props.activeTabKey||e.props.defaultActiveTabKey,focusedTabKey:null,previousFocusedTabKey:null,visibleTabsCount:0,shouldCalculateVisibleTabs:!0,hideFocusRing:!0},e.onMouseDown=function(){e.setState({hideFocusRing:!0})},e.onKeyDown=function(a){__p&&__p();var d=b("Event").getKeyCode(a);switch(d){case b("RTLKeys").UP:case b("RTLKeys").getRight():case b("RTLKeys").DOWN:case b("RTLKeys").getLeft():var f,g=e.groupTabsByVisibility();g=g.visibleTabs;d=d===b("RTLKeys").UP||d===b("RTLKeys").getLeft();var h=d?-1:1,i=d?0:g.length-1,j=e.getFocusedTabIndex();j===-1&&h===-1&&(j=g.length);j===-1?f=null:j===i&&h===1?f=c.MORE_TAB_KEY:(d=d?Math.max:Math.min,d=d(j+h,i),f=g[d].key);f&&e.setState({focusedTabKey:f,hideFocusRing:!1});break;case b("RTLKeys").RETURN:j=e.getFocusedTab();if(j){h=j.key;i=e.props.onTabClick(h,a);i!==!1&&e.$2&&e.activateTab(h)}break}},e.onKeyUp=function(a){b("Event").getKeyCode(a)===b("RTLKeys").TAB&&e.state.hideFocusRing&&e.setState({hideFocusRing:!1})},e.onBlur=function(){e.setState(function(a){return{previousFocusedTabKey:a.focusedTabKey,focusedTabKey:null}}),e.$1=b("setTimeout")(function(){e.setState({previousFocusedTabKey:null})},c.BLUR_TIMEOUT)},d)||babelHelpers.assertThisInitialized(e)}var d=c.prototype;d.componentDidMount=function(){this.$3(),this.$4(),this.$2=!0};d.componentWillUnmount=function(){b("clearTimeout")(this.$1),this.$2=!1};d.UNSAFE_componentWillReceiveProps=function(a){this.setState(function(b){return{shouldCalculateVisibleTabs:!0,activeTabKey:a.activeTabKey||b.activeTabKey}})};d.shouldComponentUpdate=function(a,b){if(this.state.focusedTabKey&&!b.focusedTabKey)return!1;return!this.state.focusedTabKey&&!b.focusedTabKey&&this.state.previousFocusedTabKey&&!b.previousFocusedTabKey?!1:!0};d.componentDidUpdate=function(){this.state.shouldCalculateVisibleTabs&&this.$3(),this.$4()};d.render=function(){__p&&__p();var a=this,d=this.getTabs(),e=d.length,f=this.getActiveTabIndex();f=d[f];var g=this.getActiveTabIndex(!0),h;f&&(h=f.key);var i=this.props.dropdownTabComponent;i=b("React").jsx(i,{ref:"more",className:"_45hd _2pik",children:b("React").jsx("span",{className:"_1b0",children:this.props.moreLabel})},"_dropdown");if(this.state.shouldCalculateVisibleTabs)d=d.map(function(b,c){return a.$5(b,c,h,null,g,!1,!1)}),e>2&&d.push(i);else{e=this.groupTabsByVisibility();d=e.visibleTabs;e=e.extraTabs;var j=this.isDropdownSelected(),k=this.state.visibleTabsCount,l=this.state.focusedTabKey;l=l&&this.getFocusedTabIndex()===-1?c.MORE_TAB_KEY:l;d=d.map(function(b,c){return a.$5(b,c,h,l,g,!0,!0)});e=e.map(function(b,c){return a.$5(b,c,h,null,g,!0,!1)});if(e.length){var m;k===0&&f&&(m=f);f=m&&m.props.children||this.props.moreLabel;var n="_dropdown";i=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("TabBarDropdownItem.react").__setRef("TabBar.react"),bootloadPlaceholder:i,menuAlignh:this.props.dropdownMenuAlignh,menuClassName:this.props.dropdownMenuClassName,selected:j,focused:l===c.MORE_TAB_KEY,hideFocusRing:this.state.hideFocusRing,onMouseDown:this.onMouseDown,onFocus:this.onFocus.bind(this,n),onBlur:this.onBlur,ref:"more",label:f,tabComponent:this.props.dropdownTabComponent,maxDropdownHeight:this.props.maxDropdownHeight,children:e},n);k===0?d=i:d.push(i)}}j=Object.assign({},this.props);delete j.moreLabel;delete j.maxTabsVisible;delete j.onTabClick;delete j.activeTabKey;delete j.onHeightCalculated;delete j.onWidthCalculated;delete j.orientation;delete j.alwaysShowActive;delete j.dropdownTabComponent;delete j.shouldCalculateVisibleTabs;return b("React").jsx("ul",babelHelpers["extends"]({},j,{className:b("joinClasses")(this.props.className,"_43o4"+(this.props.orientation==="horizontal"?" _4470":"")+(this.props.orientation==="vertical"?" _4471":"")),role:"tablist",onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,children:d}))};d.setWidth=function(a){b("ReactDOM").findDOMNode(this).style.width=a,this.setState({shouldCalculateVisibleTabs:!0})};d.setHeight=function(a){b("ReactDOM").findDOMNode(this).style.height=a,this.setState({shouldCalculateVisibleTabs:!0})};d.$4=function(){this.props.orientation==="vertical"?this.$6():this.$7()};d.$6=function(){this.props.onWidthCalculated(b("ReactDOM").findDOMNode(this).clientWidth)};d.$7=function(){this.props.onHeightCalculated(b("ReactDOM").findDOMNode(this).clientHeight)};d.$3=function(){__p&&__p();var a=this,b=this.getTabs(),c=b.length,d=Object.keys(this.refs).map(function(b){return a.$8(a.refs[b])}),e=Math.ceil(this.$8(this)),f=this.$8(this.refs.more),g=Math.min(c,this.props.maxTabsVisible);if(!this.props.shouldCalculateVisibleTabs){this.setState({visibleTabsCount:g,shouldCalculateVisibleTabs:!1});return}var h=this.getActiveTabIndex();this.props.alwaysShowActive&&h!==-1&&(b.unshift(b.splice(h,1)[0]),d.unshift(d.splice(h,1)[0]));g=0;h=0;for(var i=0;i<c;i++){var j=d[i],k=b[i].key||"";if(h+j>e&&!k.startsWith("visual_poll_")){if(g>0&&c>2)while(g>0&&(h+f>e||c-g<2))g--,h-=d[g];else g=0;break}g++;h+=j}this.setState({visibleTabsCount:Math.min(g,this.props.maxTabsVisible),shouldCalculateVisibleTabs:!1})};d.$8=function(a){a=b("ReactDOM").findDOMNode(a);if(!a||!(a instanceof HTMLElement))return 0;a=a.getBoundingClientRect();var c=a.width;a=a.height;return this.props.orientation==="vertical"?a:c};d.getActiveTabIndex=function(a){__p&&__p();a===void 0&&(a=!1);var b=this.state.activeTabKey;if(a){a=this.groupTabsByVisibility();a=a.visibleTabs;a=a}else a=this.getTabs();return a.findIndex(function(a){return b!=null&&a&&a.key===b})};d.getFocusedTabIndex=function(){var a=this.state.focusedTabKey||this.state.previousFocusedTabKey,b=this.groupTabsByVisibility();b=b.visibleTabs;return b.findIndex(function(b){return a!=null&&b&&b.key===a})};d.getFocusedTab=function(){var a=this.state.focusedTabKey,b=this.groupTabsByVisibility();b=b.visibleTabs;var c=b.findIndex(function(b){return a!=null&&b&&b.key===a});return b[c]};d.onClick=function(a,b){b=this.props.onTabClick(a,b);b!==!1&&this.$2&&this.activateTab(a)};d.onFocus=function(a,c){b("clearTimeout")(this.$1),a!==this.state.focusedTabKey&&(this.setState({focusedTabKey:a,previousFocusedTabKey:null}),c.preventDefault(),c.stopPropagation())};d.$5=function(a,d,e,f,g,h,j){__p&&__p();var k=this;a.key!==c.MORE_TAB_KEY||i(0,4969);e=e!=null&&e===a.key;f=f!=null&&f===a.key;f={selected:e,focused:f,tabIndex:e||g===-1&&d===0?0:-1,hideFocusRing:this.state.hideFocusRing};h?(f.onClick=function(b,c){c=(c=c)!=null?c:b;k.onClick(a.key,c)},f.onMouseDown=this.onMouseDown):f.mockSpacebarClick=!1;j&&(f.onFocus=this.onFocus.bind(this,a.key),f.onBlur=this.onBlur);a=b("React").cloneElement(a,f);return b("React").jsx(b("TabBarItemWrapper.react"),{component:a,ref:d},a.key)};d.activateTab=function(a){a&&this.setState({activeTabKey:a,focusedTabKey:a,shouldCalculateVisibleTabs:!0})};d.getTabs=function(){var a=[];b("React").Children.forEach(this.props.children,function(b){b&&a.push(b)});return a};d.groupTabsByVisibility=function(){__p&&__p();var a=this.state.visibleTabsCount,b=this.getTabs(),c=this.getActiveTabIndex(),d,e;if(!this.props.alwaysShowActive||c<a||a===0)e=b.slice(a),d=b.slice(0,a);else{c=b.splice(c,1)[0];a=a>0?a-1:0;e=b.slice(a);d=b.slice(0,a);d.push(c)}return{visibleTabs:d,extraTabs:e}};d.isDropdownSelected=function(){var a=this.state.visibleTabsCount,b=this.getActiveTabIndex();a=!this.props.alwaysShowActive&&b>=a||a===0&&b>-1;return a};return c}(b("React").Component);c.MORE_TAB_KEY="_moreTab";c.BLUR_TIMEOUT=120;c.Tab=b("TabBarItem.react");c.defaultProps={alwaysShowActive:!0,className:"",dropdownTabComponent:b("TabBarItem.react"),maxTabsVisible:Infinity,moreLabel:a,onHeightCalculated:b("emptyFunction").thatReturns,onTabClick:b("emptyFunction").thatReturnsTrue,onWidthCalculated:b("emptyFunction").thatReturns,orientation:"horizontal",shouldCalculateVisibleTabs:!0};e.exports=c}),null);
__d("SUITabGroup.react",["cx","React","SUIComponent","SUITabItem.react","SUITabMenuItem.react","SUITheme","TabBar.react","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=200;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SUITabGroup2=new Map(),c.$SUITabGroup3=function(a,b){if(c.$SUITabGroup4(a)||c.$SUITabGroup5(a))return!1;var d=c.props.onChange;d&&c.props.value!==a&&d(a,b);d=c.props.onTabClick;d!=null&&d(a,b);return!0},c.$SUITabGroup6=function(a){window.clearTimeout(c.$SUITabGroup1);c.$SUITabGroup2.forEach(function(b,c){b&&c!==a&&b.hideMenu()});var b=c.$SUITabGroup2.get(a);b&&b.showMenu()},c.$SUITabGroup7=function(a){c.$SUITabGroup1=window.setTimeout(function(){var b=c.$SUITabGroup2.get(a);b&&b.hideMenu()},h)},c.$SUITabGroup8=function(){window.clearTimeout(c.$SUITabGroup1)},c.$SUITabGroup9=function(){c.$SUITabGroup1=window.setTimeout(function(){c.$SUITabGroup2.forEach(function(a){a&&a.hideMenu()})},h)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$SUITabGroup5=function(a){return this.props.tabs.some(function(b){return b.value===a&&b.subItems&&b.subItems.length})};d.$SUITabGroup4=function(a){return this.props.tabs.some(function(b){return b.value===a&&b.isDisabled})};d.render=function(){__p&&__p();var a=this,c,d=b("SUITheme").get(this),e=d.SUITabGroup,f=d.SUITabItem,g=this.props.value!==null&&this.props.value!==void 0?this.props.value:this.props.tabs.length?this.props.tabs[0].value:null;this.$SUITabGroup2=new Map();var h=this.props.density==="flex";return b("React").jsx(b("TabBar.react"),{activeTabKey:g,className:b("joinClasses")("_67ui"+(h?" _3cld":""),this.props.className,this.props.margin),"data-testid":this.props["data-testid"],dropdownMenuAlignh:this.props.dropdownMenuAlignh,maxDropdownHeight:this.props.dropdownMaxHeight,maxTabsVisible:this.props.maxTabsVisible,moreLabel:(c=this.props.moreLabel)!=null?c:void 0,onTabClick:this.$SUITabGroup3,shouldCalculateVisibleTabs:!h,children:this.props.tabs.map(function(c,h){var i,j;h=Boolean(e.dividerColor)&&h<a.props.tabs.length;i=(i=e.dividerSize)!=null?i:f.height*.6;j=(j=e.dividerHorzMargin)!=null?j:0;h=h?b("React").jsx("div",{className:"_57p3 _3mmj",style:{backgroundColor:e.dividerColor,height:i,marginLeft:j,marginRight:j}}):null;i={"data-testid":c["data-testid"],icon:c.icon,tooltipAlignment:a.props.tooltipAlignment,tooltipPosition:a.props.tooltipPosition,isDisabled:c.isDisabled,key:c.value,label:c.label,labelIsHidden:a.props.labelIsHidden,onActivate:c.onActivate,onClick:b("emptyFunction"),separator:h,tabRef:c.ref,subtext:c.subtext,theme:d,value:c.value};return c.subItems?b("React").jsx(b("SUITabMenuItem.react"),babelHelpers["extends"]({},i,{dropdownWidth:a.props.dropdownWidth,onChange:a.$SUITabGroup3,onMouseEnterTabItem:a.$SUITabGroup6,onMouseEntersMenu:a.$SUITabGroup8,onMouseLeaveTabItem:a.$SUITabGroup7,onMouseLeavesMenu:a.$SUITabGroup9,selectedValue:g,selectorRef:function(b){return a.$SUITabGroup2.set(c.value,b)},subItems:c.subItems})):b("React").jsx(b("SUITabItem.react"),babelHelpers["extends"]({},i,{badge:c.badge,density:a.props.density,href:c.href,infoTooltip:c.infoTooltip,isActive:c.value===g,tooltip:c.tooltip,tooltipAlignment:c.tooltipAlignment,tooltipPosition:c.tooltipPosition}))})})};return c}(b("SUIComponent"));e.exports=a}),null);
__d("FDSPrivateInfoIconSelector",["ix","asset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={"default":g("481013"),hover:g("485955")},i={"default":g("547567"),hover:g("547567")};function a(a){switch(a){case"hover":return i.hover;case"default":default:return i["default"]}}function b(a){switch(a){case"hover":return h.hover;case"default":default:return h["default"]}}e.exports={classicIconSelector:b,geoIconSelector:a}}),null);
__d("getSUIPopoverUniform.fds",["cssVar","FDSPrivateInfoIconSelector","FDSPrivateThemeUtils","FDSPrivateTypeStyles","React","SUIGlyphIcon.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FDSPrivateInfoIconSelector").classicIconSelector,i=b("FDSPrivateInfoIconSelector").geoIconSelector,j=b("FDSPrivateTypeStyles").createTypeStyleGetter;function a(a){var c=b("FDSPrivateThemeUtils").isGeo(a),d=c?i:h,e=j(a);return{arrowBoxShadow:"none",backgroundColor:"#FFFFFF",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:c?8:2,boxShadow:c?a.elevation.depth2:"0 4px 8px rgba(0, 0, 0, 0.1)",icon:b("React").jsx(b("SUIGlyphIcon.react"),{srcDefault:d("default"),srcHover:d("hover")}),footer:{borderTop:"1px solid #DADCDE"},showArrow:!c,title:{typeStyle:e({color:"#1C1D1D",fontSize:c?"16px":"14px",fontWeight:"bold"})},typeStyle:e({color:"#1C1D1D",fontSize:c?"14px":"12px",fontWeight:"normal"})}}e.exports=a}),null);
__d("getSUITabGroupUniform.fds",["ix","cssVar","FDSPrivateThemeUtils","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.tab;a=b("FDSPrivateThemeUtils").isGeo(a);a=a?{dividerColor:"rgba(0, 0, 0, 0.15)",dividerHorzMargin:4,dividerSize:12}:null;var d=c.subItem.padding;return babelHelpers["extends"]({},a,{activeIndicatorColor:c.active.background,chevron:b("React").jsx(b("Image.react"),{src:g("481883")}),subItem:{selectedBackgroundColor:c.subItem.active.backgroundColor,selectedColor:c.subItem.active.color,highlightedBackgroundColor:c.subItem.hover.backgroundColor,highlightedColor:c.subItem.hover.color,padding:{bottom:d+"px",left:d*2+"px",right:d*3+"px",top:d+"px"}}})}e.exports=a}),null);
__d("getSUITabItemUniform.fds",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.tab;a=a.type;return{activeBorderBottomColor:b.active.background,activeTypeStyle:{color:b.active.color,fontFamily:a.fontFamily,fontSize:"14px",fontWeight:"bold",letterSpacing:a.letterSpacing,lineHeight:"18px"},disabledColor:"#BEC3C9",height:b.item.height,hoverBackgroundColor:b.item.hover,iconMargin:8,subtextTypeStyle:{color:"#606770",fontFamily:a.fontFamily,fontSize:"12px",fontWeight:"normal",letterSpacing:a.letterSpacing,lineHeight:"16px"},typeStyle:{color:b.item.color,fontFamily:a.fontFamily,fontSize:"14px",letterSpacing:a.letterSpacing,lineHeight:"18px"}}}e.exports=a}),null);
__d("FDSTabGroup.react",["ix","cx","FDSPrivateThemeContext.react","FDSPrivateThemeUtils","Image.react","React","SUITabGroup.react","asset","getSUIDropdownSelectorOptionUniform.fds","getSUIDropdownSelectorUniform.fds","getSUIPopoverUniform.fds","getSUITabGroupUniform.fds","getSUITabItemUniform.fds","getSUITooltipUniform.fds","makeFDSStandardComponent","makeSUIThemeGetter","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("makeSUIThemeGetter")({SUIPopover:b("getSUIPopoverUniform.fds"),SUISelector:b("getSUIDropdownSelectorUniform.fds"),SUISelectorOption:b("getSUIDropdownSelectorOptionUniform.fds"),SUITabGroup:b("getSUITabGroupUniform.fds"),SUITabItem:b("getSUITabItemUniform.fds"),SUITooltip:b("getSUITooltipUniform.fds")});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return b("FDSPrivateThemeUtils").isGeo(this.context)};d.$2=function(){return i(this.context)};d.render=function(){var a=this.props,c=this.$1(),d=c?"dense":a.density,e=this.$2(),f=a.maxTabsVisible,h;if(c||f!=null&&f>0){f=c?b("React").jsx("span",{className:"s3f268ue f7sb4vbq jhs5fj3z n931x8ql qfmpuf8e tc9724hg fl9ykaku"}):null;h=b("React").jsxs(b("React").Fragment,{children:[f,b("React").jsxs("span",{className:"_7zai",children:["More",b("React").jsx(b("Image.react"),{className:"_7zaj",src:g("481882")})]})]})}return b("React").jsx(b("SUITabGroup.react"),{"data-testid":a["data-testid"],density:d,dropdownMaxHeight:a.dropdownMaxHeight,dropdownMenuAlignh:a.dropdownMenuAlignh,labelIsHidden:a.labelIsHidden,maxTabsVisible:a.maxTabsVisible,moreLabel:h,onChange:a.onChange,onTabClick:a.onTabClick,tabs:a.tabs,theme:e,value:a.value})};return c}(b("React").PureComponent);a.defaultProps={density:"sparse"};a.contextType=b("FDSPrivateThemeContext.react");e.exports=b("makeFDSStandardComponent")("FDSTabGroup",a)}),null);
__d("FBRTCSoundController",["RTCConfig","RTWebUserActionLogger","Sound"],(function(a,b,c,d,e,f){__p&&__p();var g=[(a=b("RTCConfig")).ringtone_mp3_url,a.ringtone_ogg_url],h=[a.ringback_mp3_url,a.ringback_ogg_url];c={playIncomingRingtone:function(a,c,d){var e=d.loop,f=d.isP2P;d=d.isUnsupportedDialog;d=d===void 0?!1:d;c=["incoming_ringtone",a.toString(),c].join("_");b("Sound").play(g,c,e);b("RTWebUserActionLogger").logEvent({callID:a.toString(),callType:f?"p2p":"mw",component:"incoming_ring_tone",eventName:"ring_tone_played",surface:d?"missed_call_dialog":"incoming_call_dialog"})},stopIncomingRingtone:function(){b("Sound").stop(g)},playRingbackTone:function(){b("Sound").play(h,null,!0)},stopRingbackTone:function(){b("Sound").stop(h)}};e.exports=c}),null);
__d("FBRTCUtils",["AsyncRequest","FBIDCheck","FBRTCConfig","RTCConfig","RTWebUserActionLogger","assignMediaStream","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g=6e3,h="setSinkId"in window.HTMLMediaElement.prototype;a={attachMediaStream:function(a,c){if(a==null)return;b("assignMediaStream")(a,c);if(c){c=a.play();c!==void 0&&c["catch"](function(a){b("RTWebUserActionLogger").logError({errorDomain:"autoplay was prevented",errorType:a.toString()})})}},aboutEqual:function(a,b){return a-b<.01&&b-a<.01},sendServerRequest:function(a,c,d,e,f,h){c===void 0&&(c=b("emptyFunction"));d===void 0&&(d=b("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=g);h===void 0&&(h={});a=new(b("AsyncRequest"))().setURI(a).setData(h).setAllowCrossPageTransition(!0).setHandler(c).setErrorHandler(d).setTimeoutHandler(f,function(){d()});e&&a.setOption("asynchronous_DEPRECATED",!1);a.send()},supportsSetSink:function(){return h},isPeerVCEndpoint:function(a){var c=b("FBRTCConfig").isVCEndpointCall();return c!==void 0?c:!!a&&!b("FBIDCheck").isUser_deprecated(a)&&b("RTCConfig").CollabVCEndpointsVideoCallGK},isCollabTrigger:function(a){return a==="quickdial"||a==="meeting_room_page_profile"}};e.exports=a}),null);
__d("FBRTCStreamWrapper",["FBRTCUtils","mixInEventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g=100,h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i;a=function(){"use strict";__p&&__p();function a(){this.$1=!0,this.$2=!0,this.$3=null,this.$4=null}var c=a.prototype;c.setStream=function(a,b){b===void 0&&(b=!0);var c=this.hasStream();this.stop();this.$5();this.$6();b&&(a.onaddtrack=this.$7.bind(this),a.onremovetrack=this.$7.bind(this),a.onended=this.$8.bind(this),c&&this.emit("tracksChanged"));this.$3=a};c.getStreamId=function(){return this.$3!=null?this.$3.id:null};c.getStream=function(){return this.$3};c.hasStream=function(){return!!this.$3};c.stop=function(){this.$3&&(a.stopStream(this.$3),this.$3=null)};c.hasVideoTracks=function(){return this.$3&&this.$3.getVideoTracks?this.$3.getVideoTracks().length>0:!0};c.hasVideo=function(){return this.$2&&this.hasVideoTracks()};c.hasAudioTracks=function(){return this.$3&&this.$3.getAudioTracks?this.$3.getAudioTracks().length>0:!0};c.hasAudio=function(){return this.$1&&this.hasAudioTracks()};c.attachToVideoTag=function(a){this.$3&&(a instanceof HTMLVideoElement&&(this.$4=a,b("FBRTCUtils").attachMediaStream(a,this.$3),this.$9(a)))};c.getAudioAnalyser=function(){if(this.$3){var a=this.$10(),b=a.createMediaStreamSource(this.$3);a=a.createAnalyser();a.fftSize=2048;b.connect(a);return a}return null};c.$10=function(){i||(i=new h());return i};c.toggleMuteAudio=function(){if(!this.hasAudioTracks())return;this.$1=!this.$1;this.$5()};c.$5=function(){if(this.$3){var a=this.$3.getAudioTracks();for(var b=0;b<a.length;b++)a[b].enabled=this.$1}};c.toggleMuteVideo=function(){this.$2=!this.$2,this.$2?this.$6():setTimeout(this.$6.bind(this),500),this.$7()};c.$6=function(){if(this.$3){var a=this.$3.getVideoTracks();for(var b=0;b<a.length;b++)a[b].enabled=this.$2}};c.setVideoEnabled=function(a){this.$2=a,this.$6(),this.$7()};c.$9=function(a){!this.hasVideo()||a.currentTime>0?this.$11(a):setTimeout(this.$9.bind(this,a),g)};c.$11=function(a){this.emit("streamStarted")};c.$8=function(){this.emit("streamEnded")};c.$7=function(a){this.$12(a)&&(this.$4!=null&&this.attachToVideoTag(this.$4)),this.emit("tracksChanged")};c.$12=function(a){return this.$4!=null&&a!=null&&a.type==="addtrack"&&a.track.kind==="video"};a.stopStream=function(a){a.active!=null&&a.active?a.getTracks().forEach(function(a){a.stop()}):a.stop!=null&&typeof a.stop==="function"&&a.stop()};return a}();b("mixInEventEmitter")(a,{streamStarted:!0,streamEnded:!0,tracksChanged:!0});e.exports=a}),null);
__d("RTCAppDispatcher",["ExplicitRegistrationDispatcher","objectValues"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}var d=c.prototype;d.explicitlyRegisterStoresInMap=function(a){this.explicitlyRegisterStores(b("objectValues")(a))};return c}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("RTCSVGIcon.react",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").Children;a=function(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return b("React").cloneElement(g.only(c),babelHelpers["extends"]({preserveAspectRatio:"xMidYMid meet"},a))};e.exports=a}),null);
__d("RTCAbstractButton.react",["cx","AbstractButton.react","FBRTCSupport","React","RTCSVGIcon.react","joinClasses","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var b=d.props.disabled;if(b){a.preventDefault();return}d.props.shouldThrottle?d.$2():d.props.onClick()},d.$2=b("throttle")(function(){d.props.onClick()},500),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.children,d=a.className,e=a.disabled,f=a.highlighted,g=a.title;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","disabled","highlighted","title"]);c=b("React").jsx(b("RTCSVGIcon.react"),{className:"_4uwr",children:c});return b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({"aria-disabled":e,className:b("joinClasses")(d,"_4uwq"+(!e&&f?" highlighted":"")),"data-hover":e||b("FBRTCSupport").isMobileDevice()?"none":"tooltip",image:c,label:g},a,{onClick:this.$1}))};return c}(b("React").PureComponent);a.defaultProps={highlighted:!1,disabled:!1,labelIsHidden:!0,shouldThrottle:!0};e.exports=a}),null);
__d("RTCCallControlsButton.react",["React","RTCAbstractButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.title;a=babelHelpers.objectWithoutPropertiesLoose(a,["title"]);return b("React").jsx(b("RTCAbstractButton.react"),babelHelpers["extends"]({"data-tooltip-alignh":"center","data-tooltip-content":c,label:c,labelIsHidden:this.props.labelIsHidden,title:c},a))};return c}(b("React").PureComponent);a.defaultProps={highlighted:!1,disabled:!1,shouldThrottle:!0,labelIsHidden:!0};e.exports=a}),null);
__d("RTCAudioTrackNoiseDetector",["invariant","Promise","MediaStream"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="audio track with absolute silence",i="audio track data timeout",j='wrong track type, expected "audio"',k=100;a={ABSOLUTE_SILENCE_ERROR:h,DATA_TIMEOUT_ERROR:i,WRONG_TRACK_TYPE_ERROR:j,detect:function(a,c){__p&&__p();if("kind"in a&&a.kind!=="audio")return b("Promise").reject(new Error(j));var d=new(b("MediaStream"))();d.addTrack(a);var e=new AudioContext(),f=e.createMediaStreamSource(d),l=e.createScriptProcessor(0,1,1),m=k,n=function(){__p&&__p();l!=null||g(0,2865);l.onaudioprocess=null;l.disconnect();l=null;f!=null||g(0,2866);f.disconnect();f=null;d!=null||g(0,2867);d.removeTrack(a);d=null;e!=null||g(0,2868);return b("Promise").resolve(e.close())["catch"](function(){return b("Promise").resolve()}).then(function(){e=null})};return b("Promise").race([new(b("Promise"))(function(a,b){__p&&__p();l!=null||g(0,2865),l.onaudioprocess=function(c){__p&&__p();c=c.inputBuffer;for(var c=c.getChannelData(0),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(f!==0){a();return}}m>0?m--:b(new Error(h))},f!=null||g(0,2866),f.connect(l),e!=null||g(0,2868),l.connect(e.destination)}),new(b("Promise"))(function(a){return window.setTimeout(a,c)}).then(function(){throw new Error(i)})]).then(function(){return n()})["catch"](function(a){return n().then(function(){throw a})})}};e.exports=a}),null);
__d("RTCEndCallReason",["FBRTCConstants","FBRTCDismissReason","FBRTCHangupReason","FBRTCRtcResponseStatusCode","RTWebStrings"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").CallEndReason,h=b("FBRTCConstants").CollabCallEndSubreason;a=function(){__p&&__p();function a(a){this.$3="local",typeof a==="string"||a instanceof String?this.$1=b("FBRTCConstants").endCallReasonFromString(a):this.$1=a}var c=a.prototype;c.setSubreason=function(a){this.$2=a;return this};c.getSubreason=function(){return this.$2};c.setRemoteEnded=function(a){this.$3=a?"remote":"local";return this};c.getRemoteEnded=function(){return this.$3==="remote"};c.toStrName=function(a){a===void 0&&(a=!0);return a?this.$4()+"_"+this.$3:this.$4()};c.$4=function(){return b("FBRTCConstants").callEndReasonString(this.$1)};c.getReasonID=function(){return this.$1};c.toString=function(a){var b;a===void 0&&(a=!1);b=((b=this.$5(a))!=null?b:"").toString();return a?b+" "+this.$6():b};c.$5=function(a){__p&&__p();switch(this.$1){case g.NO_ANSWER_TIMEOUT:case g.IGNORE_CALL:return b("RTWebStrings").noAnswer;case g.OTHER_NOT_CAPABLE:if(this.$2===h.MCU_INVALID_STREAM_CONFIGURATION)return b("RTWebStrings").invalidStreamConfiguration;case g.INCOMING_TIMEOUT:case g.NO_PERMISSION:case g.OTHER_CARRIER_BLOCKED:return b("RTWebStrings").unreachable;case g.SIGNALING_MESSAGE_FAILED:case g.WEBRTC_ERROR:case g.NO_UI_ERROR:case g.CALLER_NOT_VISIBLE:case g.CLIENT_ERROR:return b("RTWebStrings").callFailed;case g.UNSUPPORTED_VERSION:return b("RTWebStrings").cannotConnect;case g.IN_ANOTHER_CALL:return b("RTWebStrings").inAnotherCall;case g.CARRIER_BLOCKED:return b("RTWebStrings").switchToWiFi;case g.CLIENT_INTERRUPTED:return b("RTWebStrings").callInterrupted;case g.HANGUP_CALL:case g.ACCEPT_AFTER_HANGUP:return a?"":b("RTWebStrings").callEnded;case g.CONNECTION_DROPPED:return b("RTWebStrings").connectionLost;case g.OTHER_INSTANCE_HANDLED:return null;case g.CLIENT_ENCRYPTION_ERROR:return b("RTWebStrings").clientEncryptionError;case g.INACTIVE_TIMEOUT:return b("RTWebStrings").inactive;default:return null}};c.$6=function(){__p&&__p();var a;if(this.$1!==g.OTHER_NOT_CAPABLE&&this.$1!==g.SIGNALING_MESSAGE_FAILED&&this.$1!==g.HANGUP_CALL&&this.$1!==g.ACCEPT_AFTER_HANGUP)return"";switch(this.$2){case h.REMOTE_PEER_HANGUP:return"Call ended";case h.REMOTE_PEER_REJECT:return"Call declined";case h.CLOSED_BY_MCU:return"Call expired";case h.CLOSED_AS_STALE:return"Server failed, call is stale";case h.CALL_INITIALIZATION_FAILED:return"Call initialization to room failed";case h.SIP_CONNECTION_INITIALIZATION_FAILED:return"No Answer";case h.LOST_MCU_CONNECTION:return"MCU Media connection failed";case h.LOST_MCU_THRIFT_CONNECTION:return"MCU infrastructure dropped connection";case h.LOST_SIP_ADAPTER_CONNECTION:return"SIP infrastructure dropped connection";case h.MCU_NO_AUDIO_STREAM:return"Invalid audio stream";case h.MCU_INVALID_STREAM_CONFIGURATION:return"Invalid stream configuration";case h.INVALID_MEETING_ID:return"Invalid meeting ID";case h.UNKNOWN:default:a=(a=this.$2)!=null?a:"Unknown";return this.$2!=null&&this.$2!==""?"Unexpected call failure: "+a:"Call ended"}};a.fromHangupReason=function(c){switch(c){case b("FBRTCHangupReason").IGNORE_CALL:return new a(g.IGNORE_CALL);case b("FBRTCHangupReason").NO_ANSWER_TIMEOUT:return new a(g.NO_ANSWER_TIMEOUT);case b("FBRTCHangupReason").HANGUP_CALL:return new a(g.HANGUP_CALL);case b("FBRTCHangupReason").CLIENT_ERROR:return new a(g.CLIENT_ERROR);case b("FBRTCHangupReason").IN_ANOTHER_CALL:return new a(g.IN_ANOTHER_CALL);case b("FBRTCHangupReason").CLIENT_INTERRUPTED:return new a(g.CLIENT_INTERRUPTED);default:return new a(g.HANGUP_CALL)}};a.subreasonFromDismissRequest=function(a){if(!a)return null;switch(a.reason){case b("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return"REMOVED_BY_PARTICIPANT";default:return null}};a.fromDismissRequest=function(c){__p&&__p();if(!c)return new a(g.HANGUP_CALL);switch(c.reason){case b("FBRTCDismissReason").ANSWERED_ON_ANOTHER_DEVICE:case b("FBRTCDismissReason").REJECTED_ON_ANOTHER_DEVICE:return new a(g.OTHER_INSTANCE_HANDLED);case b("FBRTCDismissReason").CALL_ENDED:return new a(g.HANGUP_CALL);case b("FBRTCDismissReason").IN_ANOTHER_CALL:return new a(g.IN_ANOTHER_CALL);case b("FBRTCDismissReason").CONNECTION_DROPPED:return new a(g.CONNECTION_DROPPED);case b("FBRTCDismissReason").REMOVED_BY_PARTICIPANT:return new a(g.HANGUP_CALL);case b("FBRTCDismissReason").REJECTED_BY_CALLEE:return new a(g.IGNORE_CALL);case b("FBRTCDismissReason").INTERNAL_ERROR:return new a(g.SIGNALING_MESSAGE_FAILED);default:return new a(g.HANGUP_CALL)}};a.fromResponseStatusCode=function(c){switch(c){case b("FBRTCRtcResponseStatusCode").PRECONDITION_FAILURE:case b("FBRTCRtcResponseStatusCode").METHOD_NOT_ALLOWED:case b("FBRTCRtcResponseStatusCode").UNAUTHORIZED:return new a(g.NO_PERMISSION);case b("FBRTCRtcResponseStatusCode").SERVICE_UNAVAILABLE:return new a(g.SIGNALING_MESSAGE_FAILED);case b("FBRTCRtcResponseStatusCode").SERVER_INTERNAL_ERROR:case b("FBRTCRtcResponseStatusCode").BAD_REQUEST:case b("FBRTCRtcResponseStatusCode").BUSY_HERE:case b("FBRTCRtcResponseStatusCode").CONDITIONAL_REQUEST_FAILED:case b("FBRTCRtcResponseStatusCode").NOT_FOUND:return new a(g.CLIENT_ERROR);default:return new a(g.HANGUP_CALL)}};return a}();e.exports=a}),null);
__d("RTCMediaDevices",["invariant","Promise","RTCOnDeviceChangePoller"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=navigator.mediaDevices&&typeof navigator.mediaDevices.enumerateDevices==="function",i=window.MediaStreamTrack&&window.MediaStreamTrack.getSources==="function",j=1e3,k;a={addEventListener:function(a,c){if(a==="devicechange"&&b("RTCOnDeviceChangePoller").isNeeded()){k||(k=new(b("RTCOnDeviceChangePoller"))(j));k.add(c);return}var d=navigator;d=d.mediaDevices;d&&"addEventListener"in d&&d.addEventListener(a,c)},removeEventListener:function(a,c){if(a==="devicechange"&&b("RTCOnDeviceChangePoller").isNeeded()){k&&k.remove(c);return}var d=navigator;d=d.mediaDevices;d&&"removeEventListener"in d&&d.removeEventListener(a,c)},isSupported:function(a){switch(a){case"enumerateDevices":return h||i;default:return Boolean(navigator.mediaDevices)}},enumerateDevices:function(){if(h){navigator.mediaDevices||g(0,4492);return b("Promise").resolve(navigator.mediaDevices.enumerateDevices())}else if(i)return new(b("Promise"))(function(a){return window.MediaStreamTrack.getSources(a)}).then(l);return b("Promise").reject(new Error("enumerateDevices() not supported"))},filterDevicesOfKind:function(a,b){return a.filter(function(a){return a.kind===b})}};function l(a){return a.map(function(a){var b=a.id,c=a.kind;a=a.label;return{deviceId:b,groupId:"",kind:c==="video"?"videoinput":"audioinput",label:a}})}e.exports=a}),null);
__d("RTCOnDeviceChangePoller",["Promise","FBRTCLogger","RTCMediaDevices"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();a.isNeeded=function(){var a=navigator;a=a.mediaDevices;return!b("RTCMediaDevices").isSupported("enumerateDevices")||a&&"ondevicechange"in a?!1:!0};function a(a){__p&&__p();var c=this;this.$1=[];this.$2="";this.$4=null;this.$7=function(){__p&&__p();b("RTCMediaDevices").enumerateDevices().then(function(a){__p&&__p();a=a.map(function(a){return a.deviceId+":"+a.label+":"+a.groupId}).sort().join("~");if(a===c.$2)return;c.$2=a;for(var a=c.$1,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;try{e()}catch(a){}}})["catch"](function(a){return b("Promise").resolve()}).then(function(){c.$4=window.setTimeout(c.$7,c.$3)})["catch"](function(a){})};this.$3=a}var c=a.prototype;c.add=function(a){this.$1.push(a),this.$5()};c.remove=function(a){this.$1=this.$1.filter(function(b){return b!==a}),this.$6()};c.$5=function(){if(this.$4!==null)return;this.$4=window.setTimeout(this.$7,0)};c.$6=function(){if(this.$1.length>0)return;this.$4!==null&&(window.clearTimeout(this.$4),this.$4=null)};return a}();e.exports=a}),null);
__d("RTCVideoTrackActivityDetector",["invariant","Promise","MediaStream","assignMediaStream"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="video track playback timeout",i="unexpected video track ready state",j='wrong track type, expected "video"';a={PLAYBACK_TIMEOUT_ERROR:h,WRONG_READY_STATE_ERROR:i,WRONG_TRACK_TYPE_ERROR:j,detect:function(a,c){__p&&__p();if("kind"in a&&a.kind!=="video")return b("Promise").reject(new Error(j));var d=document.createElement("video");d.muted=!0;var e=new(b("MediaStream"))();e.addTrack(a);var f,k=null,l=function(){window.clearInterval(k),d&&(d.pause(),b("assignMediaStream")(d,null),d.removeEventListener("timeupdate",f),d=null),e&&(e.removeTrack(a),e=null)};return b("Promise").race([new(b("Promise"))(function(c,h){d!=null||g(0,5995),b("assignMediaStream")(d,e),f=function(b){d!=null||g(0,5995),d.currentTime>0&&(a.readyState==="live"?(c(),l()):h(new Error(i)))},b("Promise").resolve(d.pause()).then(function(){d!=null||g(0,5995);return d.play()}).then(function(){f(),d!=null||g(0,5995),d.addEventListener("timeupdate",f),k=window.setInterval(f,50)})["catch"](function(a){return h(a)})}),new(b("Promise"))(function(a){return window.setTimeout(a,c)}).then(function(){throw new Error(h)})])["catch"](function(a){l();throw a})}};e.exports=a}),null);
__d("RTCMediaStreamValidator",["Promise","RTCAudioTrackNoiseDetector","RTCVideoTrackActivityDetector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="no audio tracks",h="no video tracks",i="too many audio tracks",j="too many video tracks",k="unexpected audio track(s)",l="unexpected video track(s)";a={NO_AUDIO_TRACKS_ERROR:g,NO_VIDEO_TRACKS_ERROR:h,TOO_MANY_AUDIO_TRACKS_ERROR:i,TOO_MANY_VIDEO_TRACKS_ERROR:j,UNEXPECTED_AUDIO_TRACKS_ERROR:k,UNEXPECTED_VIDEO_TRACKS_ERROR:l,validate:function(a,c,d,e){__p&&__p();d===void 0&&(d={});e===void 0&&(e={});d=d;var f=d.audio;f=f===void 0?!0:f;d=d.video;d=d===void 0?!0:d;e=e;var g=e.audio;g=g===void 0?1e3:g;e=e.video;e=e===void 0?1e3:e;return b("Promise").all([m(a,c,f,g),n(a,c,d,e)]).then(function(){return a})}};function m(a,c,d,e){var f=a.getAudioTracks();if(!c.audio)return f.length>0?b("Promise").reject(new Error(k)):b("Promise").resolve(a);if(f.length<1)return b("Promise").reject(new Error(g));else if(f.length>1)return b("Promise").reject(new Error(i));return d?b("RTCAudioTrackNoiseDetector").detect(f[0],e).then(function(){return a}):b("Promise").resolve(a)}function n(a,c,d,e){var f=a.getVideoTracks();if(!c.video)return f.length>0?b("Promise").reject(new Error(l)):b("Promise").resolve(a);if(f.length<1)return b("Promise").reject(new Error(h));else if(f.length>1)return b("Promise").reject(new Error(j));return d?b("RTCVideoTrackActivityDetector").detect(f[0],e).then(function(){return a}):b("Promise").resolve(a)}e.exports=a}),null);
__d("RTCUserMediaConstraints",["FBRTCConstants","FBRTCSupport","RTCConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("FBRTCConstants").RTCConstraints;var g=b("FBRTCConstants").VideoQuality,h={width:a.FHD_WIDTH,height:a.FHD_HEIGHT,frameRate:a.FRAME_RATE},i={width:a.HD_WIDTH,height:a.HD_HEIGHT,frameRate:a.FRAME_RATE},j={width:a.SD_WIDTH,height:a.SD_HEIGHT,frameRate:a.FRAME_RATE},k={width:a.LQ_WIDTH,height:a.LQ_HEIGHT,frameRate:a.LQ_FRAME_RATE},l={audio:function(a){return a?{deviceId:{exact:a}}:!0},video:function(a,c,d){d===void 0&&(d=b("RTCConfig").CollaborationCallQuality.videoToRoom);c=c?{deviceId:{exact:c}}:null;if(a===g.CUSTOM_VIDEO)return babelHelpers["extends"]({},d,c);if(b("FBRTCSupport").isMobileDevice())return{facingMode:{ideal:"user"}};d=n(a);a=m(a)?k:p(d);return babelHelpers["extends"]({width:o(d,"width",a),height:o(d,"height",a),frameRate:o(d,"frameRate",{frameRate:10})},c)},chromeMediaSource:function(a,b){a=a.video;a=l.chromify(a);if(typeof a!=="object")return{audio:!1,video:Boolean(a)};var c=a.mandatory;a=a.optional;a=a===void 0?[]:a;return{audio:!1,video:{mandatory:babelHelpers["extends"]({},c,{chromeMediaSource:"desktop",chromeMediaSourceId:b}),optional:[{googTemporalLayeredScreencast:!0}].concat(a)}}},chromify:function(a,b){__p&&__p();if(!a||typeof a!=="object")return Boolean(a);if(!s(a))return a;b=b?b.optionalConstraintsOnly:!1;var c=a.mandatory;c=c===void 0?{}:c;var d=a.optional;d=d===void 0?[]:d;var e=Object.entries(a);for(var f=0;f<e.length;f++){var g=e[f],h=g[0];g=g[1];if(h==="require"||h==="advanced"||h==="mediaSource")continue;g=g&&typeof g==="object"?g:{ideal:g};Number.isFinite(g.exact)&&(g.min=g.exact,g.max=g.exact);var i=g.ideal,j=g.exact;if(i!==void 0)if(Number.isFinite(i)){var k;d.push((k={},k[r(h,"min")]=i,k),(k={},k[r(h,"max")]=i,k))}else{d.push((k={},k[r(h)]=i,k))}if(!b)if(j!==void 0&&!Number.isFinite(j))c[r(h)]=j;else{i=["min","max"];for(var k=0;k<i.length;k++){j=i[k];Number.isFinite(g[j])&&(c[r(h,j)]=g[j])}}}a.advanced&&d.push.apply(d,a.advanced);j={};Object.keys(c).length>0?j.mandatory=c:b&&(j.mandatory={});d.length>0&&(j.optional=d);return j}};function m(a){return a===g.HD_IDEAL_LQ_REQUIRED_VIDEO||a===g.FHD_IDEAL_LQ_REQUIRED_VIDEO}function n(a){switch(a){case g.FHD_VIDEO:case g.FHD_IDEAL_LQ_REQUIRED_VIDEO:return h;case g.HD_VIDEO:case g.HD_IDEAL_LQ_REQUIRED_VIDEO:return i;case g.LQ_VIDEO:return k;case g.SD_VIDEO:return j;default:return i}}function o(a,b,c){c===void 0&&(c=p(a));var d=a[b];return{min:Math.min(c[b],d),max:Math.max(q(a)[b],d),ideal:d}}function p(a){switch(a){case h:return i;case i:return j;case j:case k:default:return k}}function q(a){switch(a){case k:return j;case j:return i;case i:case h:default:return h}}function r(b,a){return a?""+a+b.charAt(0).toUpperCase()+b.slice(1):b==="deviceId"?"sourceId":b}function s(a){return Object.keys(a).some(function(a){return a!=="mandatory"&&a!=="optional"})}e.exports=l}),null);
__d("RTWebClientFeatureGating",["CurrentUser","FBRTCConfig","FBRTCExperiment","FBRTCSupport","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isVCCallOrWorkUser:function(){return b("FBRTCConfig").isVCEndpointCall()||b("CurrentUser").isWorkUser()},canCallMWeb:function(){return b("gkx")("797400")},shouldShowEndCallQPs:function(){return b("gkx")("867914")},shouldShowCreateVCLButton:function(){return b("gkx")("947293")},draggableSelfView:function(){return b("FBRTCExperiment").gen("rtc_www_larger_self_view").getBool("draggable_self_view",!1)},endCallSurveyDropdownOptions:function(){return!this.isVCCallOrWorkUser()},canUseMWVideoFilters:function(){return!b("CurrentUser").isWorkUser()&&b("FBRTCSupport").isVideoFilterEffectSupported()&&b("FBRTCExperiment").gen("rtc_www_video_chat_filters").getBool("use_filters_mw",!1)},isChatEnabled:function(){if(b("FBRTCConfig").isVCEndpointCall())return!1;return b("CurrentUser").isWorkUser()&&!b("gkx")("1020560")?!1:!0},isGroupChatEnabled:function(){return!1},canUseP2PVideoFilters:function(){return!b("CurrentUser").isWorkUser()&&b("FBRTCSupport").isVideoFilterEffectSupported()&&b("gkx")("678346")&&!this.stopVideoWhenMute()},isGuestLoginEnabled:function(){return b("gkx")("678347")},useNewIncomingCallDialog:function(){return b("FBRTCExperiment").getIncomingCallExperiments().getBool("use_new_incoming_call_dialog",!1)},answerCallWithThreeButtons:function(){return b("FBRTCExperiment").getIncomingCallExperiments().getBool("use_three_buttons",!1)},callUnification:function(){return b("FBRTCExperiment").gen("rtc_www_call_unification").getBool("in_call_background_updated",!1)},shouldUseRealMultiwayAppID:function(){return b("gkx")("678349")},canUseMultiwaySandbox:function(){return b("gkx")("678350")},stopVideoWhenMute:function(){if(b("FBRTCConfig").isVCEndpointCall())return!1;var a=b("FBRTCExperiment").gen("turnoff_camera_when_facemute");return a.getBool("camera_off",!1)},restartVideoWithTrackAPI:function(){var a=b("FBRTCExperiment").gen("turnoff_camera_when_facemute");return a.getBool("track_api",!1)},shouldAlwaysShowRedial:function(){return!this.isVCCallOrWorkUser()},disableOpusStereo:function(){return b("gkx")("678351")},shouldApplySdpMidTranslation:function(){return b("gkx")("700608")},preserveFirefoxInactiveDataChannelBlock:function(){return b("gkx")("724606")},showMojavePermissionsWarning:function(){return navigator.userAgent.indexOf("Intel Mac OS X 10_14")!==-1},alwaysOpenChatTab:function(){return b("FBRTCExperiment").gen("rt_web_fb_profile_rtc_buttons").getBool("open_chat_tab",!1)},shouldAlwaysShowStarRating:function(){return b("FBRTCConfig").isVCEndpointCall()?!1:b("FBRTCExperiment").gen("rtc_www_p2p_end_call_screen").getBool("persist_star_rating",!0)},shouldShowNetworkQualityIndicator:function(){return this.isVCCallOrWorkUser()?!1:b("FBRTCExperiment").getMediaQualityExperiments().getBool("show_network_indicator",!1)},shouldMonitorNetworkQuality:function(){return this.isVCCallOrWorkUser()?!1:b("FBRTCExperiment").getMediaQualityExperiments().getBool("monitor_network_quality",!1)},preferIsacForGroupCalls:function(){return!b("FBRTCConfig").isVCEndpointCall()}};e.exports=a}),null);
__d("generateRTCTransactionID",["randomInt"],(function(a,b,c,d,e,f){"use strict";function a(){return String(b("randomInt")(0,4294967294)+1)}e.exports=a}),null);
__d("RTCUtils",["invariant","Promise","CurrentUser","FBLogger","FBRTCConfig","FBRTCLogger","FBRTCUtils","RTCAudioTrackNoiseDetector","RTCConfig","RTCEndCallReason","RTCMediaDevices","RTCMediaStreamValidator","RTCScreenSharing","RTCUser","RTCUserMediaConstraints","RTCVideoTrackActivityDetector","RTWebClientFeatureGating","RTWebUserActionLogger","URI","UserAgent","UserMediaRequestError","generateRTCTransactionID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RTCAudioTrackNoiseDetector").DATA_TIMEOUT_ERROR,j=b("RTCVideoTrackActivityDetector").PLAYBACK_TIMEOUT_ERROR,k={isGroupCall:function(a){return a.split(":")[0]==="GROUP"},isMessengerCall:function(a){return a.split(":")[0]==="MESSENGER"},isRoomCall:function(a){return a.split(":")[0]==="ROOM"},isPeerCall:function(a){return a.split(":")[0]==="PEER"},isAlohaCall:function(a){return a.split(":")[0]==="ALOHA"},isWatchPartyCall:function(a){return a.split(":")[0]==="WATCH"},isSupportedMWCall:function(a){return k.isGroupCall(a)||k.isMessengerCall(a)||k.isRoomCall(a)||k.isAlohaCall(a)||k.isWatchPartyCall(a)},getPeerID:function(a){if(k.isGroupCall(a))throw new Error("Not a P2P call: "+a);a=a.split(":");a=a.slice(1);return a[0]===b("CurrentUser").getID()?a[1]:a[0]},getMessengerCallID:function(a){if(!k.isMessengerCall(a))throw new Error("Not a Messenger call: "+a);return Number(a.split(":")[1])},getThreadID:function(a){return!k.isGroupCall(a)?null:Number(a.split(":")[1])},getSandboxingTierFromURIOrEmpty:function(a,b){b=b+"=";a=a.split(b);if(a[1]){b=a.pop().split("&").shift();return b}return""},createRequestHeader:function(a,c,d,e,f){__p&&__p();a={type:a,transactionId:b("generateRTCTransactionID")(),retryCount:0,conferenceName:c,clientSessionId:e?e:""};c={};d&&(a.serverInfoData=d);f&&(c.esc_p2p_call_id=f);if(b("RTWebClientFeatureGating").canUseMultiwaySandbox()){e=window.location.href;d=k.getSandboxingTierFromURIOrEmpty(e,"multiway_www_tier");f=k.getSandboxingTierFromURIOrEmpty(e,"multiway_core_tier");d&&(c.multiwayWwwTier=d);f&&(c.multiwayCoreTier=f)}a.extensions=c;return a},createClientContextMessage:function(a,b){a={num_participants:a,trigger:b};b={header:{topic_DEPRECATED:"client_context",shouldSendToAllUsers:!1},body:{genericMessage:{topic:"client_context",data:JSON.stringify(a)}}};return b},createResponseHeader:function(a,b,c){b={type:a.type,transactionId:a.transactionId,retryCount:0,conferenceName:a.conferenceName,responseStatusCode:b,clientSessionId:c?c:""};a.serverInfoData&&(b.serverInfoData=a.serverInfoData);return b},maybeRemoveVideoConstraint:function(a){return b("RTCMediaDevices").enumerateDevices().then(function(c){if(c.some(function(a){return a.kind==="videoinput"})){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[maybeRemoveVideoConstraint] At least one device has videoinput.  Keeping constraints "+JSON.stringify(a)});return a}b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[maybeRemoveVideoConstraint] No devices capable of videoinput.",errorDomain:"GetUserMedia",errorType:"Removing video stream by setting video constraint to false."});return babelHelpers["extends"]({},a,{video:!1})})["catch"](function(){return b("Promise").resolve(a)})},getUserMediaWithAudioFallback:function(a,c){__p&&__p();return a.video?k.maybeRemoveVideoConstraint(a).then(function(a){return k.getUserMedia(a,c)})["catch"](function(c){__p&&__p();if(a.video){if(c.name==="NotFoundError"||c.name==="StreamFailedToStart"){var d="Audio Fallback Error Recovery: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Retrying getUserMedia with no video stream",errorDomain:"GetUserMedia",errorType:d});return k.getUserMedia({video:!1,audio:a.audio})}if(c.name==="OverconstrainedError"){d="Video Constraints Error Recovery: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Retrying getUserMedia with no video constraints",errorDomain:"GetUserMedia",errorType:d});return k.getUserMedia({video:!0,audio:a.audio})}}d="Error: "+JSON.stringify(c)+" constraints: "+JSON.stringify(a);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithAudioFallback] Throwing other error",errorDomain:"GetUserMedia",errorType:d});throw c}):k.getUserMedia(a,c)},getUserMediaWithFallbackToEmptyVideoConstraints:function(a,c){return k.getUserMedia(a,c)["catch"](function(c){if(a.video&&c.name==="OverconstrainedError"){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMediaWithFallbackToEmptyVideoConstraints] Fallback getUserMedia with no video constraints",errorDomain:"GetUserMedia",errorType:"Original Constraints: "+JSON.stringify(a)});return k.getUserMedia(babelHelpers["extends"]({},a,{video:!0}))}throw c})},getUserScreenMedia:function(a,c,d){return b("RTCScreenSharing").getUserMedia(a,c,d)},getUserMedia:function(a,c){__p&&__p();var d=navigator,e=d.mediaDevices;if(typeof a.video==="object"&&a.video.mediaSource){b("FBLogger")("rtc_www").mustfix("Please use %s instead of %s for screen","RTCUtils.getUserScreenMedia()","RTCUtils.getUserMedia()");return b("RTCScreenSharing").getUserMedia(a,"unknown")}d=c&&c.optionalConstraintsOnly&&a.video;var f=k._parseConstraints(a,{optionalConstraintsOnly:!!d}),g=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return new(b("Promise"))(function(a,d){e&&typeof e.getUserMedia==="function"?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Newer version"}),a(e.getUserMedia(f).then(function(a){return k._maybeSupportFilteredStreams(a,!!(c&&c.supportFilteredStreams))}))):g?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Backwards compatible version"}),g.call(navigator,f,a,d)):(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"[getUserMedia] Not supported"}),d("getUserMedia not supported"))})["catch"](function(a){var c=a.message,d=a.name,e=a.constraint;b("RTWebUserActionLogger").logError({errorDomain:"GetUserMedia",errorType:(d?d:"unknown GetUserMedia error")+":"+(c?" "+c:"")+(e?" "+e:"")});throw b("UserMediaRequestError").createFromNative(a)})},_parseConstraints:function(a,c){if(b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")){var d=a.audio,e=a.video,f={};d!==void 0&&(f.audio=b("RTCUserMediaConstraints").chromify(d));e!==void 0&&(f.video=b("RTCUserMediaConstraints").chromify(e,c));return f}return a},_maybeSupportFilteredStreams:function(a,b){return a},getUserMediaWithValidation:function(a,c,d,e){__p&&__p();c===void 0&&(c={audio:!0,video:!0});d===void 0&&(d=5);e===void 0&&(e={audio:1e3,video:1e3});return new(b("Promise"))(function(f,g){__p&&__p();var h=function d(h){k.getUserMedia(a).then(function(d){return b("RTCMediaStreamValidator").validate(d,a,c,e).then(function(a){return f({stream:a})})["catch"](function(a){if(a.message===i||a.message===j)f({stream:d,err:a});else{k.stopMediaStream(d);throw a}})},g)["catch"](function(a){h>0?d(h-1):g(a)})};h(d)})},isFullScreen:function(){return Boolean(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},requestFullScreen:function(a){a===void 0&&(a=document.documentElement),typeof a.requestFullscreen==="function"?a.requestFullscreen():typeof a.msRequestFullscreen==="function"?a.msRequestFullscreen():typeof a.mozRequestFullScreen==="function"?a.mozRequestFullScreen():typeof a.webkitRequestFullscreen==="function"&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)},exitFullScreen:function(){typeof document.exitFullscreen==="function"?document.exitFullscreen():typeof document.msExitFullscreen==="function"?document.msExitFullscreen():typeof document.mozCancelFullScreen==="function"?document.mozCancelFullScreen():typeof document.webkitExitFullscreen==="function"&&document.webkitExitFullscreen()},toggleFullScreen:function(){k.isFullScreen()?k.exitFullScreen():k.requestFullScreen()},endCallReasonFromHangupReason:function(a){return b("RTCEndCallReason").fromHangupReason(a).getReasonID()},endCallReasonFromDismissRequest:function(a){return b("RTCEndCallReason").fromDismissRequest(a).getReasonID()},endCallSubreasonFromDismissRequest:function(a){return b("RTCEndCallReason").subreasonFromDismissRequest(a)},endCallReasonFromResponseStatusCode:function(a){return b("RTCEndCallReason").fromResponseStatusCode(a).getReasonID()},stopMediaStream:function(a){if(!a.active&&"active"in a)return;a.getTracks().forEach(function(a){a.readyState!=="ended"&&(a.stop(),a.dispatchEvent(new Event("ended")))})},transferAudioTracks:function(a,b){__p&&__p();for(var c=b.getAudioTracks(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.addTrack(f);b.removeTrack(f)}},payloadParticipantsToRTCUsers:function(a){return a.map(function(a){var c=a.big_image_src||a.image_src;a.fbid||g(0,1174);return new(b("RTCUser"))({FBID:a.fbid,profileUrl:new(h||(h=b("URI")))(a.href),profilePictureUrl:c,isMessengerUser:!!a.is_messenger_user,isPartiesUser:!!a.is_parties_user,userName:a.name,userShortName:a.short_name,vanity:a.vanity||""})})},getStreamVideoResolution:function(a){return new(b("Promise"))(function(c,d){var e=document.createElement("video");b("FBRTCUtils").attachMediaStream(e,a);var f=function(){e.removeEventListener("loadedmetadata",g),e.removeEventListener("error",h),b("FBRTCUtils").attachMediaStream(e,null)},g=function(){c({height:e.videoHeight,width:e.videoWidth}),f()},h=function(){d(e.error),f()};e.addEventListener("loadedmetadata",g);e.addEventListener("error",h)})},isScreenSharingSupported:function(){return b("UserAgent").isBrowser("Chrome")||this.isVCScreenSharingSupported()},isVCScreenSharingSupported:function(){return b("FBRTCConfig").isVCEndpointCall()&&b("RTCConfig").CollabWhitelistedBrowserGK},filterDevicesByKind:function(a,b){return a?a.filter(function(a){return a.kind===b}):[]},isDevicePresent:function(a,b){return a==null?!1:a.some(function(a){return a.deviceId===b})}};e.exports=k}),null);
__d("RTCScreenSharing",["Promise","CollabRTCChromeScreenSharing","RTCUserMediaConstraints","RTCUtils","UserAgent","VFDesktopHelper","WorkplaceChatHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="SCREEN_SHARING_NOT_SUPPORTED",h="UNEXPECTED_ERROR",i={SCREEN_SHARING_NOT_SUPPORTED:g,getUserMedia:function(a,c,d){__p&&__p();if(b("UserAgent").isBrowser("Chrome")){var e;b("WorkplaceChatHelper").isDesktopChatApp()?e=b("WorkplaceChatHelper").getScreenSharingSourceID():b("VFDesktopHelper").isDesktopApp()?e=b("VFDesktopHelper").getScreenSharingSourceID():e=b("CollabRTCChromeScreenSharing").getSourceID(d,c);return e.then(function(c){return b("RTCUtils").getUserMedia(b("RTCUserMediaConstraints").chromeMediaSource(a,c))}).then(function(a){__p&&__p();for(var b=a.getTracks(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.addEventListener("ended",function(b){return window.setTimeout(function(){a.active||i.stop()})})}return a})}else if(b("RTCUtils").isVCScreenSharingSupported()&&navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia==="function")return b("Promise").resolve(navigator.mediaDevices.getUserMedia(a)["catch"](function(a){if(a.name==="NotAllowedError")throw new Error(g)}));return b("Promise").reject(new Error(g))},stop:function(){if(b("UserAgent").isBrowser("Chrome")){if(b("WorkplaceChatHelper").isDesktopChatApp())return b("WorkplaceChatHelper").stopScreenSharing();return b("VFDesktopHelper").isDesktopApp()?b("VFDesktopHelper").stopScreenSharing():b("CollabRTCChromeScreenSharing").stop()}return b("Promise").reject(new Error(h))}};e.exports=i}),null);
__d("RTCGroupCallActions",["RTCAppDispatcher","RTCUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={setLayout:function(a){b("RTCAppDispatcher").dispatch({type:"SET_LAYOUT",layout:a})},setLinkHash:function(a){b("RTCAppDispatcher").dispatch({type:"SET_LINKHASH",linkHash:a})},setDominantSpeaker:function(a){b("RTCAppDispatcher").dispatch({type:"SET_DOMINANT_SPEAKER",dominantSpeakerFBID:a})},setPinnedSpeaker:function(a){b("RTCAppDispatcher").dispatch({type:"SET_PINNED_SPEAKER",pinnedSpeakerFBID:a})},initThread:function(a,c){b("RTCAppDispatcher").dispatch({type:"INIT_THREAD",thread:a,participants:c})},onParticipantLeft:function(a){b("RTCAppDispatcher").dispatch({type:"ON_PARTICIPANT_LEFT",participantFBID:a})},onParticipantsAdded:function(a,c){b("RTCAppDispatcher").dispatch({type:"ON_PARTICIPANTS_ADDED",participants:a,images:c})},addParticipantsToRing:function(a){b("RTCAppDispatcher").dispatch({type:"ADD_PARTICIPANTS_TO_RING",participantFBIDs:a})},toggleRemoteStream:function(a){b("RTCAppDispatcher").dispatch({type:"TOGGLE_REMOTE_STREAM",mediaStatus:a})},handleDismissRequest:function(a,c){b("RTCAppDispatcher").dispatch({type:"DISMISS",transaction:a,request:c,endCallReason:b("RTCUtils").endCallReasonFromDismissRequest(c.dismissRequest()),endCallSubreason:b("RTCUtils").endCallSubreasonFromDismissRequest(c.dismissRequest())})},handleConferenceStateRequest:function(a,c,d,e){b("RTCAppDispatcher").dispatch({type:"ON_CONFERENCE_STATE",transaction:a,request:c,conferenceStateVersion:d,resolve:e})},onJoinRequestSent:function(){b("RTCAppDispatcher").dispatch({type:"ON_JOIN_REQUEST_SENT"})},onReceivedJoinResponse:function(){b("RTCAppDispatcher").dispatch({type:"ON_RECEIVED_JOIN_RESPONSE"})},onJoinResponse:function(a){b("RTCAppDispatcher").dispatch({type:"ON_JOIN_RESPONSE",serverInfoData:a})},onProcessedJoinResponse:function(){b("RTCAppDispatcher").dispatch({type:"ON_PROCESSED_JOIN_RESPONSE"})},onServerMediaUpdateSuccess:function(){b("RTCAppDispatcher").dispatch({type:"ON_SERVER_MEDIA_UPDATE_SUCCESS"})},setLocalClientVersion:function(a){b("RTCAppDispatcher").dispatch({type:"SET_LOCAL_CLIENT_VERSION",version:a})},onClientMediaUpdateResponse:function(a,c){b("RTCAppDispatcher").dispatch({type:"ON_CLIENT_MEDIA_UPDATE_RESPONSE",responseStatusCode:a,currentVersion:c})}};e.exports=a}),null);
__d("RTCAppData",["FacebookAppIDs","VFDesktopHelper","WorkplaceChatHelper","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getAppID:function(){if(b("WorkplaceChatHelper").isDesktopChatApp())return this._getWorkplaceChatDesktopAppID();else if(b("VFDesktopHelper").isDesktopApp()&&b("gkx")("794738"))return Number(b("VFDesktopHelper").getAppID());return b("FacebookAppIDs").WWW},getChannelManagerAppName:function(){switch(g.getMWAppID()){case b("FacebookAppIDs").MESSENGERDOTCOM.toString():return"messenger_dot_com";case b("FacebookAppIDs").WWW.toString():return"www";case b("FacebookAppIDs").WORKPLACE_DESKTOP.toString():return"workplace";case b("FacebookAppIDs").MESSENGER_DESKTOP_ARCHON_MACOS.toString():return"desktop_video_chat";case b("FacebookAppIDs").MESSENGER_DESKTOP_ARCHON_WINDOWS.toString():return"desktop_video_chat_for_windows";default:return"desktop"}},_getWorkplaceChatDesktopAppID:function(){return b("WorkplaceChatHelper").getAppID()||b("FacebookAppIDs").WORKPLACE_DESKTOP},getMWAppID:function(){return b("VFDesktopHelper").isDesktopApp()&&b("gkx")("794738")?b("VFDesktopHelper").getAppID():b("FacebookAppIDs").MQTT_WEB.toString()}};e.exports=g}),null);
__d("RTCUIAddParticipantIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c;return(c=b("React")).jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:c.jsx("svg",{viewBox:"0 0 48 48",children:c.jsxs("g",{transform:"translate(11 16)",children:[c.jsx("path",{d:"M13.21 1.644c-1.023.763-.748 1.669-.656 3.21-.421 0-.37.31-.29.709.073.364.11.838.283.838a.123.123 0 0 0 .053-.013c.604 2.518 1.073.438.712 2.73l-.292.067c-.038.136-.09.617-.293.94C8.281 12 8.24 11.397 7.8 16H24c-.441-4.603-.46-4-4.905-5.875-.203-.323-.255-.804-.293-.94l-.292-.066c-.362-2.293.082-.213.685-2.731a.12.12 0 0 0 .053.013c.174 0 .21-.474.283-.838.08-.398.146-.71-.276-.71.09-1.54.371-2.438-.595-3.209-.763-1.14-2.693-1.05-2.76-1.05 0 0-1.374.067-2.69 1.05z",fillRule:"evenodd"}),c.jsx("path",{d:"M5.738 4.407V0H4.463v4.407H0v1.26h4.463v4.407h1.275V5.667H10.2v-1.26z",fillRule:"evenodd"})]})})}))};e.exports=a}),null);
__d("RTCCallControlsAddGroupMembersButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCCallNUXActions","RTCGroupCallDialogController","RTCUIAddParticipantIcon.react","RTWebUserActionLogger","XUIAmbientNUX.react","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c;this.props.thread?c=h._("Add Group Members"):this.props.isP2P?c=h._("Add More People"):c=h._("See Call Participants");return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")("semiopaque icon-48",this.props.className),"data-testid":"addGroupMembersButton",disabled:this.props.disabled,onClick:function(){return a.$2()},ref:function(b){return a.$1=b},title:c,children:b("React").jsx(b("RTCUIAddParticipantIcon.react"),{})}),b("React").jsx(j,{contextRef:function(){return a.$1},shown:this.props.showNux})]})};d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:"add_participant",conferenceState:this.props.conferenceState,surface:"call_controls"}),this.$3(),this.props.autoOpenParticipantsDialog===!0&&this.$4()};d.componentDidUpdate=function(){this.$3()};d.$2=function(){b("RTWebUserActionLogger").logClick({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:"add_participant",conferenceState:this.props.conferenceState,surface:"call_controls"}),this.props.showNux&&i(),this.$4()};d.$4=function(){var a=this.props,c=a.localUser,d=a.participants,e=a.remoteUsers;a=a.thread;b("RTCGroupCallDialogController").showAddGroupMembersDialog(d.filter(function(a){a=a.fbid;return a!==c.FBID}),b("immutable").Map(e.map(function(a){return[a.FBID,a.participantState]})),a,c.FBID,this.props.isP2P)};d.$3=function(){this.props.showNux&&b("RTCCallNUXActions").markNUXViewed(5609)};return c}(b("React").PureComponent);a.defaultProps={showNux:!1};function i(){b("RTCCallNUXActions").dismissNUX(5609)}var j=function(a){return b("React").jsx(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",offsetX:21,onCloseButtonClick:i,position:"above",width:"auto"},a,{children:h._("Add someone to your chat")}))};e.exports=a}),null);
__d("RTCUIScreenIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){var c=a.variant;a=babelHelpers.objectWithoutPropertiesLoose(a,["variant"]);return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 48 48",children:b("React").jsx(g,{variant:c})})}))};var g=function(a){a=a.variant;switch(a){case"strike-through":return b("React").jsx("path",{d:"M18.475 17H12v14h14.887l-.6-1H13V18h6.076l-.6-1zm3.5 0H36v14h-5.613l-.6-1H35V18H22.576l-.6-1zm5.513 15H19v1h9.09l-.602-1zm-7.81-13H14v10h11.685l-6.008-10zm3.5 0H34v10h-4.815l-6.008-10zm7.183 16.087l.86-.515L18.858 14l-.858.515 12.36 20.572z"});case"x":return b("React").jsx("path",{d:"M24.706 18l3.182 3.183a.5.5 0 0 1-.707.707L24 18.708l-3.182 3.182a.5.5 0 0 1-.707-.707L23.292 18l-3.182-3.182a.5.5 0 0 1 .707-.707L24 17.294l3.182-3.182a.5.5 0 0 1 .707.707zM28.999 17v1h6v12h-22V18h6v-1h-7v14h24V17h-7zm-10 15h10v1h-10z"});case"normal":default:return b("React").jsx("path",{d:"M12 17v14h24V17H12zm23 13H13V18h22v12zm-16.001 2h10v1h-10zm-4.986-13.005h20.018v10.009H14.013z"})}};e.exports=a}),null);
__d("RTCCallControlsScreenSharingButton.react",["cx","React","RTCCallControlsButton.react","RTCUIScreenIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.className,d=a.disabled;d=d===void 0?!1:d;var e=a.sharing;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","disabled","sharing"]);var f=d?"strike-through":e?"x":"normal";return b("React").jsx(b("RTCCallControlsButton.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"semiopaque icon-48"),"data-testid":"shareScreenButton",disabled:d,highlighted:e},a,{children:b("React").jsx(b("RTCUIScreenIcon.react"),{variant:f})}))}e.exports=a}),null);
__d("RTCDialogList.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx("ul",{children:this.props.children})};return c}(b("React").Component);e.exports=a}),null);
__d("RTCDialogListItem.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_4gtz",this.props.className);return b("React").jsx("li",babelHelpers["extends"]({onClick:this.props.onClick},{className:a},{children:this.props.children}))};return c}(b("React").Component);e.exports=a}),null);
__d("RTCCallControlsScreenSharingDialog.react",["cx","fbt","React","RTCDialog.react","RTCDialogList.react","RTCDialogListItem.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=a.cancelLabel,d=a.dialogWidth;d=d===void 0?350:d;var e=a.onDialogHide,f=a.onDialogToggle,g=a.onStopScreenSharingClick,i=a.onUpdateScreenSharingClick,j=a.shareDifferentWindowLabel;a=a.stopScreenSharingLabel;j=j||h._("Share a Different Window");a=a||h._("Stop Screen Sharing");c=c||h._("Cancel");return b("React").jsx(b("RTCDialog.react"),{className:"_1z6a",label:"Screen sharing call controls",onToggle:f,width:d,children:b("React").jsxs(b("RTCDialogList.react"),{children:[b("React").jsx(b("RTCDialogListItem.react"),{onClick:i,children:j}),b("React").jsx(b("RTCDialogListItem.react"),{className:"_1z6b",onClick:g,children:a}),b("React").jsx(b("RTCDialogListItem.react"),{onClick:e,children:c})]})})}e.exports=a}),null);
__d("RTWebCollabClientFeatureGating",["FBRTCConfig","gkx"],(function(a,b,c,d,e,f){"use strict";a={showPreCallSetup:function(a){var c=b("FBRTCConfig").getMeetingID()!=null;return!a&&!c?!1:b("FBRTCConfig").isVCEndpointCall()},showPushToTalk:function(){return b("FBRTCConfig").isVCEndpointCall()||b("gkx")("816089")},showParticipantsRoster:function(){var a=b("FBRTCConfig").getMeetingID()!=null;return!a?!1:b("gkx")("721113")},showTheNewEndCallSurvey:function(){return!b("FBRTCConfig").isVCEndpointCall()?!1:b("gkx")("771085")}};e.exports=a}),null);
__d("RTCHotKeysConfig",["fbt","FBRTCConfig","RTWebCollabClientFeatureGating","keyMirror","objectValues"],(function(a,b,c,d,e,f,g){"use strict";var h=b("keyMirror")({CAMERA_CONTROL:null,END_CALL:null,FULL_SCREEN:null,PUSH_TO_TALK:null,SCREEN_SHARE:null,SETTINGS:null,TOGGLE_MUTE_AUDIO:null,TOGGLE_VIDEO:null}),i=(a={},a[h.CAMERA_CONTROL]={altKey:!0,key:"c",label:g._("Camera control")},a[h.END_CALL]={altKey:!0,key:"e",label:g._("End call")},a[h.FULL_SCREEN]={altKey:!0,key:"f",label:g._("Full screen")},a[h.PUSH_TO_TALK]={altKey:!1,key:"m",label:g._("Push to talk")},a[h.SCREEN_SHARE]={altKey:!0,key:"s",label:g._("Share screen")},a[h.SETTINGS]={altKey:!0,key:"p",label:g._("Settings")},a[h.TOGGLE_MUTE_AUDIO]={altKey:!0,key:"m",label:g._("Toggle mute")},a[h.TOGGLE_VIDEO]={altKey:!0,key:"v",label:g._("Toggle video")},a);c=function(){var a=i;b("FBRTCConfig").isVCEndpointCall()||delete a[h.CAMERA_CONTROL];b("RTWebCollabClientFeatureGating").showPushToTalk()||delete a[h.PUSH_TO_TALK];return b("objectValues")(a)};e.exports={RTCHotKey:h,config:i,getSupportedHotKeys:c}}),null);
__d("RTCHotKeys",["KeyEventController","RTCHotKeysConfig"],(function(a,b,c,d,e,f){__p&&__p();var g=b("RTCHotKeysConfig").config;a=function(){"use strict";__p&&__p();function a(){this.$1=[]}var c=a.prototype;c.register=function(a,c,d){var e=this,f={key:a,keyHandler:b("KeyEventController").registerKey(g[a].key,c,d!==void 0?d:function(b){return b.type==="keyup"?!1:b.altKey===g[a].altKey})};this.$1.push(f);return{remove:function(){return e.$2(f)}}};c.unregister=function(a){var b=this.$1.find(function(b){return b.key===a});b&&this.$2(b)};c.$2=function(a){a.keyHandler.remove(),this.$1.splice(this.$1.indexOf(a),1)};return a}();e.exports=new a()}),null);
__d("RTCInstallExtensionDialog.react",["fbt","Bootloader","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","React","RTCCallStore","RTCChromeScreenSharingExtension","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogHeaderReact.re").make,i=b("MessengerDialogTitleReact.re").make;a=b("React").PureComponent;var j=b("RTCChromeScreenSharingExtension").useWorkplaceExtension;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){d.props.onToggle(!1)},d.$3=function(){d.$1("screen sharing: user clicked on install link"),b("promiseDone")(d.props.onInstall(),function(){return d.$2()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1("screen sharing: extension install dialog")};d.render=function(){var a=g._("Add Facebook Screen Sharing extension"),c=g._("To share your screen during video calls on Messenger, Facebook and Workplace, you'll need to add the Facebook Screen Sharing extension. The extension will not save images of your screen during your call or share your data with other apps or websites. You can also share your screen during your Facebook Live videos.");j()&&(a=g._("Add Workplace screen sharing extension"),c=g._("To share your screen during video calls on Workplace and Workplace Chat, add the Workplace Screen Sharing extension. It won't save images of your screen during calls or share your data with other apps or websites. You can also share your screen when you broadcast Workplace Live videos."));return b("React").jsxs(b("MessengerDialog.react"),{layerHideOnBlur:!1,onToggle:this.props.onToggle,width:544,children:[b("React").jsx(h,{children:b("React").jsx(i,{children:a})}),b("React").jsx(b("MessengerDialogBody.react"),{"data-testid":"install_extension_dialog",children:b("React").jsx("div",{children:c})}),b("React").jsxs(b("MessengerDialogFooter.react"),{children:[b("React").jsx(b("MessengerDialogCancelButton.react"),{onClick:this.$2}),b("React").jsx(b("MessengerDialogButton.react"),{action:"confirm",label:g._("Add extension"),onClick:this.$3,type:"primary",use:"default"})]})]})};d.$1=function(a){b("Bootloader").loadModules(["CollabMessengerLogger"],function(c){var d=b("RTCCallStore").getState(),e=d.remoteUsers;d=d.callInfo;c.log(a,{peerID:e.first().FBID,callID:d.conferenceName})},"RTCInstallExtensionDialog.react")};return c}(a);e.exports=c}),null);
__d("RTCUnsupportedBrowserDialog.react",["cx","fbt","ix","FBRTCVersionDetection","Image.react","Layout.react","Link.react","React","RTCDialog.react","RTCDialogBody.react","RTCDialogHeader.react","RTCDialogHeaderButton.react","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("Layout.react").Column;a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.props.onToggle(!1)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").jsxs(b("RTCDialog.react"),{label:"Screen sharing update browser",layerHideOnBlur:!1,onToggle:this.props.onToggle,width:640,children:[this.$1(),this.$2()]})};d.$1=function(){var a=null;b("FBRTCVersionDetection").isChrome()?a=h._("Update browser to share your screen"):a=h._("Switch browsers to share your screen");return b("React").jsxs(b("RTCDialogHeader.react"),{children:[b("React").jsx("h1",{className:"_10mm",children:a}),b("React").jsx(b("RTCDialogHeaderButton.react"),{label:h._("Cancel"),onClick:this.$3})]})};d.$2=function(){var a=b("FBRTCVersionDetection").isChrome()?this.$4():this.$5();return b("React").jsx(b("RTCDialogBody.react"),{children:b("React").jsxs("div",{children:[b("React").jsx("p",{className:"_2gx8",children:a}),this.$6()]})})};d.$4=function(){return h._("Screen sharing doesn't work in the older version of Google Chrome you're using. To share your screen, please update Google Chrome.")};d.$5=function(){if(b("FBRTCVersionDetection").isFirefox())return h._("Screen sharing doesn't work in Mozilla Firefox yet. To share your screen, please open Facebook in Google Chrome.");else return h._("Screen sharing doesn't work in your browser yet. To share your screen, please open Facebook in Google Chrome.")};d.$6=function(){var a;return(a=b("React")).jsx(b("Layout.react"),{children:a.jsx(j,{style:{width:"100%",textAlign:"center"},children:a.jsxs(b("Link.react"),{href:"https://www.google.com/chrome/index.html",target:"_blank",children:[a.jsx(b("Image.react"),{alt:"Chrome",className:"_4_if",src:i("28180"),width:"64"}),a.jsx(b("XUIText.react"),{display:"block",children:"Google Chrome"})]})})})};return c}(a);e.exports=c}),null);
__d("RTCCallControlsToggleScreenSharingButton.react",["fbt","Promise","CollabRTCChromeScreenSharingExtension","React","RTCCallControlsScreenSharingButton.react","RTCCallControlsScreenSharingDialog.react","RTCChromeScreenSharingUtils","RTCConfig","RTCHotKeys","RTCHotKeysConfig","RTCInstallExtensionDialog.react","RTCScreenSharing","RTCUnsupportedBrowserDialog.react","RTCUtils","RTWebUserActionLogger","UserAgent","WorkplaceChatHelper","promiseDone","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId,i=b("RTCHotKeysConfig").RTCHotKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){__p&&__p();b("RTWebUserActionLogger").logClick({callType:b("RTWebUserActionLogger").getCallType(!d.props.isP2P),component:"screensharing",conferenceState:d.props.conferenceState,surface:"call_controls"});d.props.onClick!=null&&d.props.onClick();if(!b("RTCUtils").isScreenSharingSupported()){d.$3(b("React").jsx(b("RTCUnsupportedBrowserDialog.react"),{onToggle:function(){return d.$4()}}));return}if(d.props.stream!=null){d.$3(b("React").jsx(b("RTCCallControlsScreenSharingDialog.react"),{onDialogHide:function(){d.$4(),d.props.onDialogDismiss!=null&&d.props.onDialogDismiss()},onDialogToggle:d.$4,onStopScreenSharingClick:d.$5,onUpdateScreenSharingClick:d.$6}));d.props.onDialogShow!=null&&d.props.onDialogShow();return}d.$7()},d.$8=function(){d.$4();return d.props.onExtensionInstallStart().then(function(){d.props.onExtensionInstallComplete&&d.props.onExtensionInstallComplete(null),window.focus(),d.$7()})["catch"](function(a){d.props.onExtensionInstallComplete&&d.props.onExtensionInstallComplete(a),window.focus()})},d.$5=function(){var a=d.props.stream;if(a==null)return;d.$4();d.props.onShareStop!=null&&d.props.onShareStop(a);b("RTCScreenSharing").stop()},d.$6=function(){d.$4();var a=d.props.stream;if(a==null)return;d.props.onShareUpdateAttempt!=null&&d.props.onShareUpdateAttempt();d.$9().then(function(b){return d.props.onShareStreamUpdate(a,b)})["catch"](d.$10)},d.$10=function(a){d.$4();var c=a.message;switch(c){case b("CollabRTCChromeScreenSharingExtension").EXTENSION_NOT_FOUND:d.$3(b("React").jsx(b("RTCInstallExtensionDialog.react"),{onInstall:d.$8,onToggle:d.$4}));break;case b("CollabRTCChromeScreenSharingExtension").DIALOG_USER_CANCEL:break;case b("RTCScreenSharing").SCREEN_SHARING_NOT_SUPPORTED:d.$3(b("React").jsx(b("RTCUnsupportedBrowserDialog.react"),{onToggle:d.$4}));break}d.props.onShareError!=null&&d.props.onShareError(a)},d.$4=function(){var a=babelHelpers.assertThisInitialized(d);a=a.context;a!=null&&typeof a.dialogHide==="function"&&a.dialogHide()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:"screensharing",conferenceState:this.props.conferenceState,surface:"call_controls"}),this.$1=b("RTCHotKeys").register(i.SCREEN_SHARE,this.props.onClick?this.props.onClick:this.$2)};d.render=function(){var a=this.props.stream;return b("React").jsx(b("RTCCallControlsScreenSharingButton.react"),{disabled:this.props.disabled,onClick:this.$2,sharing:a!=null,title:a!=null?g._("Screen Sharing Options"):g._("Share Your Screen")})};d.$7=function(){this.props.onShareStartAttempt!=null&&this.props.onShareStartAttempt(),this.$4(),this.$9()["catch"](this.$10)};d.$9=function(){var a=this;return b("UserAgent").isBrowser("Chrome")&&!b("WorkplaceChatHelper").isDesktopChatApp()&&!b("CollabRTCChromeScreenSharingExtension").isInstalled()?b("Promise").reject(new Error(b("CollabRTCChromeScreenSharingExtension").EXTENSION_NOT_FOUND)):b("RTCUtils").getUserScreenMedia({audio:!1,video:babelHelpers["extends"]({},b("RTCConfig").CollaborationCallQuality.screen_v2||b("RTCConfig").CollaborationCallQuality.screen,{mediaSource:"screen"})},h()).then(function(c){b("promiseDone")(j(c),a.$5);a.props.onShareStarted(c);return c})};d.$3=function(a){var b=this.context;b!=null&&typeof b.dialogShow==="function"&&b.dialogShow(a)};d.componentWillUnmount=function(){this.$4(),this.$1&&this.$1.remove()};return c}(b("React").PureComponent);a.defaultProps={disabled:!1};a.contextTypes={dialogHide:b("prop-types").func,dialogShow:b("prop-types").func};function j(a){return b("Promise").all(a.getVideoTracks().map(function(a){return new(b("Promise"))(function(b){return a.addEventListener("ended",b)})}))}e.exports=a}),null);
__d("RTCCallControlsToggleScreenSharingWithFunnelButton.react",["Promise","CollabRTCChromeScreenSharingExtension","FBRTCConfig","FBRTCConstants","FunnelLogger","React","RTCCallControlsToggleScreenSharingButton.react","RTCCallStore","RTCScreenSharing","UserAgentData","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").SignalingProtocol,h="WEB_RTC_SCREEN_SHARING_FUNNEL",i=Object.freeze({START_IN_P2P:"p2p_call",START_IN_MW:"mw_call",START_IN_VC:"vc_call",BUTTON_DISABLED:"button_disabled",BUTTON_ENABLED:"button_enabled",BUTTON_MOUNTED:"button_mounted",BUTTON_CLICK:"button_click",DIALOG_SHOW:"dialog_show",DIALOG_CANCEL:"dialog_cancel",START_SHARING:"start_sharing",UPDATE_SHARING:"update_sharing",STOP_SHARING:"stop_sharing",STREAM_ENDED:"stream_ended",SCREEN_SUCCEEDED:"screen_succeeded",SCREEN_FAILED:"screen_failed",FAILED_REASON_NO_EXTENSION:"no_extension",FAILED_REASON_NOT_SUPPORTED:"not_supported",FAILED_REASON_NO_PERMISSION:"no_permission",FAILED_REASON_OTHER:"other_reason",EXTENSION_INSTALL_START:"extension_install_start",EXTENSION_INSTALL_SUCCEED:"extension_install_succeed",EXTENSION_INSTALL_FAIL:"extension_install_fail"});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){k(i.BUTTON_CLICK),d.props.onClick!=null&&d.props.onClick()},d.$2=function(){k(i.DIALOG_CANCEL),d.props.onDialogDismiss!=null&&d.props.onDialogDismiss()},d.$3=function(){k(i.DIALOG_SHOW),d.props.onDialogShow!=null&&d.props.onDialogShow()},d.$5=function(){k(i.EXTENSION_INSTALL_START);return d.props.onExtensionInstallStart()},d.$4=function(a){a?l(i.EXTENSION_INSTALL_FAIL,a.toString()):k(i.EXTENSION_INSTALL_SUCCEED),d.props.onExtensionInstallComplete&&d.props.onExtensionInstallComplete(a)},d.$6=function(a){k(i.SCREEN_FAILED);switch(a.message){case b("CollabRTCChromeScreenSharingExtension").EXTENSION_NOT_FOUND:k(i.FAILED_REASON_NO_EXTENSION);break;case b("RTCScreenSharing").SCREEN_SHARING_NOT_SUPPORTED:k(i.FAILED_REASON_NOT_SUPPORTED);break;default:k(i.FAILED_REASON_OTHER);break}d.props.onShareError!=null&&d.props.onShareError(a)},d.$7=function(){k(i.START_SHARING),d.props.onShareStartAttempt!=null&&d.props.onShareStartAttempt()},d.$8=function(a){k(i.SCREEN_SUCCEEDED),b("promiseDone")(m(a),function(){b("FunnelLogger").appendAction(h,i.STREAM_ENDED)}),d.props.onShareStarted(a)},d.$9=function(a){k(i.STOP_SHARING),d.props.onShareStop(a)},d.$10=function(){d.props.onShareUpdateAttempt!=null&&d.props.onShareUpdateAttempt(),k(i.UPDATE_SHARING)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCCallControlsToggleScreenSharingButton.react"),{conferenceState:this.props.conferenceState,isP2P:this.props.isP2P,onClick:this.$1,onDialogDismiss:this.$2,onDialogShow:this.$3,onExtensionInstallComplete:this.$4,onExtensionInstallStart:this.$5,onShareError:this.$6,onShareStartAttempt:this.$7,onShareStarted:this.$8,onShareStop:this.$9,onShareUpdateAttempt:this.$10,disabled:this.props.disabled,onShareStreamUpdate:this.props.onShareStreamUpdate,stream:this.props.stream})};d.componentDidMount=function(){j(),k(i.BUTTON_MOUNTED),k(this.props.disabled?i.BUTTON_DISABLED:i.BUTTON_ENABLED)};d.componentDidUpdate=function(a){a.disabled!==this.props.disabled&&k(this.props.disabled?i.BUTTON_DISABLED:i.BUTTON_ENABLED)};d.componentWillUnmount=function(){b("FunnelLogger").endFunnel(h)};return c}(b("React").PureComponent);function j(){__p&&__p();b("FunnelLogger").startFunnel(h);b("FunnelLogger").addFunnelTag(h,"bn:"+(b("UserAgentData").browserName||"unknown"));b("FunnelLogger").addFunnelTag(h,"os:"+(b("UserAgentData").platformName||"unknown"));b("FBRTCConfig").isVCEndpointCall()&&k(i.START_IN_VC);var a=b("RTCCallStore").getState();a=a.callInfo;switch(a.protocol){case g.P2P:k(i.START_IN_P2P);break;case g.MULTIWAY:k(i.START_IN_MW);break}}function k(a){b("FunnelLogger").appendAction(h,a)}function l(a,c){b("FunnelLogger").appendActionWithTag(h,a,c)}function m(a){return b("Promise").all(a.getVideoTracks().map(function(a){return new(b("Promise"))(function(b){return a.addEventListener("ended",b)})}))}e.exports=a}),null);
__d("FBRTCCallControlPopover.react",["AlignmentEnum","PositionEnum","React","RTCCallControlsAddGroupMembersButton.react","RTCCallControlsButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){return c.props.referenceElement},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(this.props.referenceElement===null)return null;return this.props.title===null&&this.props.body===null?null:b("React").jsxs(b("XUIContextualDialog.react"),babelHelpers["extends"]({contextRef:this.$1,dialogRole:"dialog",hasActionableContext:!1,hoverContextRef:this.$1,label:this.props.label},this.props,{children:[this.props.title!==null?b("React").jsx(b("XUIContextualDialogTitle.react"),{className:this.props.className,children:this.props.title}):null,this.props.body!==null?b("React").jsx(b("XUIContextualDialogBody.react"),{className:this.props.className,children:this.props.body}):null]}))};return c}(b("React").PureComponent);a.defaultProps={alignment:b("AlignmentEnum").left,hideOnEscape:!0,hideOnBlur:!1,position:b("PositionEnum").above,shown:!1};e.exports=a}),null);
__d("FBRTCCallTimer.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={secondsElapsed:Math.floor(Date.now()/1e3)-c.props.start},c.$2=function(){c.setState({secondsElapsed:Math.floor(Date.now()/1e3)-c.props.start})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=window.setInterval(this.$2,1e3)};d.componentWillUnmount=function(){window.clearInterval(this.$1)};d.render=function(){var a=this.state.secondsElapsed;return b("React").jsxs("span",{"data-testid":"callTimer",children:[a>=3600?("0"+Math.floor(a/3600)).slice(-2)+":":"",("0"+Math.floor(a%3600/60)).slice(-2),":",("0"+a%60).slice(-2)]})};return c}(a);e.exports=c}),null);
__d("FBRTCPoorNetworkNotification.react",["ix","cx","fbt","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){return a.shown?b("React").jsx("div",{className:"_7c6h _7c68",children:b("React").jsxs("div",{className:"_7c5p",children:[b("React").jsx(b("Image.react"),{className:"_7c69",src:g("478329")}),b("React").jsxs("span",{className:"_7c6a",children:[i._("Poor connection. Check your network connection or try relocating to improve audio quality."),b("React").jsx("a",{className:"_7c6b",href:"#",onClick:a.onClick,children:i._("Dismiss")})]})]})}):null};e.exports=a}),null);
__d("FBRTCPoorNetworkTooltip.react",["ix","cx","fbt","Image.react","React","RTCCallControlsButton.react","XUIAmbientNUX.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){return a.referenceElement!=null?b("React").jsxs(b("XUIAmbientNUX.react"),{alignment:"center",className:"_7c68",contextRef:function(){return a.referenceElement},noCloseButton:!0,position:"above",shown:a.shown,useDarkMode:!0,width:"auto",children:[b("React").jsx(b("Image.react"),{className:"_7c69",src:g("478327")}),b("React").jsxs("span",{className:"_7c6a",children:[i._("Poor connection. Try turning off your video to improve audio quality."),b("React").jsx("a",{className:"layer_close_elem _7c6b",href:"#",onClick:a.onClick,children:i._("Dismiss")})]})]}):null};e.exports=a}),null);
__d("FBRTCVideo.react",["cx","FBRTCStreamWrapper","FBRTCUtils","React","ReactDOM","UserAgent","joinClasses","prop-types","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").Component;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={currentStream:null},c.streamListener=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=this;a=a.stream;a!==this.props.stream&&(this.streamListener&&this.streamListener.remove(),this.streamListener=a?a.addListener("streamStarted",function(){return b.$1()}):null)};d.shouldComponentUpdate=function(a){return!b("shallowEqual")(this.props,a)||this.$2(a)};d.$2=function(a){a=a.stream;a=a?a.getStream():null;return a!==this.state.currentStream};d.render=function(){return b("React").jsx("video",{autoPlay:!0,className:b("joinClasses")(this.props.className,"_1yvx"+(this.props.mirrorVideo?" _6olb":"")),"data-testid":this.props["data-testid"],muted:this.props.muted,onContextMenu:function(a){return a.preventDefault()},onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart,playsInline:b("UserAgent").isBrowser("Mobile Safari")})};d.componentDidMount=function(){this.$3(),this.$1()};d.componentDidUpdate=function(a){(this.$2(a)||a.mediaStream!==this.props.mediaStream)&&this.$3(),a.audioSinkID!==this.props.audioSinkID&&this.$1()};d.$3=function(){var a=this.props,c=a.stream;a=a.mediaStream;var d=b("ReactDOM").findDOMNode(this);d&&(c?(c.attachToVideoTag(d),this.setState({currentStream:c.getStream()})):a&&b("FBRTCUtils").attachMediaStream(d,a))};d.$1=function(){var a=this.props.audioSinkID,c=b("ReactDOM").findDOMNode(this);a&&c&&typeof c.setSinkId==="function"&&c.setSinkId(a)};return c}(a);c.defaultProps={muted:!1};c.propTypes={audioSinkID:(d=b("prop-types")).string,className:d.string,mediaStream:d.any,muted:d.bool,stream:d.instanceOf(b("FBRTCStreamWrapper"))};e.exports=c}),null);
__d("RTCCoExperienceActions",["RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";a={toggleChatWindow:function(){b("RTCAppDispatcher").dispatch({type:"TOGGLE_CHAT_WINDOW"})},setVideoFilter:function(a){b("RTCAppDispatcher").dispatch({type:"SET_FILTER",filter:a})},removeVideoFilter:function(){b("RTCAppDispatcher").dispatch({type:"SET_FILTER",filter:null})}};e.exports=a}),null);
__d("RTCUIXIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 48 48",children:b("React").jsx("path",{d:"M24 25.4l-4.9 4.9c-.4 .4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4L22.6 24L17.6 19.1c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0L24 22.6l4.9-4.9c.4-.4 1-.4 1.4 0c.4 .4 .4 1 0 1.4L25.4 24l4.9 4.9c.4 .4 .4 1 0 1.4c-.4 .4-1 .4-1.4 0L24 25.4z"})})}))};e.exports=a}),null);
__d("RTCCloseChatPanelButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCCoExperienceActions","RTCUIXIcon.react"],(function(a,b,c,d,e,f,g,h){"use strict";function i(){b("RTCCoExperienceActions").toggleChatWindow()}a=function(){return b("React").jsx(b("RTCCallControlsButton.react"),{className:"icon-30 _31j4","data-testid":"closeChatButton",onClick:function(){return i()},title:h._("Close Chat"),children:b("React").jsx(b("RTCUIXIcon.react"),{})})};e.exports=a}),null);
__d("RTCChatPanel.react",["cx","CurrentUser","JSResource","MercurySyncEnvironment","MessengerReasonDialogContainerReact.bs","MessengerState.bs","React","RTCCloseChatPanelButton.react","RTWebUserActionLogger","XUISpinner.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerReasonDialogContainerReact.bs").jsComponent,i=b("lazyLoadComponent")(b("JSResource")("MessengerDetailView.react").__setRef("RTCChatPanel.react")),j="chat_panel",k=!1;function l(){k||(b("MercurySyncEnvironment").setUp(),k=!0)}var m=function(a){var c=b("CurrentUser").isWorkUser();return b("React").jsxs("div",{children:[b("React").jsx(b("MessengerState.bs").jsComponent,{fbid:a.fbId,children:function(d){var e;return(e=b("React")).jsx(e.Suspense,{fallback:e.jsx(b("XUISpinner.react"),{}),children:e.jsx(i,{activeThreadID:a.threadID,deliveryReceipts:b("MessengerState.bs").deliveryReceipts(d),hostProps:{renderMinimal:!0,hideActions:!0,messageSentCallback:function(){b("RTWebUserActionLogger").logClick({component:"chat_panel_message",surface:"chat_panel"})}},isWorkUser:c,messengerState:d,readReceipts:b("MessengerState.bs").readReceiptsPerThread(d),viewer:a.fbId})})}}),b("React").jsx(h,{})]})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").startTimer(j)};d.componentWillUnmount=function(){b("RTWebUserActionLogger").logStopTimer({timerName:j,event:{component:"toggle_chat",surface:"chat_panel"}})};d.render=function(){var a;l();return(a=b("React")).jsxs("div",{children:[a.jsxs("div",{className:"_1a7p",children:[this.props.title,a.jsx(b("RTCCloseChatPanelButton.react"),{})]}),a.jsx("div",{className:"_1a7y",children:a.jsx(m,babelHelpers["extends"]({},this.props))})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCChatViewWrapper.react",["cx","fbt","InnerPane.react","React","RTCChatPanel.react","SplitPane.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.chatWindowVisible?.3:0;return b("React").jsx("div",{className:"_2txj",children:b("React").jsxs(b("SplitPane.react"),{className:"_6glo"+(a.chatWindowVisible?"":" _6glp"),heightPolicy:"full",proportion:c,widthPolicy:"full",children:[b("React").jsx(b("InnerPane.react"),{className:"_1a7z","data-testid":"chatPanel",children:a.chatWindowVisible?b("React").jsx(b("RTCChatPanel.react"),{fbId:a.callerID,threadID:a.threadID,title:h._("Chat")}):null}),b("React").jsx(b("InnerPane.react"),{children:b("React").jsx("div",{className:"_2tz1",children:a.children})})]})})}e.exports=a}),null);
__d("RTCAppSpinner.react",["cx","MessengerSpinner.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=a.className;return b("React").jsx(b("MessengerSpinner.react"),{className:b("joinClasses")("_4ywx",a),color:"blue",size:32})};e.exports=a}),null);
__d("RTCUIM4VideoCameraIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function a(c){var d=c.strikeThrough;d=d===void 0?!1:d;c=babelHelpers.objectWithoutPropertiesLoose(c,["strikeThrough"]);return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},c,{children:b("React").jsx("svg",{viewBox:"0 0 48 48",children:d?b("React").jsx(a.StrikethroughPath,{transform:"translate(10,12)"}):b("React").jsx(a.NormalPath,{transform:"translate(13,15)"})})}))};a.StrikethroughPath=function(a){return b("React").jsx("path",babelHelpers["extends"]({d:"M3.52219159,16.73575 C3.00847773,17.24975 2.008035,17.00175 2.008035,16.01175 L2.008035,6.00725 C2.008035,3.79725 3.79803794,2.00525 6.00680761,2.00525 L16.1191748,2.00575 C16.9062364,2.00575 17.3005168,2.95775 16.7438269,3.51425 L3.52219159,16.73575 Z M24.1966755,1.70725 L21.589128,4.31625 C21.2143368,4.69125 21.0039539,5.19925 21.0039539,5.72875 L21.0019551,16.01175 C21.0019551,18.22175 19.2149504,20.00675 17.0061808,20.00675 L6.73590149,20.00675 C6.20569683,20.00675 5.69698019,20.21725 5.32218896,20.59225 L2.20642449,23.70925 C1.81614189,24.10025 1.18249484,24.10025 0.792711954,23.70925 C0.402429349,23.31875 0.402429349,22.68575 0.792711954,22.29525 L22.782963,0.29325 C23.1727459,-0.09775 23.8063929,-0.09775 24.1966755,0.29325 C24.5869581,0.68375 24.5869581,1.31725 24.1966755,1.70725 Z M27.5533058,16.41125 L23.8308793,14.54725 C23.3226624,14.29275 23.0018411,13.77225 23.0018411,13.20375 L23.0018411,8.81625 C23.0018411,8.24725 23.3226624,7.72725 23.8308793,7.47275 L27.5533058,5.60875 C28.2179356,5.27575 29,5.75975 29,6.50425 L29,15.51575 C29,16.25975 28.2179356,16.74425 27.5533058,16.41125 Z",fill:"#000000",fillRule:"evenodd"},a))};a.NormalPath=function(a){return b("React").jsx("path",babelHelpers["extends"]({d:"M13.3333333 16H3.55555556C1.592 16 0 14.408 0 12.4444444V3.55555556C0 1.592 1.592 0 3.55555556 0h9.77777774c1.9635556 0 3.5555556 1.592 3.5555556 3.55555556v8.88888884C16.8888889 14.408 15.2968889 16 13.3333333 16m9.38-3.2004444l-3.3097777-1.6564445c-.4515556-.2257778-.7368889-.688-.7368889-1.19377777V6.05155556c0-.50533334.2853333-.968.7368889-1.19377778l3.3097777-1.65644445C23.3048889 2.90577778 24 3.336 24 3.99733333v8.00622227c0 .6617777-.6951111 1.0915555-1.2866667.796",fill:"#ffffff",fillRule:"evenodd"},a))};e.exports=a}),null);
__d("RTCUIM4VideoCameraInlineIcon.react",["React","RTCSVGIcon.react","RTCUIM4VideoCameraIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 24 24",children:b("React").jsx(b("RTCUIM4VideoCameraIcon.react").NormalPath,{})})}))};e.exports=a}),null);
__d("FBRTCEnterRoomLinkButton.react",["cx","fbt","AbstractButton.react","FBRTCSupport","React","RTCAppSpinner.react","RTCUIM4VideoCameraInlineIcon.react","RTCUtils","VideoChatLinksUserActionsTypedLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();var c=babelHelpers["extends"]({},a);a=c.errorMessage;var d=c.isLoading,e=c.isRejoin,f=c.link;if(d===!0)return b("React").jsx("div",{className:"_6qy3",children:b("React").jsx(b("RTCAppSpinner.react"),{})});d=e===!0?h._("Join Again"):h._("Join Video Chat");return b("React").jsxs("div",{className:"_6qy3",children:[a===null?null:b("React").jsx("div",{className:"_6z0x",children:a}),b("React").jsx(b("AbstractButton.react"),{className:b("joinClasses")(c.className,"_6qy2"),"data-testid":"join_call_button",disabled:f!=null&&!f.is_open,image:b("React").jsx(b("RTCUIM4VideoCameraInlineIcon.react"),{className:"_6_r- _6_r_"}),label:d,onClick:function(){var a;b("FBRTCSupport").isMobileDevice()&&b("RTCUtils").requestFullScreen();i((a=c.link)==null?void 0:a.link_hash);c.onClick&&c.onClick()}})]})};function i(a){new(b("VideoChatLinksUserActionsTypedLogger"))().setVideoCallLinkHashRaw(a).setSurface("www_interstitial").setEvent("link_join_with_video_clicked").log()}e.exports=a}),null);
__d("FBRTCGroupCallFluidGridView.react",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={landscape:!0},c.$1=function(){c.setState({landscape:window.innerHeight<=window.innerWidth})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1(),window.addEventListener("resize",this.$1)};d.componentWillUnmount=function(){window.removeEventListener("resize",this.$1)};d.render=function(){return b("React").jsx("div",{className:"_2rid"+(this.state.landscape?"":" column")+(this.props.hidden?" hide":""),children:b("React").jsx(h,{landscape:this.state.landscape,remoteUsers:this.props.remoteUsers,renderUser:this.props.renderUser})})};return c}(b("React").PureComponent);var h=function a(c){var d=c.remoteUsers,e=c.landscape,f=c.renderUser;return d.size===1?f(d.first()):i(d).map(function(c,d){return b("React").jsx("div",{className:"_2rip"+(e?" column":"")+(c.size===3?" big":""),children:b("React").jsx(a,{landscape:!e,remoteUsers:c,renderUser:f})},d)})};function i(a){if(a.size===2)return a.map(function(a){return b("immutable").List([a])});else if(a.size<7||a.size%2===0)return b("immutable").Range(0,a.size,2).map(function(b){return a.slice(b,b+2)}).toList();else return b("immutable").Range(0,a.size-3,2).map(function(b){return a.slice(b,b+2)}).toList().push(a.takeLast(3))}e.exports=a}),null);
__d("FBRTCMobileDominantSpeakerView.react",["cx","React","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").jsxs("div",{children:[b("React").jsx("div",{className:"_71gx",children:a.renderUser(a.dominantSpeaker)}),b("React").jsx("div",{className:"_71gy"+(b("UserAgent").isBrowser("Mobile Safari")?" safari-mobile":""),children:a.renderUser(a.localUser)})]})}e.exports=a}),null);
__d("RTCAudio.react",["cx","FBRTCUtils","MediaStream","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").jsx("audio",{autoPlay:!0,className:b("joinClasses")(this.props.className,"_8md"),controls:!1,muted:this.props.muted,ref:function(b){return a.$1=b}})};d.componentDidMount=function(){this.$2(),this.$3()};d.$2=function(){__p&&__p();if(!this.$1)return;var a=this.props.mediaStream;if(a&&a.getVideoTracks().length>0){var c=new(b("MediaStream"))();for(var d=a.getAudioTracks(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.addTrack(g)}b("FBRTCUtils").attachMediaStream(this.$1,c)}else b("FBRTCUtils").attachMediaStream(this.$1,a)};d.$3=function(){if(!this.$1)return;var a=this.props.audioSinkID;a&&this.$1.setSinkId&&this.$1.setSinkId(a)};d.componentDidUpdate=function(a){var b=a.audioSinkID;a=a.mediaStream;a!==this.props.mediaStream&&this.$2();b!==this.props.audioSinkID&&this.$3()};return c}(a);c.defaultProps={muted:!1};e.exports=c}),null);
__d("RTCIncallAudio.react",["React","RTCAudio.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.audioSinkID;a.className;var d=a.mediaStream;a=babelHelpers.objectWithoutPropertiesLoose(a,["audioSinkID","className","mediaStream"]);return b("React").jsx("div",babelHelpers["extends"]({},a,{children:b("React").jsx(b("RTCAudio.react"),{audioSinkID:c,mediaStream:d})}))};return c}(a);e.exports=c}),null);
__d("RTCMobileBrowserUtils",["regeneratorRuntime","Promise","CurrentUser","FBRTCCallSummaryStore","FBRTCHangupReason","FBRTCSupport","RTCCallStore","RTCMWProtocolHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={isLocalUser:function(a){return a.FBID===b("CurrentUser").getID()},isNewCall:function(a){return a==="NEW"||a==="CONNECTING"},getDefaultDownloadAppLink:function(){return b("FBRTCSupport").isSupportedSafariVersion()?"https://itunes.apple.com/us/app/messenger/id454638411":"https://play.google.com/store/apps/details?id=com.facebook.orca"},endOngoingCall:function(a){__p&&__p();var c,d,e,f,g,h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:a===void 0&&(a="MWebMultitasking");c=b("RTCCallStore").getState().callInfo,d=c.serverInfoData,e=c.conferenceState,f=c.conferenceName;if(!(e!=="TERMINATED")){i.next=7;break}i.next=5;return b("regeneratorRuntime").awrap(b("RTCMWProtocolHandler").genEndCall(f,b("FBRTCHangupReason").HANGUP_CALL,{serverInfoData:d,endCallSubReason:a,keepLocalStream:!1}));case 5:(g=b("RTCCallStore").getState(),h=g.callSummary),h.logThisSummary(b("FBRTCCallSummaryStore").getInstance());case 7:return i.abrupt("return",b("Promise").resolve());case 8:case"end":return i.stop()}},null,this)}};e.exports=a}),null);
__d("FBRTCEndCallWarningOverlay.react",["cx","fbt","FBRTCParticipantCallState","React","memoizeLastByArgs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=15e3,j={areAllParticipantsGuests:!1,display:{visibility:"hidden"}};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=j,d.$3=b("memoizeLastByArgs")(function(a,c){return a.isGuestUser&&c.every(function(a){var c;return((c=a.participantState)==null?void 0:c.state)!==b("FBRTCParticipantCallState").CONNECTED||a.isGuestUser})}),d.$4=function(){d.setState({display:{visibility:"shown"}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return this.state.display.visibility!=="shown"?null:b("React").jsxs("div",{className:"_7czx",children:[b("React").jsx("h2",{children:h._("You'll need to log in using Messenger to continue this video chat")}),b("React").jsx("p",{children:h._("Call will end soon")})]})};d.componentDidMount=function(){this.$1()};d.componentDidUpdate=function(a){this.$1(a)};d.componentWillUnmount=function(){this.$2()};d.$1=function(a){__p&&__p();var b=this.props,c=b.callInfo,d=b.localUser;b=b.remoteUsers;d=this.$3(d,b);if(d===this.state.areAllParticipantsGuests&&c.conferenceState===(a==null?void 0:a.callInfo.conferenceState))return;if(d)if(c.conferenceState==="NEW"||c.conferenceState==="CONNECTING"){if(this.state.display.visibility==="will_show")return;this.setState({areAllParticipantsGuests:!0,display:{visibility:"will_show",timer:window.setTimeout(this.$4,i)}})}else this.$2(),this.setState({areAllParticipantsGuests:!0,display:{visibility:"shown"}});else this.$2(),this.setState({areAllParticipantsGuests:!1,display:{visibility:"hidden"}})};d.$2=function(){this.state.display.timer!==void 0&&window.clearTimeout(this.state.display.timer)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBRTCEndCallWarningOverlayContainer.react",["FBRTCEndCallWarningOverlay.react","FluxContainer","React","RTCCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("RTCCallStore")]};c.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=a.localUser;a=a.remoteUsers;return{callInfo:c,localUser:d,remoteUsers:a}};var d=c.prototype;d.render=function(){return b("React").jsx(b("FBRTCEndCallWarningOverlay.react"),babelHelpers["extends"]({},this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCMediaStreamReadyContainer.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={active:!1},c.$2=function(){__p&&__p();var a=c.props.mediaStream;if(!a)return;if("active"in a){var b=a.active;c.setState({active:b});b||(c.$1=window.setTimeout(c.$2,100))}else{b=a.getVideoTracks();if(b.some(function(a){return a.readyState==="live"}))c.setState({active:!0});else for(var a=b,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.addEventListener("started",c.$3)}}},c.$3=function(){__p&&__p();var a=c.props.mediaStream;if(!a)return;c.setState({active:!0});for(var a=a.getVideoTracks(),b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.removeEventListener("started",c.$3)}},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.render=function(){return this.props.children(this.state.active)};c.componentDidMount=function(){this.$2()};c.componentDidUpdate=function(a,b){this.props.mediaStream!==a.mediaStream&&(this.setState({active:!1}),window.clearTimeout(this.$1),this.$2())};c.componentWillUnmount=function(){this.setState({active:!1}),window.clearTimeout(this.$1)};return b}(b("React").Component);e.exports=a}),null);
__d("RTCSVGIconDropShadowFilter.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;var g=0;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1="filter:blur."+g+++"."+Date.now().toString(24),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c=this.props,d=c.blur,e=c.x;c=c.y;var f=Math.ceil(d*3*Math.sqrt(2*Math.PI)/8);return(a=b("React")).jsxs("filter",{id:this.getID(),height:this.props.height+f*2,width:this.props.width+f*2,x:e-f,y:c-f,children:[a.jsx("feGaussianBlur",{"in":"SourceAlpha",result:"blur",stdDeviation:d}),a.jsx("feOffset",{dx:e,dy:c,"in":"blur",result:"offsetBlur"}),a.jsx("feFlood",{floodColor:this.props.color,floodOpacity:this.props.opacity}),a.jsx("feComposite",{in2:"offsetBlur",operator:"in",result:"shadow"}),a.jsx("feMorphology",{operator:"dilate",radius:"1","in":"SourceAlpha",result:"outline"}),a.jsx("feFlood",{floodColor:"#000",floodOpacity:.1}),a.jsx("feComposite",{in2:"outline",operator:"in",result:"stroke"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{"in":"shadow"}),a.jsx("feMergeNode",{"in":"stroke"}),a.jsx("feMergeNode",{"in":"SourceGraphic"})]})]})};d.getID=function(){return this.props.id||this.$1};d.getURL=function(){return"url(#"+this.getID()+")"};return c}(a);c.defaultProps={blur:2,color:"#000",opacity:.2,x:0,y:1};e.exports=c}),null);
__d("RTCUIM4MicrophoneIcon.react",["cx","React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1="",c.$2=function(a){a&&(c.$1=a.getURL(),c.forceUpdate())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.strikeThrough;c=c===void 0?!1:c;var d=a.fill;d=d===void 0?!1:d;var e=a.shadow;e=e===void 0?!1:e;a=a.className;return b("React").jsx(b("RTCSVGIcon.react"),{className:b("joinClasses")(a,"_7968"),children:b("React").jsx("svg",{viewBox:"0 0 48 48",children:e?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("defs",{children:b("React").jsx(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})}),b("React").jsx("g",{filter:this.$1,children:b("React").jsx(h,{fill:d,strikeThrough:c})})]}):b("React").jsx(h,{fill:d,strikeThrough:c})})})};return c}(b("React").PureComponent);var h=function(a){if(a.strikeThrough)return b("React").jsx("path",{d:"M14.0098327,28.0001562 L22.0107909,28.0001562 C22.5632535,28.0001562 23.0112232,28.4478973 23.0112232,29.0000781 C23.0112232,29.5522589 22.5632535,30 22.0107909,30 L14.0098327,30 C13.4573701,30 13.0094004,29.5522589 13.0094004,29.0000781 C13.0094004,28.4478973 13.4573701,28.0001562 14.0098327,28.0001562 M9.00917125,17.5022253 C9.00917125,16.9500445 9.45714092,16.5023034 10.0091036,16.5023034 C10.5615661,16.5023034 11.0090358,16.9500445 11.0090358,17.5022253 C11.0090358,18.2512922 11.1275278,18.9728751 11.346013,19.6494839 C11.4595053,20.0017802 11.3620119,20.3875572 11.1000297,20.6499055 C10.5795649,21.1706045 9.67562613,20.9747177 9.44764157,20.2751222 C9.16366079,19.4016272 9.00917125,18.4701657 9.00917125,17.5022253 M23.0112232,17.5022253 C23.0112232,20.2631291 20.7718748,22.5013352 18.0100618,22.5013352 C17.2881107,22.5013352 16.6031571,22.3449256 15.984699,22.0670862 C15.7147172,21.9461561 15.3987386,22.0066212 15.1897528,22.2155004 L14.6942863,22.7112138 C14.3908069,23.0145385 14.4578023,23.5347377 14.8397765,23.7316239 C15.7912121,24.2213408 16.8661393,24.501179 18.0100618,24.501179 C21.8768,24.501179 25.0115878,21.3674907 25.0115878,17.5022253 L25.0110878,17.5022253 C25.0110878,16.9500445 25.4585575,16.5023034 26.0115201,16.5023034 C26.5634827,16.5023034 27.0114523,16.9500445 27.0114523,17.5022253 C27.0114523,22.4718522 22.9812252,26.5005231 18.0100618,26.5005231 C16.2806789,26.5005231 14.6712879,26.0053094 13.3023806,25.1568 C12.9194065,24.9194372 12.42494,24.9789028 12.1064615,25.2972188 L7.7072594,29.6946765 C7.31678584,30.0849509 6.68332873,30.0849509 6.29285517,29.6946765 C5.90238161,29.3039024 5.90238161,28.6717679 6.29285517,28.2809938 L28.2928656,6.29270578 C28.6833391,5.90243141 29.3167963,5.90243141 29.7067699,6.29270578 C30.0977434,6.68298015 30.0977434,7.31561441 29.7067699,7.70638849 L23.5971835,13.8128582 C23.2217089,14.1881412 23.0112232,14.6963474 23.0112232,15.2270406 L23.0112232,17.5022253 Z M22.2895221,9.46592126 L13.9005901,17.8510736 C13.5681126,18.1828818 13.000151,17.9475178 13.001151,17.4782891 L13.0091504,11.0035323 C13.0091504,8.24262848 15.2484988,6.00442244 18.0098118,6.00442244 C19.9141829,6.00442244 21.5680709,7.06930681 22.4120138,8.6349017 C22.5595038,8.90774396 22.5085072,9.2470478 22.2895221,9.46592126 Z",fill:a.fill?"#FFFFFF":"#000000",fillRule:"evenodd"});else return b("React").jsx("path",{d:"M14,28 L22,28 C22.552,28 23,28.448 23,29 C23,29.552 22.552,30 22,30 L14,30 C13.448,30 13,29.552 13,29 C13,28.448 13.448,28 14,28 M18,22.5 C15.239,22.5 13,20.2615 13,17.5 L13,11 C13,8.2385 15.239,6 18,6 C20.761,6 23,8.2385 23,11 L23,17.5 C23,20.2615 20.761,22.5 18,22.5 M18,26.5 C13.0295,26.5 9,22.4705 9,17.5 C9,16.948 9.448,16.5 10,16.5 C10.552,16.5 11,16.948 11,17.5 C11,21.366 14.134,24.5 18,24.5 C21.866,24.5 25.0005,21.366 25.0005,17.5 L25,17.5 C25,16.948 25.448,16.5 26,16.5 C26.552,16.5 27,16.948 27,17.5 C27,22.4705 22.9705,26.5 18,26.5",fill:"#FFFFFF",fillRule:"evenodd"})};e.exports=a}),null);
__d("RTWebRTCUserUtils",["FBRTCParticipantCallState","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getRemoteUsers:function(a){return a!=null?a:b("immutable").List()},getAllConnectedUsers:function(a){return a!=null?a.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED}):null},combineLocalAndRemoteUsers:function(a,c){c=c!=null?b("immutable").List([a]).concat(c):b("immutable").List([a]);return c},isSelfVideoMuted:function(a){var b=a.streams.first();return!(b&&!a.areAllTracksMuted(b.getVideoTracks()))}};e.exports=a}),null);
__d("RTWebMobileUserStream.react",["cx","FBRTCConstants","FBRTCEndCallWarningOverlayContainer.react","FBRTCVideo.react","Image.react","React","RTCIncallAudio.react","RTCMediaStreamReadyContainer.react","RTCMobileBrowserUtils","RTCUIM4MicrophoneIcon.react","RTWebRTCUserUtils","RTWebStrings","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").GroupVideoViewLayout;function a(a){var c=b("RTWebRTCUserUtils").isSelfVideoMuted(a.user);return b("React").jsx("div",{className:"_6npb",children:c?b("React").jsx(n,{conferenceState:a.conferenceState,isP2P:a.isP2P,layout:a.layout,rtcUsers:a.rtcUsers,user:a.user}):b("React").jsx(m,{conferenceState:a.conferenceState,isP2P:a.isP2P,layout:a.layout,rtcUsers:a.rtcUsers,user:a.user})})}function i(a){var c=a.user,d=a.conferenceState;a=a.rtcUsers;d=b("RTCMobileBrowserUtils").isNewCall(d)||a.size<=1;return b("React").jsx("div",{className:"_6nps"+(b("RTCMobileBrowserUtils").isLocalUser(c)&&!d&&c.isAudioMuted()?" _6np1":""),children:b("React").jsx(b("RTCUIM4MicrophoneIcon.react"),{fill:!0,shadow:!0,strikeThrough:!0})})}function j(a,c,d){if(c===h.DOMINANT_SPEAKER&&b("RTCMobileBrowserUtils").isLocalUser(d))return null;c=d.isGuestUser&&(c===h.DOMINANT_SPEAKER||c===h.GRID&&b("RTCMobileBrowserUtils").isLocalUser(d));return c?b("React").jsx(b("FBRTCEndCallWarningOverlayContainer.react"),{}):a?b("React").jsx("div",{className:"_6ov3"+(a?"":" hide"),children:b("RTWebStrings").waitingForOthers}):null}function k(a,c,d){return(a=b("React")).jsxs("div",{className:"_7ciq",children:[a.jsx(b("Image.react"),{alt:b("RTWebStrings").profilePictureAlt,className:"_6np9",src:c.profilePictureUrl}),a.jsx("div",{className:"_7cir",children:c.userName}),a.jsx("div",{className:"_6npa",children:l(d)})]})}function l(a){switch(a){case"NEW":return b("RTWebStrings").connecting;case"CONNECTING":return b("RTWebStrings").ringing;default:return null}}function m(a){var c=a.user,d=a.conferenceState,e=a.layout,f=a.rtcUsers;a=a.isP2P;var g=c.streams.first(),h=b("RTCMobileBrowserUtils").isNewCall(d)&&f.size<=1;a=a&&b("RTCMobileBrowserUtils").isNewCall(d)?k(c,f.first(),d):j(h,e,c);return b("React").jsxs("div",{className:"_6np2",children:[a,b("React").jsx(b("RTCMediaStreamReadyContainer.react"),{mediaStream:g,children:function(a){return b("React").jsx("div",{className:"_6np3"+(a?" active":"")+" _6np6"+(h?" _6np7":""),children:b("React").jsx(b("FBRTCVideo.react"),{mediaStream:g,muted:b("RTCMobileBrowserUtils").isLocalUser(c)})})}}),b("React").jsx(i,{conferenceState:d,rtcUsers:f,user:c})]})}function n(a){var c,d=a.user,e=a.conferenceState;a=a.rtcUsers;var f=d.streams.first();return(c=b("React")).jsxs("div",{className:"_6np2",children:[c.jsx(b("Image.react"),{className:"_6np8",src:d.profilePictureUrl}),c.jsx(b("Image.react"),{alt:b("RTWebStrings").profilePictureAlt,className:"_6np9",src:d.profilePictureUrl}),c.jsx("p",{className:"_6npa",children:b("RTCMobileBrowserUtils").isLocalUser(d)?b("RTWebStrings").viewerVideoOff:b("RTWebStrings").userVideoOff(d.userShortName)}),b("RTCMobileBrowserUtils").isLocalUser(d)?null:b("React").jsx(b("RTCIncallAudio.react"),{mediaStream:f}),b("React").jsx(i,{conferenceState:e,rtcUsers:a,user:d})]})}e.exports=a}),null);
__d("FBRTCMobileBrowserInCallView.react",["cx","FBRTCConstants","FBRTCGroupCallFluidGridView.react","FBRTCGroupCallStore","FBRTCMobileDominantSpeakerView.react","FluxContainer","React","RTCCallActions","RTCCallStore","RTCIncallAudio.react","RTCMobileBrowserUtils","RTCMWProtocolHandler","RTWebMobileUserStream.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").GroupVideoViewLayout,i=b("FBRTCConstants").SignalingProtocol;a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("FBRTCGroupCallStore")]};c.calculateState=function(){var a=b("FBRTCGroupCallStore").getState(),c=a.dominantSpeakerFBID;a=a.pinnedSpeakerFBID;return{dominantSpeakerFBID:c,pinnedSpeakerFBID:a}};function c(d,e){__p&&__p();var f;f=a.call(this,d)||this;f.state=babelHelpers["extends"]({},c.calculateState());f.isVideoMutedByLocalUser=!1;f.$2=function(){switch(document.visibilityState){case"hidden":f.isVideoMutedByLocalUser=f.props.localUser.isVideoMuted();b("RTCCallActions").toggleMuteVideo(!1);break;case"visible":f.isVideoMutedByLocalUser||b("RTCCallActions").toggleMuteVideo(!0)}};f.$3=function(a){a&&(f.incallView=a)};document.body&&(document.body.style.overflow="hidden");return f}var d=c.prototype;d.componentDidMount=function(){this.incallView&&this.incallView.addEventListener("touchstart",this.$1),document.addEventListener("visibilitychange",this.$2)};d.componentDidUpdate=function(a){if(a.conferenceState!==this.props.conferenceState&&this.props.conferenceState==="CONNECTED"){a=b("RTCCallStore").getState();a=a.callInfo;var c=b("RTCCallStore").getConnection(i.MULTIWAY);c&&b("RTCMWProtocolHandler").subscription(a.conferenceName,a.serverInfoData,c.getRemoteStreams(),h.DOMINANT_SPEAKER,null,c.getRemoteMediaCnames())}};d.componentWillUnmount=function(){this.incallView&&this.incallView.removeEventListener("touchstart",this.$1),document.removeEventListener("visibilitychange",this.$2)};d.$1=function(a){a.touches.length>1&&a.preventDefault()};d.render=function(){__p&&__p();var a=this.props,c=a.isP2P,d=a.rtcUsers,e=a.layout,f=a.conferenceState,g=a.localUser,h=k(c,this.state.pinnedSpeakerFBID,this.state.dominantSpeakerFBID,d,g);if(c&&b("RTCMobileBrowserUtils").isNewCall(f))return b("React").jsx(b("RTWebMobileUserStream.react"),{conferenceState:f,isP2P:c,layout:e,rtcUsers:d,user:g});else if(j(c,e,d,h)){a=d.filter(function(a){return a.FBID!==g.FBID&&a.FBID!==h.FBID});return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("FBRTCMobileDominantSpeakerView.react"),{dominantSpeaker:h,localUser:g,renderUser:function(a){return b("React").jsx(b("RTWebMobileUserStream.react"),{conferenceState:f,isP2P:c,layout:e,rtcUsers:d,user:a})}}),a.map(function(a){return b("React").jsx(b("RTCIncallAudio.react"),{mediaStream:a.getStream()},a.FBID)})]})}else return b("React").jsx("div",{className:"_6npc",ref:this.$3,children:b("React").jsx(b("FBRTCGroupCallFluidGridView.react"),{hidden:!1,remoteUsers:d,renderUser:function(a){return b("React").jsx(b("RTWebMobileUserStream.react"),{conferenceState:f,isP2P:c,layout:e,rtcUsers:d,user:a})}})})};return c}(a);function j(a,b,c,d){return a||d&&b===h.DOMINANT_SPEAKER}function k(a,b,c,d,e){__p&&__p();if(a)return d.first();var f=(a=b)!=null?a:c;b=d.filter(function(a){return a.FBID!==e.FBID});return d.find(function(a){return a.FBID===f})||b&&(b.find(function(a){return!a.isAudioMuted()&&!a.isVideoMuted()})||b.find(function(a){return!a.isAudioMuted()})||b.find(function(a){return!a.isVideoMuted()})||b.first())||d.first()}e.exports=b("FluxContainer").create(c)}),null);
__d("XRegViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/reg/",{reg_email__:{type:"String"},reg_country:{type:"String"},firstname:{type:"String"},lastname:{type:"String"},birthday_day:{type:"String"},birthday_month:{type:"String"},birthday_year:{type:"String"},birthday_date:{type:"String"},sex:{type:"Int"},reg_passwd__:{type:"String"},websubmit:{type:"Exists",defaultValue:!1},submission_request:{type:"Exists",defaultValue:!1},exclude_suggestions:{type:"Bool",defaultValue:!1},ns:{type:"Int"},korean_tos_is_present:{type:"Bool",defaultValue:!1},checkbox_privacy_policy:{type:"Bool",defaultValue:!1},checkbox_tos:{type:"Bool",defaultValue:!1},checkbox_location_policy:{type:"Bool",defaultValue:!1},ccp:{type:"Int"},helper:{type:"Int"},reg_impression_id:{type:"String"},tosv:{type:"Int"},rs:{type:"Enum",enumType:0},zero_header_af_client:{type:"String"},rid:{type:"Int"},upload_contacts:{type:"Bool",defaultValue:!1},gb:{type:"Bool",defaultValue:!1},suggested_name:{type:"String"},reg_flow:{type:"Enum",enumType:0},test_group:{type:"String"},key:{type:"String"},subno:{type:"String"},multi_page_js_state:{type:"String"},suma_create_event:{type:"Enum",enumType:1},reg_instance:{type:"String"},i:{type:"String"},cid:{type:"Int"},ref:{type:"String"},ad_category:{type:"String"},reg:{type:"String"},campaign_id:{type:"Int"},adgroupid:{type:"String"},extra_1:{type:"String"},extra_2:{type:"String"},_fb_noscript:{type:"Exists",defaultValue:!1},_fsp:{type:"Exists",defaultValue:!1},esn:{type:"String"},hidden_error_fields:{type:"String"},current_step:{type:"Int"},locs:{type:"Exists",defaultValue:!1},multistep_next_logging:{type:"String"},ty:{type:"Bool",defaultValue:!1},next:{type:"String"}})}),null);
__d("RTCAnonGuestPostCallMessengerUpsellFooter.react",["cx","fbt","ix","AbstractButton.react","Image.react","MessengerChatLinksFunnelLogger","React","URI","XRegViewController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;function a(){var a;return(a=b("React")).jsx("div",{className:"_7hy3",children:a.jsxs("div",{className:"_7hy4",children:[a.jsxs("div",{className:"_7hy5",children:[a.jsx("div",{className:"_7hy6",children:h._("Be together, whenever.")}),a.jsx("div",{className:"_7hy7",children:h._("Messenger is a simple way to text, chat with video and plan things all in one place.")}),a.jsx(b("AbstractButton.react"),{className:"_7hy8",label:h._("Create Account"),onClick:function(){b("MessengerChatLinksFunnelLogger").appendAction("anon_clicked_create_account");var a=new(j||(j=b("URI")))(document.URL);a=b("XRegViewController").getURIBuilder().getURI().setDomain(a.getDomain().replace(/messenger\.com$/,"facebook.com")).setProtocol("https");a.go()}})]}),a.jsx("div",{className:"_7hy9",children:a.jsx(b("Image.react"),{alt:"Messenger App Preview",height:"200",src:i("953485"),width:"200"})})]})})}e.exports=a}),null);
__d("MessengerCollisionContextQuery",["RelayFBEnvironment","RelayModern","VideoChatLinksUserActionsTypedLogger","MessengerCollisionContextQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("MessengerCollisionContextQuery.graphql");function a(a){return h(b("RelayFBEnvironment"),i,{conference_name:a},{force:!0}).then(function(a){a=a.messenger_collision_context_query;return a==null?{peerID:null,groupThreadID:null}:{peerID:a.peer_id,groupThreadID:a.group_thread_id}})["catch"](function(a){j(a);throw a})}function j(a){new(b("VideoChatLinksUserActionsTypedLogger"))().setSurface("www_incall").setEvent("error").setErrorType("MessengerCollisionContextQueryError").setErrorDetails(a).log()}e.exports=a}),null);
__d("RTCCallNUXReducer",["FBRTCUtils","XBasicFBNuxDismissController","XBasicFBNuxViewController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();switch(c.type){case"DISMISS_NUX":var d=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",c.nuxID).getURI();b("FBRTCUtils").sendServerRequest(d);switch(c.nuxID){case 6265:return a.set("showVideoChatFiltersNUX",!1);case 5609:return a.set("showAddGroupMemberNUX",!1);case 4775:return a.set("showRemoteCameraControlsNUX",!1);case 4774:return a.set("showRemoteScreenContentPopOutNUX",!1);case 4773:return a.set("showRemoteStreamsSliderNUX",!1);case 4776:return a.set("showSettingsNUX",!1);default:return a}default:return a}}function c(a,b){switch(b.type){case"INIT_NUX_STATE":b=b.payload;return a.set("showVideoChatFiltersNUX",b.showVideoChatFiltersNUX).set("showAddGroupMemberNUX",b.showAddGroupMemberNUX).set("showRemoteCameraControlsNUX",b.showRemoteCameraControlsNUX).set("showRemoteScreenContentPopOutNUX",b.showRemoteScreenContentPopOutNUX).set("showRemoteStreamsSliderNUX",b.showRemoteStreamsSliderNUX).set("showSettingsNUX",b.showSettingsNUX);default:return a}}function d(a,c){switch(c.type){case"MARK_NUX_VIEWED":c=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",c.nuxID).getURI();b("FBRTCUtils").sendServerRequest(c);return a;default:return a}}e.exports={dismissNUX:a,markNUXViewed:d,refreshNUXState:c}}),null);
__d("RTCCallNUXStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={showVideoChatFiltersNUX:!1,showAddGroupMemberNUX:!1,showRemoteCameraControlsNUX:!1,showRemoteScreenContentPopOutNUX:!1,showRemoteStreamsSliderNUX:!1,showSettingsNUX:!1};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("RTCCallNUXStore",["FluxReduceStore","RTCAppDispatcher","RTCCallNUXActions","RTCCallNUXReducer","RTCCallNUXStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("RTCCallNUXReducer").dismissNUX,b("RTCCallNUXReducer").markNUXViewed,b("RTCCallNUXReducer").refreshNUXState];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("RTCAppDispatcher"))||this;b("RTCCallNUXActions").refreshNUXState();return c}var d=c.prototype;d.getInitialState=function(){return new(b("RTCCallNUXStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("RTCNotificationUtils",["fbt","immutable","intlList"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={addingUsersToCallText:function(a,c){if(c&&c.size>0){c=c.toArray().map(function(a){return a.short_name});c=a?g._("Adding {names of users being added to call} to your call...",[g._param("names of users being added to call",b("intlList")(c,b("intlList").CONJUNCTIONS.AND))]):g._("Adding {names of users being added to call} to your video chat...",[g._param("names of users being added to call",b("intlList")(c,b("intlList").CONJUNCTIONS.AND))])}else c=a?g._("Adding someone to your call..."):g._("Adding someone to your video chat...");return c},unableToAddUsersToCallText:function(a,c){if(c&&c.size>0){c=c.toArray().map(function(a){return a.short_name});return g._("Unable to add {names of users being added to call}",[g._param("names of users being added to call",b("intlList")(c,b("intlList").CONJUNCTIONS.OR))])}return a?g._("Unable to add person to your call"):g._("Unable to add person to your video chat")}};e.exports=a}),null);
__d("RTCCallNotificationReducer",["RTCAppDispatcher","RTCCallActionTypes","RTCCallStore","RTCGroupCallEscalationActionTypes","RTCGroupCallEscalationStore","RTCNotificationUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){switch(c.type){case"GROUP_ESCALATION_START":c=!b("RTCCallStore").hasRemoteVideo()&&!b("RTCCallStore").hasLocalVideo();c=b("RTCNotificationUtils").addingUsersToCallText(c,b("RTCGroupCallEscalationStore").getState().usersToRing);return a.set("notificationText",c).set("useTimeout",!1)}return a}function c(a,c){switch(c.type){case"ON_CONFERENCE_STATE":b("RTCAppDispatcher").waitFor([b("RTCGroupCallEscalationStore").getDispatchToken()]);return b("RTCGroupCallEscalationStore").getState().readyToTransition?a.set("notificationText",null).set("useTimeout",!1):a}return a}function d(a,c){switch(c.type){case"GROUP_ESCALATION_CANCEL":c=!b("RTCCallStore").hasRemoteVideo()&&!b("RTCCallStore").hasLocalVideo();c=b("RTCNotificationUtils").unableToAddUsersToCallText(c,b("RTCGroupCallEscalationStore").getState().usersToRing);return a.set("notificationText",c).set("useTimeout",!0)}return a}function f(a,b){switch(b.type){case"HANGUP":case"END_CALL":case"HANGUP_ERROR":case"HANGUP_SUCCESS":return a.withMutations(function(a){a.set("notificationText",null).set("useTimeout",!0)})}return a}e.exports={clearStore:f,onEscalationStarted:a,onEscalationCompletion:c,onAbortedEscalation:d}}),null);
__d("RTCCallNotificationStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={useTimeout:!0,notificationText:null};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("RTCCallNotificationStore",["FluxReduceStore","RTCAppDispatcher","RTCCallNotificationReducer","RTCCallNotificationStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[(a=b("RTCCallNotificationReducer")).clearStore,a.onEscalationStarted,a.onEscalationCompletion,a.onAbortedEscalation];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("RTCCallNotificationStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("RTCAppDispatcher"))}),null);
__d("RTCCallNotificationContainer.react",["PageHooks","FluxContainer","RTCCallNotificationStore","MessengerBannerOverlay.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("PageHooks");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCCallNotificationStore")]};c.calculateState=function(){var a=b("RTCCallNotificationStore").getState(),c=a.notificationText;a=a.useTimeout;return{notificationText:c,useTimeout:a}};function c(b){b=a.call(this,b)||this;b.state=babelHelpers["extends"]({},c.calculateState());return b}var d=c.prototype;d.render=function(){var a=this.state,c=a.notificationText;a=a.useTimeout;return b("React").jsx(b("MessengerBannerOverlay.react"),{display:this.props.conferenceState!=="TERMINATED",useTimeout:a,children:c})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCExpressionWWWLogger",["invariant","FBRTCConsoleLogger","FBRTCParticipantCallState","RtcExpressionWWWTypedLogger","immutable","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("immutable").Map;a=function(){__p&&__p();function a(){this.$1=i()}var c=a.prototype;c.logStartTimer=function(a){var c=(h||(h=b("performanceNow")))(),d=a.rtcExpressionIntent;this.$1=this.$1.set(d,c);a.rtcExpressionAction="enabled";this.logEvent(a);this.$2(d,{startTime:c})};c.$3=function(a){var c=this.$1.get(a);c||g(0,2586);this.$1=this.$1.remove(a);return parseInt((h||(h=b("performanceNow")))()-c,10)};c.logStopTimer=function(a){var b=a.rtcExpressionIntent;b=this.$3(b);a.rtcExpressionDuration=b;a.rtcExpressionAction="disabled";this.logEvent(a);return b};c.logEvent=function(a){var c=new(b("RtcExpressionWWWTypedLogger"))().setCallID(a.callID||123).setConferenceName(a.conferenceName).setPeerID(a.peerID).setRawClientTime((h||(h=b("performanceNow")))()).setRtcExpressionAction(a.rtcExpressionAction).setRtcExpressionDuration(a.rtcExpressionDuration).setRtcExpressionID(a.rtcExpressionId).setRtcExpressionIntent(a.rtcExpressionIntent).setRtcExpressionName(a.rtcExpressionName).setRtcExpressionParticipantCount(a.rtcExpressionParticipantCount).setRtcExpressionType(a.rtcExpressionType),d=c.getData();this.$2(a.rtcExpressionName,d);c.log()};c.getExpressionLoggerInfoFromStore=function(a){var c=a.callInfo,d=c.callID;c=c.conferenceName;a=a.remoteUsers;a=a.filter(function(a){return a.getParticipantState()===b("FBRTCParticipantCallState").CONNECTED}).size+1;return{callID:d,conferenceName:c,rtcExpressionParticipantCount:a}};c.$2=function(a,b){};return a}();e.exports=new a()}),null);
__d("RTCCoExperienceReducer",["RTCCallActionTypes","RTCCallStore","RTCCoExperienceActionTypes","RTCCoExperienceStore","RTCExpressionWWWLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){switch(c.type){case"TOGGLE_CHAT_WINDOW":c=b("RTCExpressionWWWLogger").getExpressionLoggerInfoFromStore(b("RTCCallStore").getState());a.chatWindowVisible?b("RTCExpressionWWWLogger").logStopTimer(babelHelpers["extends"]({},c,{rtcExpressionName:"chat",rtcExpressionIntent:"chat"})):b("RTCExpressionWWWLogger").logStartTimer(babelHelpers["extends"]({},c,{rtcExpressionName:"chat",rtcExpressionIntent:"chat"}));return a.set("chatWindowVisible",!a.chatWindowVisible);default:return a}}function c(a,c){__p&&__p();switch(c.type){case"HANGUP":case"END_CALL":case"HANGUP_ERROR":case"HANGUP_SUCCESS":case"SET_FILTER":var d=b("RTCExpressionWWWLogger").getExpressionLoggerInfoFromStore(b("RTCCallStore").getState()),e=a.currentVideoFilter,f=a.videoFilterHistory;if(e){var g=b("RTCExpressionWWWLogger").logStopTimer(babelHelpers["extends"]({},d,{rtcExpressionName:e,rtcExpressionIntent:"effect"})),h=f.get(e)||0;f=f.set(e,h+g);b("RTCCoExperienceStore").logCoExperienceDurationToSummary(f)}c.filter&&b("RTCExpressionWWWLogger").logStartTimer(babelHelpers["extends"]({},d,{rtcExpressionName:c.filter,rtcExpressionIntent:"effect"}));return a.set("currentVideoFilter",c.filter).set("videoFilterHistory",f);default:return a}}e.exports={processChatWindowToggle:a,processSetVideoFilter:c}}),null);
__d("RTCCoExperienceStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={chatWindowVisible:!1,currentVideoFilter:null,videoFilterHistory:b("immutable").Map()};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("RTCCoExperienceStore",["FBRTCCallSummaryStore","FluxReduceStore","RTCAppDispatcher","RTCCallStore","RTCCoExperienceReducer","RTCCoExperienceStoreState","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("RTCCoExperienceReducer").processChatWindowToggle,b("RTCCoExperienceReducer").processSetVideoFilter];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("RTCCoExperienceStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};d.logCoExperienceDurationToSummary=function(a){var c=b("RTCCallStore").getState();c=c.callSummary;c.setEffectCount(a.size);var d=0;a.reduce(function(a,b){d+=b},0);c.setTotalVideoFilterDuration(d);c.setCoExperienceEffectDuration(d);c.save(b("FBRTCCallSummaryStore").getInstance())};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("RTCDialogProvider.react",["React","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialog:null},c.$1=function(a){c.setState({dialog:a})},c.$2=function(a){a===void 0&&(a=!1),a||c.setState({dialog:null})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getChildContext=function(){return{dialogShow:this.$1,dialogHide:this.$2}};d.render=function(){return b("React").jsxs("div",babelHelpers["extends"]({},this.props,{children:[this.props.children,this.state.dialog]}))};return c}(a);c.childContextTypes={dialogShow:b("prop-types").func,dialogHide:b("prop-types").func};e.exports=c}),null);
__d("RTCAppView.react",["cx","FBRTCSupport","React","RTCDialogProvider.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.isAudioCall;d=d===void 0?!1:d;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","isAudioCall"]);return b("React").jsx(b("RTCDialogProvider.react"),babelHelpers["extends"]({className:"_32ut"+(d&&!b("FBRTCSupport").isMobileDevice()&&!b("RTWebClientFeatureGating").callUnification()?" _32uu":"")},a,{children:c}))};e.exports=a}),null);
__d("XVideoCallQPController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videocall/incall/qp/",{})}),null);
__d("RTCEndCallQPUtils",["Promise","AsyncRequest","XMessengerDotComNUXLoggingController","XQuickPromotionSimpleLoggingController","XVideoCallQPController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={fetchPromotionData:function(){return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))().setIsBackgroundRequest(!0).setURI(b("XVideoCallQPController").getURIBuilder().getURI()).setPayloadHandler(function(b){if(b!=null&&b.length>0)return a(b[0]);a(null)}).setErrorHandler(function(a){return c(new Error(a.getErrorDescriptionString()||a.error.toString()))}).send()})},logPromotionAsSeen:function(a){return new(b("Promise"))(function(c,d){new(b("AsyncRequest"))().setURI(b("XMessengerDotComNUXLoggingController").getURIBuilder().setInt("promotion_id",a.promotionID).setStringToStringMap("instance_log_data",a.instanceLogData).getURI()).setPayloadHandler(function(a){return c()}).setErrorHandler(function(a){return d(new Error(a.getErrorDescriptionString()||a.error.toString()))}).send()})},logPromotionPrimaryAction:function(a){return new(b("Promise"))(function(c,d){new(b("AsyncRequest"))().setURI(b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a.promotionID).setEnum("qp_action","primary").setStringToStringMap("qp_instance_log_data",a.instanceLogData).getURI()).setPayloadHandler(function(a){return c()}).setErrorHandler(function(a){return d(new Error(a.getErrorDescriptionString()||a.error.toString()))}).send()})},logPromotionDismissAction:function(a){return new(b("Promise"))(function(c,d){new(b("AsyncRequest"))().setURI(b("XQuickPromotionSimpleLoggingController").getURIBuilder().setInt("qp_id",a.promotionID).setEnum("qp_action","dismiss").setStringToStringMap("qp_instance_log_data",a.instanceLogData).getURI()).setErrorHandler(function(a){return d(new Error(a.getErrorDescriptionString()||a.error.toString()))}).send()})}};e.exports=a}),null);
__d("RTCEndCallQPSurface.react",["cx","invariant","Image","React","RTCCallStore","RTCEndCallQPUtils","RTCP2PCallStore","RTCTextButton.react","VFWebLogger","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=850;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.state={isDismissed:!1,isEnoughSpace:!1,isMarkedAsSeen:!1,promotionData:null},c.$2=function(){c.setState({isEnoughSpace:document.body!=null&&document.body.getBoundingClientRect().width>i})},c.$4=function(a){a!=null&&c.setState({promotionData:a,isDismissed:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$3=function(){var a=b("RTCCallStore").getState();a=a.callSummary;a=a?a.getCallDuration():0;return a!=null&&a>0&&this.props.visible&&this.state.promotionData!=null&&!this.state.isDismissed&&this.state.isEnoughSpace};d.componentDidMount=function(){window!=null&&window.addEventListener!=null&&(window.addEventListener("resize",this.$2),this.$2())};d.componentWillUnmount=function(){window!=null&&window.removeEventListener!=null&&window.removeEventListener("resize",this.$2)};d.componentDidUpdate=function(a){var c=this;a=this.state;var d=a.isMarkedAsSeen;a=a.promotionData;!this.$1&&this.props.conferenceState==="CONNECTED"&&(this.$1=!0,b("promiseDone")(b("RTCEndCallQPUtils").fetchPromotionData().then(this.$4)["catch"](function(a){return b("VFWebLogger").logError(null,"EndCallQP_fetchDataError",a.message)})));!d&&this.$3()&&(a!=null||h(0,14440),b("promiseDone")(b("RTCEndCallQPUtils").logPromotionAsSeen(a).then(function(a){return c.setState({isMarkedAsSeen:!0})})["catch"](function(a){return b("VFWebLogger").logError(null,"EndCallQP_logImpressionError",a.message)})))};d.render=function(){var a=this;if(!this.$3())return null;var c=this.props.className,d=this.state.promotionData;d!=null||h(0,14438);var e=this.props.darkMode!=null?this.props.darkMode:!b("RTCP2PCallStore").isAudioOnly();return b("React").jsx("div",{className:b("joinClasses")("_7q_0"+(e?" _7q-q":""),c),children:b("React").jsx(j,{onClose:function(b){return a.setState({isDismissed:!0})},promotionData:d})})};return c}(b("React").PureComponent);function j(a){var c,d=a.onClose,e=a.promotionData;a=function(){b("promiseDone")(b("RTCEndCallQPUtils").logPromotionPrimaryAction(e)["catch"](function(a){return b("VFWebLogger").logError(null,"EndCallQP_primaryActionError",a.message)})),window.open(e.primaryActionURI)};(function(){b("promiseDone")(b("RTCEndCallQPUtils").logPromotionDismissAction(e)["catch"](function(a){return b("VFWebLogger").logError(null,"EndCallQP_dismissActionError",a.message)})),d()});return(c=b("React")).jsxs("div",{className:"_7q-r",children:[c.jsx("div",{className:"_7q-s",children:e.promotionTitle}),c.jsx("div",{className:"_7q-t",children:e.promotionContent}),c.jsx("div",{className:"_7q_1",children:c.jsx(b("RTCTextButton.react"),{className:"blue",label:e.primaryActionTitle,onClick:a})}),c.jsx("div",{className:"_7q_2",children:c.jsx(b("Image"),{className:"_7q_3",source:e.promotionImageURI})})]})}e.exports=a}),null);
__d("MediaAccessErrorParser",["FBRTCLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={printUserMediaRequestError:function(a){__p&&__p();if(a==null)return"Unknown Error";switch(a.name){case"AbortError":return"Hardware Access aborted.";case"NotAllowedError":return"Access to Media Devices has been denied.";case"NotFoundError":return"Devices matching requirements were not found or were not accessible.";case"NotReadableError":return"Hardware Access Error.";case"OverconstrainedError":return"Media Constraints not met.";case"SecurityError":return"User media support is disabled.";case"TypeError":return"Media Constraints corrupted.";default:b("FBRTCLogger").getInstance().logErrorWithoutID(a);return a.message?a.message:"Unknown Error"}}};e.exports=a}),null);
__d("RTCMediaDeniedPrompt.react",["cx","fbt","React","UserAgent","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return b("UserAgent").isBrowser("Chrome")?"right":"left"};d.render=function(){var a=this,c=this.props.isAudioCall?h._("Allow microphone access"):h._("Allow camera and microphone access"),d=this.props.isAudioCall?h._("You'll need to allow microphone access for calls."):h._("You'll need to allow microphone and camera access for video chats.");return b("React").jsxs("span",{className:"_173p",children:[b("React").jsx("div",{className:"_3wrz",ref:"mpTarget"}),b("React").jsxs(b("XUIContextualDialog.react"),{alignment:this.$1(),contextRef:function(){return a.refs.mpTarget},position:"below",shown:!0,width:b("XUIContextualDialog.react").WIDTH.NORMAL,children:[b("React").jsx(b("XUIContextualDialogTitle.react"),{children:c}),b("React").jsx(b("XUIContextualDialogBody.react"),{children:d})]},"popover")]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCSVGIconCatalog",["React"],(function(a,b,c,d,e,f){"use strict";c={noCameraIcon:(a=b("React")).jsx("svg",{viewBox:"0 0 48 48",children:a.jsx("path",{d:"M36 29h1V19h-1v10zm-6-2.727L35 29V19l-5 2.727v4.546zM19.344 17H26c1.126 0 2 .938 2 2v10c0 .54-.225 1.047-.595 1.415L19.345 17zm-3.5 0H15c-1.126 0-2 .938-2 2v10c0 1.062.874 2 2 2h9.257l-8.413-14zm11.408 17.044l.857-.516-12.362-20.572-.857.516 12.362 20.572z",fillRule:"evenodd"})}),noMicIcon:a.jsx("svg",{viewBox:"0 0 48 48",children:a.jsx("path",{d:"M25 31c.7-.1 1.3-.3 1.9-.6l-.5-.9c-.6.3-1.2.5-1.9.5-2.5 0-4.5-2.2-4.5-5v-5h-1v5.2c0 3.1 2.2 5.6 5 5.8v3h-3v1h7v-1h-3v-3zm-.5-2c.5 0 1-.1 1.4-.3L21 20.6v4.9c0 1.9 1.6 3.5 3.5 3.5zm-5.8-16l-.9.5L30.3 34l.9-.5L18.7 13zM30 25.2V20h-1v5c0 .8-.2 1.6-.5 2.2l.6 1c.6-.8.9-1.9.9-3zm-2 .3v-9c0-1.9-1.6-3.5-3.5-3.5-1.5 0-2.7.9-3.2 2.2L28 26.3v-.8z"})})};e.exports=c}),null);
__d("RTCUserMediaRequestState",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({FULFILLED:null,PENDING:null,REJECTED:null});e.exports=a}),null);
__d("RTCGrantUserMediaAccessView.react",["cx","fbt","FBRTCConfig","Link.react","MediaAccessErrorParser","React","RTCMediaDeniedPrompt.react","RTCSVGIcon.react","RTCSVGIconCatalog","RTCUserMediaRequestState","RTWebClientFeatureGating","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){a.children;var c=a.className,d=a.isAudioCall;d=d===void 0?!1:d;var e=a.userMediaRequest;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","isAudioCall","userMediaRequest"]);return b("React").jsxs(b("React").Fragment,{children:[e.state===b("RTCUserMediaRequestState").REJECTED?b("React").jsx(b("RTCMediaDeniedPrompt.react"),{isAudioCall:d}):null,b("React").jsxs("div",babelHelpers["extends"]({className:b("joinClasses")(c,"_5ajm"+(d?" _4w_w":""))},a,{children:[b("React").jsx(i,{isAudioCall:d,userMediaRequest:e}),b("React").jsx(k,{isAudioCall:d})]}))]})};var i=function(a){var c=a.isAudioCall;a=a.userMediaRequest;return b("React").jsxs("header",{className:"_5ajs",children:[b("React").jsxs("div",{className:"_5b02",children:[c?null:b("React").jsx(b("RTCSVGIcon.react"),{className:"_5b34"+(a.state===b("RTCUserMediaRequestState").REJECTED?" _4w_y":""),children:b("RTCSVGIconCatalog").noCameraIcon}),b("React").jsx(b("RTCSVGIcon.react"),{className:"_5b34"+(a.state===b("RTCUserMediaRequestState").REJECTED?" _4w_y":""),children:b("RTCSVGIconCatalog").noMicIcon})]}),b("React").jsx(j,{isAudioCall:c,userMediaRequest:a})]})},j=function(a){var c=a.isAudioCall;a=a.userMediaRequest;return a.state===b("RTCUserMediaRequestState").REJECTED?b("RTWebClientFeatureGating").showMojavePermissionsWarning()?b("React").jsx(b("React").Fragment,{children:b("React").jsx("h1",{className:"_5b03",children:c?h._("Something went wrong while trying to access your microphone."):h._("Something went wrong while trying to access your camera and microphone.")})}):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx("h1",{className:"_5b03",children:c?h._("An error occurred while trying to get access to the microphone:"):h._("An error occurred while trying to get access to the camera and\/or microphone:")}),b("React").jsx("p",{className:"_4x0t",children:b("MediaAccessErrorParser").printUserMediaRequestError(a.error)})]}):b("React").jsx("h1",{className:"_5b03",children:c?h._("Please allow microphone access"):h._("Please allow camera and microphone access")})},k=function(a){a=a.isAudioCall;var c=b("RTWebClientFeatureGating").showMojavePermissionsWarning()?b("React").jsx("p",{className:"_5b2y",children:h._("If you've upgraded your Mac OS to Mojave, try adding Chrome to your list of allowed apps. Go to System Preferences and choose Security & Privacy, then add Chrome to your list of allowed apps.")}):b("React").jsx("p",{className:"_5b2y",children:a?h._("To make a call, you need to turn your microphone on. This will let people hear you during the call."):h._("To make a call, you need to turn your camera and microphone on. This will let people see and hear you during the call.")});return b("React").jsxs(b("React").Fragment,{children:[c,b("React").jsxs("p",{className:"_5b2y",children:[a?h._("You can turn this off later."):h._("You can turn these off later.")," ",b("React").jsx(b("Link.react"),{href:b("FBRTCConfig").userMediaPermissionErrorUrl(),target:"_blank",children:h._("Learn more")})]})]})};e.exports=a}),null);
__d("FBRTCGroupCallFixedHeightGridViewUtils",["FBRTCConstants","getViewportDimensions","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").Orientation,h=function(){this.users=[],this.numUnits=0};function a(a){return a.sort(function(a,b){return a.user.FBID.localeCompare(b.user.FBID)})}var i={FixedHeightGridRow:h,calculateContainerDimensions:function(){var a=b("getViewportDimensions").withoutScrollbars(),c=a.height-200;a=a.width;return{height:c,width:a}},calculateUnitDimensions:function(a,b,c){__p&&__p();var d=a.filter(function(a){return a.numUnits>0}).length;if(d===0)return{unitHeight:0,unitWidth:0};a=a[0].numUnits;var e=.91*c;c=c/d;d=Math.min(e,c);e=d*3/4;e*a>=b&&(e=b/a,d=e*4/3);return{unitHeight:d,unitWidth:e}},getWindowIsLandscape:function(){var a=b("getViewportDimensions").withoutScrollbars();return a.width>a.height},setUpGrid:function(a,b,c){__p&&__p();var d=[new h(),new h(),new h(),new h()];if(c){if(a.length+b.length<=3&&a.length!==3){d[0].users=[].concat(a,b);d[0].numUnits=a.length*2+b.length;return d}c=Math.ceil(a.length/2);d[0].users=a.slice(0,c);d[0].numUnits=c*2;d[1].users=a.slice(c);d[1].numUnits=(a.length-c)*2;b.forEach(function(a){d[1].numUnits<d[0].numUnits?(d[1].users.push(a),d[1].numUnits+=1):(d[0].users.push(a),d[0].numUnits+=1)});return d}else if(a.length*2+b.length<=6){a.forEach(function(a,b){d[b].users.push(a),d[b].numUnits=2});c=a.length;for(var e=0;e<b.length;e+=2)d[c].users.push(b[e]),d[c].numUnits+=1,b[e+1]&&(d[c].users.push(b[e+1]),d[c].numUnits+=1,c++);return d}else{e=0;for(var c=0;c<a.length;c+=2)d[e].users.push(a[c]),d[e].numUnits+=2,a[c+1]&&(d[e].users.push(a[c+1]),d[e].numUnits+=2,e++);for(var c=0;c<b.length;c++)d[e].numUnits>=4&&e++,d[e].users.push(b[c]),d[e].numUnits+=1;return d}},sortRTCUserAndOrientation:a,getFixedHeightGridRows:function(a){var b=[],c=[];a.forEach(function(a){a.orientation===g.LANDSCAPE?b.push(a):c.push(a)});return i.setUpGrid(i.sortRTCUserAndOrientation(b),i.sortRTCUserAndOrientation(c),i.getWindowIsLandscape())},getOrientationsForUsers:function(a,b){__p&&__p();var c=[],d=[];a.forEach(function(a){var e=b.find(function(b){return b.user.FBID===a.FBID});if(e!==void 0)c.push({orientation:e.orientation,user:a});else{e=a.getStream();e=e!==void 0&&e!==null&&!a.areAllTracksMuted(e.getVideoTracks());e?d.push(a):c.push({orientation:g.PORTRAIT,user:a})}});return{usersWithOrientation:c,usersWithoutOrientation:d}},onUserOrientationChanged:function(a,b){var c=b,d=a.orientation,e=a.user,f=b.findIndex(function(a){return a.user.FBID===e.FBID});f===-1?c=b.push(a):d!==b.get(f).orientation&&(c=b.splice(f,1,a));return c}};e.exports=i}),null);
__d("FBRTCGroupCallUserPopoverMenu.react",["cx","fbt","FBRTCGroupCallStore","FBRTCGuestUtils","MessengerMenu.react","MessengerPopoverMenu.react","React","RTCGroupCallDialogController","URI","XFacebookMessengerInboxController","XMessengerDotComMainController","isMessengerDotComURI"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("MessengerMenu.react").Item,k=b("MessengerMenu.react").Separator;a=function(a){__p&&__p();var c=a.children,d=a.isGuestFromLink;d=d===void 0?!1:d;var e=a.user;a=h._("Menu options");var f=b("FBRTCGroupCallStore").getState();f=f.thread;a=b("React").jsxs(b("MessengerMenu.react"),{"aria-label":a,className:"_2vmq",label:a,children:[b("React").jsx(j,{disabled:!0,label:e.userName}),b("React").jsx(k,{}),e.isGuestUser?null:b("React").jsx(j,{label:h._("Message"),onclick:function(){return l(e.FBID)}}),e.isGuestUser?null:b("React").jsx(j,{label:h._("View profile"),onclick:function(){return m(e.profileUrl)}}),!d&&b("FBRTCGuestUtils").isAnonOrAuthGuestUser(e,f)?b("React").jsx(j,{label:h._("Remove guest"),onclick:function(){return b("RTCGroupCallDialogController").showRemoveGuestDialog(e)}}):null]});return b("React").jsx(b("MessengerPopoverMenu.react"),{menu:a,children:c})};function l(a){var c=b("isMessengerDotComURI")((i||(i=b("URI"))).getRequestURI())?b("XMessengerDotComMainController"):b("XFacebookMessengerInboxController");window.open(c.getURIBuilder().setString("thread_key",a).getURI())}function m(a){a&&window.open(a)}e.exports=a}),null);
__d("RTCRemoteViewPopoverMenuButton.react",["cx","fbt","FBRTCGroupCallUserPopoverMenu.react","React","RTCSVGIcon.react","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c,d=a.isGuestFromLink;a=a.user;var e=h._("Menu options");return(c=b("React")).jsx(b("FBRTCGroupCallUserPopoverMenu.react"),{isGuestFromLink:d,user:a,children:c.jsx(b("ShimButton.react"),{"aria-label":e,className:"_1b12",label:e,onClick:i,role:"presentation",children:c.jsx(b("RTCSVGIcon.react"),{children:c.jsx("svg",{viewBox:"-10 -6 24 24",children:c.jsx("path",{d:"M2.157 11.057c-1.013 0-1.843.83-1.843 1.843 0 1.014.83 1.843 1.843 1.843C3.17 14.743 4 13.913 4 12.9c0-1.014-.83-1.843-1.843-1.843zm0-1.843C3.17 9.214 4 8.384 4 7.37c0-1.012-.83-1.84-1.843-1.84S.314 6.357.314 7.37c0 1.015.83 1.844 1.843 1.844zm0-5.528C3.17 3.686 4 2.856 4 1.843 4 .83 3.17 0 2.157 0S.314.83.314 1.843s.83 1.843 1.843 1.843z"})})})})})};function i(a){a.stopPropagation()}e.exports=a}),null);
__d("RTCUIVideo.react",["cx","invariant","FBLogger","FBRTCUtils","React","RTWebUserActionLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(a){d.$1=a,d.props.videoRef&&d.props.videoRef(d.$1)},d.$3=function(a){b("RTWebUserActionLogger").logError({errorDomain:"video_element_rendering_error",errorType:a.toString()}),d.$4()},d.$4=function(){d.props.onReady&&d.props.onReady()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props;a.audioSinkID;a.stream;var c=a.className,d=a.mirror;a=babelHelpers.objectWithoutPropertiesLoose(a,["audioSinkID","stream","className","mirror"]);return b("React").jsx("video",babelHelpers["extends"]({autoPlay:!0,className:b("joinClasses")("_1yvx"+(d?" _6olb":""),c),onContextMenu:this.$2,onError:this.$3,onLoadedMetadata:this.$4,ref:this.$5},a))};d.componentDidMount=function(){i(this.$1,this.props.stream),j(this.$1,this.props.audioSinkID)};d.componentDidUpdate=function(a){this.props.stream!==a.stream&&i(this.$1,this.props.stream),this.props.audioSinkID!==a.audioSinkID&&j(this.$1,this.props.audioSinkID)};d.$2=function(a){a.preventDefault()};return c}(b("React").PureComponent);a.defaultProps={muted:!1,mirror:!1};function i(a,c){if(a==null||c==null)return;try{b("FBRTCUtils").attachMediaStream(a,c)}catch(a){b("RTWebUserActionLogger").logError({errorDomain:"video_attach_media_stream_error",errorType:a.toString()}),b("FBLogger")("rtc_www").catching(a).warn("Encountered error while calling attachMediaStream")}}function j(a,c){if(!b("FBRTCUtils").supportsSetSink()||a==null||c==null||c==="")return;try{typeof a.setSinkId==="function"||h(0,3783),a.setSinkId(c)}catch(a){b("FBLogger")("rtc_www").catching(a).warn("Encountered error while calling attachAudioSink")}}e.exports=a}),null);
__d("RTCVideoWithUserAndOrientation.react",["FBLogger","FBRTCConstants","React","RTCUIVideo.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").Orientation,h=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.videoRef=function(a){d.$1=a},d.checkOrientation=function(){if(d.$1!=null){var a=d.$1,c=a.videoHeight;a=a.videoWidth;if(c!=null&&a!=null){a=a>c?g.LANDSCAPE:g.PORTRAIT;a!==d.$3&&(d.props.onOrientationChanged({user:d.props.user,orientation:a}),d.$3=a)}else b("FBLogger")("rtc_www").warn("Unable to get video dimension")}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2=window.setInterval(this.checkOrientation,h)};d.componentWillUnmount=function(){window.clearInterval(this.$2)};d.render=function(){var a=this.props;a.user;a.onOrientationChanged;a=babelHelpers.objectWithoutPropertiesLoose(a,["user","onOrientationChanged"]);return b("React").jsx(b("RTCUIVideo.react"),babelHelpers["extends"]({videoRef:this.videoRef},a))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCIncallGridItem.react",["cx","fbt","Image.react","React","RTCIncallAudio.react","RTCRemoteViewPopoverMenuButton.react","RTCVideoWithUserAndOrientation.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.user,d=a.style,e=c.getActiveStream()||c.getStream(),f=e!==void 0&&e!==null&&!c.areAllTracksMuted(e.getVideoTracks());return f?b("React").jsxs("div",{className:"_74kp"+(a.isRoundedCorner?" _7akd":""),style:d,children:[b("React").jsx("div",{className:"_7q9p",children:b("React").jsx(b("RTCRemoteViewPopoverMenuButton.react"),{isGuestFromLink:a.isGuestFromLink,user:a.user})}),b("React").jsx(b("RTCVideoWithUserAndOrientation.react"),{audioSinkID:a.audioSinkID,className:"_6qk5","data-testid":"RTCIncallVideo",onOrientationChanged:a.onUserOrientationChanged,stream:e,user:c})]}):b("React").jsxs("div",{className:"_2_gq _74kp"+(a.isRoundedCorner?" _7akd":""),style:d,children:[b("React").jsx("div",{className:"_7q9p",children:b("React").jsx(b("RTCRemoteViewPopoverMenuButton.react"),{isGuestFromLink:a.isGuestFromLink,user:a.user})}),b("React").jsx(b("Image.react"),{className:"_2_gr",src:c.profilePictureUrl}),b("React").jsx(b("Image.react"),{alt:h._("Profile picture"),className:"_2_gs",src:c.profilePictureUrl}),b("React").jsx("p",{className:"_5ka3",children:h._("{name}'s camera is off",[h._param("name",c.userShortName)])}),b("React").jsx(b("RTCIncallAudio.react"),{audioSinkID:a.audioSinkID,mediaStream:e})]})};e.exports=a}),null);
__d("RTCGridViewWithOrientation.react",["cx","FBRTCConstants","FBRTCGroupCallFixedHeightGridViewUtils","React","RTCIncallGridItem.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").Orientation,i=b("FBRTCGroupCallFixedHeightGridViewUtils").calculateUnitDimensions,j=b("FBRTCGroupCallFixedHeightGridViewUtils").getFixedHeightGridRows;function a(a){__p&&__p();var c=j(a.users),d=i(c,a.containerWidth,a.containerHeight),e=d.unitHeight,f=d.unitWidth,g={gridTemplateRows:e+"px"},k=a.users.length===1,l=[];c.forEach(function(c,d){if(c.users.length===0)return;var e=1;l.push(b("React").jsx("div",{className:"_6ppt",style:babelHelpers["extends"]({},g,{gridTemplateColumns:(f+"px ").repeat(c.numUnits),width:f*c.numUnits+"px"}),children:c.users.map(function(c){var d={};c.orientation===h.LANDSCAPE?(d={gridColumnStart:e.toString(),gridColumnEnd:(e+2).toString()},e+=2):e+=1;return b("React").jsx(b("RTCIncallGridItem.react"),{audioSinkID:a.audioSinkID,isGuestFromLink:a.isGuestFromLink,isRoundedCorner:k,onUserOrientationChanged:a.onUserOrientationChanged,style:d,user:c.user},c.user.FBID+"_"+c.orientation.toString()+"_"+e)})},d))});return l}e.exports=a}),null);
__d("FBRTCGroupCallFixedHeightGridView.react",["cx","FBRTCGroupCallFixedHeightGridViewUtils","React","RTCGridViewWithOrientation.react","RTCVideoWithUserAndOrientation.react","immutable","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={userAndOrientationList:b("immutable").List()},d.$1=b("throttle")(function(){d.forceUpdate()},300),d.$2=function(a){var c=d.state.userAndOrientationList;a=b("FBRTCGroupCallFixedHeightGridViewUtils").onUserOrientationChanged(a,c);d.setState({userAndOrientationList:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){window.addEventListener("resize",this.$1)};d.componentWillUnmount=function(){window.removeEventListener("resize",this.$1)};d.render=function(){var a=this,c=b("FBRTCGroupCallFixedHeightGridViewUtils").getOrientationsForUsers(this.props.remoteUsers.toArray(),this.state.userAndOrientationList.toArray()),d=c.usersWithOrientation;c=c.usersWithoutOrientation;var e=b("FBRTCGroupCallFixedHeightGridViewUtils").calculateContainerDimensions(),f=e.height;e=e.width;return b("React").jsxs("div",{className:"_6ots"+(this.props.hidden?" hide":""),children:[b("React").jsxs("div",{className:"hidden_elem",children:[c.map(function(c){var d=c.getStream();return b("React").jsx(b("RTCVideoWithUserAndOrientation.react"),{audioSinkID:a.props.audioSinkID,onOrientationChanged:a.$2,stream:d,user:c},c.FBID)}),";"]}),b("React").jsx(b("RTCGridViewWithOrientation.react"),{audioSinkID:this.props.audioSinkID,containerHeight:f,containerWidth:e,isGuestFromLink:this.props.isGuestFromLink,onUserOrientationChanged:this.$2,users:d})]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCIncallVideo.react",["cx","FBRTCVideo.react","React","RTCMediaStreamReadyContainer.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.state={mounted:!1},d.$2=function(a){var c=d.props,e=c.audioMuted,f=c.audioSinkID,g=c.className,h=c.mediaStream,i=c.muted;c=babelHelpers.objectWithoutPropertiesLoose(c,["audioMuted","audioSinkID","className","mediaStream","muted"]);return b("React").jsxs("div",babelHelpers["extends"]({className:b("joinClasses")(g,"_chh"+(a&&!i&&d.state.mounted?" active":""))},c,{children:[b("React").jsx(b("FBRTCVideo.react"),babelHelpers["extends"]({"data-testid":"RTCIncallVideo",muted:e},{audioSinkID:f,mediaStream:h})),d.props.children]}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCMediaStreamReadyContainer.react"),{mediaStream:this.props.mediaStream,children:this.$2})};d.componentWillUnmount=function(){window.clearTimeout(this.$1)};d.componentDidMount=function(){var a=this;this.$1=window.setTimeout(function(){return a.setState({mounted:!0})})};return c}(a);c.defaultProps={audioMuted:!1,muted:!1};e.exports=c}),null);
__d("FBRTCGroupCallIncallVideo.react",["cx","fbt","Image.react","React","RTCIncallAudio.react","RTCIncallVideo.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){var c=a.displayNone;c=c===void 0?!1:c;var d=a.isAudioCall;d=d===void 0?!1:d;a=a.user;var e=a.getStream();return e&&!a.areAllTracksMuted(e.getVideoTracks())?b("React").jsx(b("RTCIncallVideo.react"),{className:"_5k9_"+(c?" none":""),mediaStream:e}):b("React").jsx("div",{className:"_5k9_"+(c?" none":"")+(d&&!b("RTWebClientFeatureGating").callUnification()?" hidden":""),children:b("React").jsxs("div",{className:"_2_gq",children:[b("React").jsx(b("Image.react"),{className:"_2_gr",src:a.profilePictureUrl}),b("React").jsx(b("Image.react"),{alt:h._("Profile picture"),className:"_2_gs",src:a.profilePictureUrl}),b("React").jsx("p",{className:"_5ka3",children:d?h._("{name}",[h._param("name",a.userName)]):h._("{name}'s camera is off",[h._param("name",a.userShortName)])}),b("React").jsx(b("RTCIncallAudio.react"),{mediaStream:e})]})})};e.exports=a}),null);
__d("FBRTCGroupCallIncallView.react",["cx","FBRTCConstants","FBRTCGroupCallFixedHeightGridView.react","FBRTCGroupCallIncallVideo.react","FBRTCGroupCallStore","FluxContainer","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").GroupVideoViewLayout,i=6;d=function(a){__p&&__p();var c=a.dominantSpeakerFBID,d=a.isAudioCall,e=a.isGuestFromLink;e=e===void 0?!1:e;var f=a.layout,g=a.pinnedSpeakerFBID;a=a.remoteUsers;switch(f){case h.DOMINANT_SPEAKER:f=a.find(function(a){return a.FBID===(g||c)});return f?b("React").jsx("div",{className:"_ncs",children:b("React").jsx(b("FBRTCGroupCallIncallVideo.react"),{isAudioCall:d,user:f})}):null;case h.GRID:return b("React").jsx(b("FBRTCGroupCallFixedHeightGridView.react"),{hidden:d,isGuestFromLink:e,remoteUsers:a});default:return b("React").jsx("div",{className:"_ncs",children:a.map(function(a,c){return b("React").jsx(b("FBRTCGroupCallIncallVideo.react"),{displayNone:c>=i,isAudioCall:d,user:a},a.FBID)})})}};function a(){return[b("FBRTCGroupCallStore")]}function c(a,c){a===void 0&&({});a=b("FBRTCGroupCallStore").getState();var d=a.dominantSpeakerFBID;a=a.pinnedSpeakerFBID;return babelHelpers["extends"]({dominantSpeakerFBID:d,pinnedSpeakerFBID:a},c)}e.exports=b("FluxContainer").createFunctional(d,a,c,{withProps:!0})}),null);
__d("RTCAppViewMain.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className,e=a.fullBleed;e=e===void 0?!0:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","fullBleed"]);return b("React").jsx("section",babelHelpers["extends"]({className:b("joinClasses")("_3cb2"+(e?" fullBleed":""),d),"data-testid":"contentView"},a,{children:c}))};e.exports=a}),null);
__d("RTCCallConnectionStatus.react",["cx","FBRTCCallTimer.react","FDSSpinner.react","React","RTWebStrings","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").jsx("div",babelHelpers["extends"]({className:b("joinClasses")(d,"_46la")},a,{children:c!=null?c:this.$2()}))};d.$2=function(){__p&&__p();switch(this.props.connectionStatus){case"CONTACTING":return b("RTWebStrings").contacting;case"RINGING":return b("RTWebStrings").ringing;case"CONNECTING":return b("RTWebStrings").connecting;case"ESCALATING_TO_BJN":return b("React").jsxs("div",{children:[b("RTWebStrings").pleaseWait,"  ",b("React").jsx(b("FDSSpinner.react"),{size:"small"})]});case"RECONNECTING":return b("RTWebStrings").reconnecting;case"CONNECTED":this.$1==null&&(this.$1=Math.floor(Date.now()/1e3));return b("React").jsx(b("FBRTCCallTimer.react"),{start:this.$1});case"DISCONNECTED":return b("RTWebStrings").callEnded;default:return null}};return c}(a);e.exports=c}),null);
__d("RTCCallStateInfo.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").jsx("div",babelHelpers["extends"]({className:b("joinClasses")("_2_my",d)},a,{children:c}))};e.exports=a}),null);
__d("RTCGroupCallPeerImage.react",["cx","CurrentUser","MercuryParticipantsConstants","MercuryParticipantsImage.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerProfileImageWrapperReact.bs").jsComponent,i=b("MessengerThreadImageReact.bs").jsComponent;function a(a){if(j(a))return null;var c=a.thread,d=a.participants,e=a.participants.filter(function(a,b){return!a.is_parties_user}),f=Array.from(d.filter(function(a,b){return a.is_parties_user}).map(function(a,b){return a.image_src}).values());return c&&c.image_src?b("React").jsx(i,{className:b("joinClasses")(a.className,"_4j_j"),participants:d,size:b("MercuryParticipantsConstants").WWW_INCALL_THUMBNAIL_SIZE,thread:c,viewer:b("CurrentUser").getID()}):b("React").jsx(h,{className:"_4j_j",showBadge:!1,size:b("MercuryParticipantsConstants").WWW_INCALL_THUMBNAIL_SIZE,children:b("React").jsx(b("MercuryParticipantsImage.react"),{participants:Object.keys(e.toJS()),partiesProfileImages:f,size:b("MercuryParticipantsConstants").WWW_INCALL_THUMBNAIL_SIZE})})}function j(a){return!!(a.participants.size<=1&&a.linkHash)}e.exports=a}),null);
__d("RTCCallUser.react",["cssVar","cx","fbt","AudioContextSingleton","DOM","FBRTCParticipantCallState","MessengerContactImage.react","React","ReactDOM","RTWebStrings","RTWebUserActionLogger","Tooltip"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PureComponent;var j="rgba(0, 132, 255, 0.5)",k=48,l=100;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={audioLevel:0},d.$1=b("DOM").create("div"),d.$2=!1,d.$3=null,d.$4=null,c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$5(),this.$6()};d.componentDidUpdate=function(a){a=a.user;var b=this.props.user.participantState;a=a.participantState;this.$5();if(!this.props.isP2PCall){if(!b||!a)return;b.state!==a.state&&this.$6()}};d.componentWillUnmount=function(){this.$7()};d.render=function(){return this.props.isP2PCall?this.$8():this.$9()};d.$8=function(){var a=this,c=this.props.meetingID!=null;c=c?i._("Joining the meeting ID {meetingID}",[i._param("meetingID",this.props.meetingID)]):this.props.user.userName;return b("React").jsxs("div",{className:"_6hu4",children:[b("React").jsx("div",{className:"_6hu5",style:{boxShadow:"0 0 0 "+this.state.audioLevel+"px "+j},children:b("React").jsx(b("MessengerContactImage.react"),{className:"_6hu6",ref:function(b){a.$4=b},size:l,src:this.props.user.profilePictureUrl})}),b("React").jsx("p",{className:"_dzt",children:c})]})};d.$9=function(){var a=this,c=this.props.user.participantState;return!this.props.isLocal&&!c?null:b("React").jsx("div",{className:"_6hu5",style:{boxShadow:"0 0 0 "+this.state.audioLevel+"px "+j},children:b("React").jsx(b("MessengerContactImage.react"),{className:"_6hu6"+(!this.props.isLocal&&c&&c.state!==b("FBRTCParticipantCallState").CONNECTED?" _6htk":""),ref:function(b){a.$4=b},size:k,src:this.props.user.profilePictureUrl})})};d.$6=function(){if(this.props.isP2PCall||this.props.isLocal)return;b("ReactDOM").render(b("React").jsxs("div",{className:"_6htl",children:[b("React").jsx("div",{className:"_6htm",children:this.props.user.userName}),b("React").jsx("div",{className:"_6htn",children:b("React").jsx(m,{isP2PCall:this.props.isP2PCall,participantState:this.props.user.participantState})})]}),this.$1);b("Tooltip").set(b("ReactDOM").findDOMNode(this.$4),this.$1,"above","center")};d.$5=function(){__p&&__p();var a=this.props.user;a=a.getStream();if(!this.$2&&a&&a.getAudioTracks().length>0)try{var c=b("AudioContextSingleton").get();a=c.createMediaStreamSource(a);c=c.createAnalyser();var d=new Uint8Array(c.frequencyBinCount);a.connect(c);this.$2=!0;this.$10(c,d)}catch(a){this.$7(),b("RTWebUserActionLogger").logErrorOnceforDomain("RTCCallUser__startAnimation_failed",a)}};d.$7=function(){this.$2=!1,window.cancelAnimationFrame(this.$3)};d.$10=function(a,c){__p&&__p();var d=this;this.$3=window.requestAnimationFrame(function(){__p&&__p();if(d.$2){a.getByteFrequencyData(c);try{var e=0;c.forEach(function(a){e+=a});d.setState({audioLevel:Math.floor(e/a.frequencyBinCount/256*40)});d.$10(a,c)}catch(a){b("RTWebUserActionLogger").logErrorOnceforDomain("RTCCallUser_animate_failure",a),d.$7()}}})};return c}(a);var m=function(a){__p&&__p();if(a.isP2PCall)return null;if(a.participantState==null)return null;switch(a.participantState.state){case b("FBRTCParticipantCallState").CONTACTING:return b("RTWebStrings").contacting;case b("FBRTCParticipantCallState").RINGING:return b("RTWebStrings").ringing;case b("FBRTCParticipantCallState").CONNECTING:return b("RTWebStrings").connecting;case b("FBRTCParticipantCallState").CONNECTED:return b("RTWebStrings").connected;default:return null}};e.exports=c}),null);
__d("RTCGroupCallDraggableComponent.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;var g=5;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=!1,c.$3=0,c.$4=0,c.$5=0,c.$10=function(a){a&&(c.$1=a)},c.$8=function(a){c.$2&&(a.stopPropagation(),c.$2=!1)},c.$9=function(a){var b=a.clientX;a=a.clientY;c.$1&&(c.$3=b,c.$4=a,c.$5=c.$1.scrollLeft+b,document.addEventListener("mousemove",c.$6),document.addEventListener("mouseup",c.$7))},c.$6=function(a){var b=a.clientX;a=a.clientY;c.$1&&(c.$1.scrollLeft=c.$5-b,(Math.abs(b-c.$3)>g||Math.abs(a-c.$4)>g)&&(c.$2=!0))},c.$7=function(){document.removeEventListener("mousemove",c.$6),document.removeEventListener("mouseup",c.$7)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentWillUnmount=function(){document.removeEventListener("mousemove",this.$6),document.removeEventListener("mouseup",this.$7)};d.render=function(){return b("React").jsx("div",{className:this.props.className,onClickCapture:this.$8,onMouseDown:this.$9,ref:this.$10,children:this.props.children})};return c}(a);e.exports=c}),null);
__d("RTCGroupCallRosterRow.react",["cx","FBRTCGroupCallUserPopoverMenu.react","FBRTCParticipantCallState","React","RTCCallUser.react","RTCGroupCallDraggableComponent.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.localUser;a=a.remoteUsers;return b("React").jsxs(b("RTCGroupCallDraggableComponent.react"),{className:"_1a8c",children:[a.filter(function(a){return h(a.participantState)}).map(function(a){return b("React").jsx(b("FBRTCGroupCallUserPopoverMenu.react"),{user:a,children:b("React").jsx(b("RTCCallUser.react"),{isLocal:!1,isP2PCall:!1,user:a})},a.FBID)}),b("React").jsx(b("RTCCallUser.react"),{isLocal:!0,isP2PCall:!1,user:c})]})};function h(a){if(a)switch(a.state){case b("FBRTCParticipantCallState").CONTACTING:case b("FBRTCParticipantCallState").RINGING:case b("FBRTCParticipantCallState").CONNECTING:case b("FBRTCParticipantCallState").CONNECTED:return!0}return!1}e.exports=a}),null);
__d("RTCGroupCallStateInfo.react",["cx","fbt","CurrentUser","FBRTCCallTimer.react","FBRTCGuestUtils","FBRTCParticipantCallState","MercuryThreadTitle_DEPRECATED.react","React","RTCAppSpinner.react","RTCCallTitle.react","RTCGroupCallPeerImage.react","RTCGroupCallRosterRow.react","RTWebClientFeatureGating","RTWebStrings","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PureComponent;var i=b("RTWebClientFeatureGating").callUnification();function j(a){__p&&__p();var c=a.thread,d=a.participants;if(a.conferenceState==="AWAITING_USER_START")return b("React").jsx("p",{className:(i?"":"_fjp")+(i?" _6to4":""),children:h._("Ready to call {name}?",[h._param("name",c!=null&&c.name?b("React").jsx(b("MercuryThreadTitle_DEPRECATED.react"),{thread:c,viewer:b("CurrentUser").getID()}):b("React").jsx(b("RTCCallTitle.react"),{participants:d,viewer:b("CurrentUser").getID()}))])});else if(a.conferenceState==="NEW")return b("React").jsx("p",{className:(i?"":"_fjp")+(i?" _6to4":"")});a=null;if(c!=null){if(c.name!=null&&c.name!=="")a=b("React").jsx(b("MercuryThreadTitle_DEPRECATED.react"),{thread:c,viewer:b("CurrentUser").getID()});else if(c.participants!=null){c=b("FBRTCGuestUtils").fetchParticipantsInThread(c,d);a=b("React").jsx(b("RTCCallTitle.react"),{displayViewerName:!0,participants:c,viewer:b("CurrentUser").getID()})}}else a=b("React").jsx(b("RTCCallTitle.react"),{participants:d,viewer:b("CurrentUser").getID()});return b("React").jsx("p",{className:(i?"":"_fjp")+(i?" _6to4":""),children:a})}function k(a){var c=a.callMessage;return b("React").jsx("p",{className:(i?"":"_fjq")+(i?" _6to5":""),children:c||b("React").jsx(l,babelHelpers["extends"]({start:a.start},a))})}function l(a){switch(a.conferenceState){case"CONNECTING":return a.linkHash!=null||a.participants.size<=1?b("RTWebStrings").waitingForOthers:b("RTWebStrings").contacting;case"CONNECTED":return a.start>0?b("React").jsx(b("FBRTCCallTimer.react"),{start:a.start}):null;case"TERMINATING":return b("RTWebStrings").hangingUp;case"TERMINATED":return b("RTWebStrings").callEnded;case"NEW":return b("React").jsx(b("RTCAppSpinner.react"),{});default:return null}}function m(a){return a.conferenceState!=="CONNECTING"&&a.conferenceState!=="CONNECTED"?null:b("React").jsxs(b("React").Fragment,{children:[a.isAudioCall?b("React").jsx("div",{className:"_7i60",children:h._("IN THIS CHAT:")}):null,b("React").jsx("div",{className:"_5-tc",children:b("React").jsx(b("RTCGroupCallRosterRow.react"),{localUser:a.localUser,remoteUsers:a.remoteUsers})})]})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={start:0},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,b){var c=a.conferenceState;a=a.initialStartTime;a=a||Date.now();return b.start===0&&c==="CONNECTED"?babelHelpers["extends"]({},b,{start:Math.floor(a/1e3)}):null};var d=c.prototype;d.render=function(){var a=this.props,c=a.remoteUsers.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED});c=b("RTWebClientFeatureGating").callUnification()?c.size>=1:!a.isAudioCall&&a.conferenceState!=="TERMINATED";return c?null:b("React").jsxs("div",{className:"_4j_i",children:[b("React").jsx(b("RTCGroupCallPeerImage.react"),babelHelpers["extends"]({},a)),b("React").jsx(j,babelHelpers["extends"]({},a)),b("React").jsx(k,babelHelpers["extends"]({start:this.state.start},a)),b("React").jsx(m,babelHelpers["extends"]({},a))]})};return c}(a);e.exports=c}),null);
__d("RTCRingBackTone.react",["FBRTCSoundController","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").Component;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isPlaying:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1(this.props.active)};d.componentDidUpdate=function(){this.$1(this.props.active)};d.componentWillUnmount=function(){this.$2()};d.render=function(){if(this.props.active)return b("React").jsx("div",{display:"none",id:"RingTonePlaying"});else return null};d.$1=function(a){a?this.$3():this.$2()};d.$3=function(){this.state.isPlaying||this.setState({isPlaying:!0},function(){b("FBRTCSoundController").playRingbackTone()})};d.$2=function(){this.state.isPlaying&&(b("FBRTCSoundController").stopRingbackTone(),this.setState({isPlaying:!1}))};return c}(a);c.defaultProps={active:!1};e.exports=c}),null);
__d("RTCThreadInfo.react",["cx","CurrentUser","MercuryParticipantsConstants","MercuryParticipantsImage.react","MercuryThreadTitle_DEPRECATED.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerProfileImageWrapperReact.bs").jsComponent,i=b("MessengerThreadImageReact.bs").jsComponent;a=function(a){var c=a.participants;a=a.thread;return b("React").jsxs("div",{className:"_dzr",children:[a&&a.image_src?b("React").jsx(i,{className:"_dzs",participants:c,size:100,thread:a,viewer:b("CurrentUser").getID()}):b("React").jsx(h,{className:"_4j_j",showBadge:!1,size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,children:b("React").jsx(b("MercuryParticipantsImage.react"),{participants:Object.keys(c.toJS()),size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE})}),a&&a.name?b("React").jsx(b("MercuryThreadTitle_DEPRECATED.react"),{className:"_dzt",thread:a,viewer:b("CurrentUser").getID()}):b("React").jsx(b("RTCCallTitle.react"),{className:"_dzt",participants:c,viewer:b("CurrentUser").getID()})]})};e.exports=a}),null);
__d("RTCMWAppViewContent.react",["cx","fbt","CurrentUser","FBRTCConstants","FBRTCEndCallWarningOverlayContainer.react","FBRTCGroupCallIncallView.react","FBRTCGroupCallStore","FBRTCLogger","FBRTCParticipantCallState","MessengerRTCGroupCallParticipantsPickerDialogController","React","RTCAppViewMain.react","RTCCallConnectionStatus.react","RTCCallStateInfo.react","RTCGroupCallEscalationStore","RTCGroupCallStateInfo.react","RTCRingBackTone.react","RTCStarRating.react","RTCTextButton.react","RTCThreadInfo.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBRTCConstants").GroupVideoViewLayout,j=b("FBRTCLogger").Trigger;a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={wasStarRatingDone:!1},c.$3=function(){c.setState({wasStarRatingDone:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c,d=this.props,e=d.endCallReason,f=d.remoteUsers;d=babelHelpers.objectWithoutPropertiesLoose(d,["endCallReason","remoteUsers"]);switch(this.props.conferenceState){case"AWAITING_USER_START":var g=h._("Join call"),j=(c=this.props)!=null?(c=c.thread)!=null?(c=c.rtc_call_data)!=null?c.server_info_data:c:c:c,k=(c=this.props)!=null?(c=c.thread)!=null?(c=c.rtc_call_data)!=null?c.call_state:c:c:c;k&&k==="NO_ONGOING_CALL"&&(g=h._("Start Call"));return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsxs(b("RTCCallStateInfo.react"),{children:[b("React").jsx(b("RTCThreadInfo.react"),{participants:this.props.participants,thread:this.props.thread}),b("React").jsx(b("RTCCallConnectionStatus.react"),{children:h._("Ready to call?")}),b("React").jsx(b("RTCTextButton.react"),{className:"green _2fst","data-testid":"RTCAppViewStartCallButton",label:g,onClick:function(){return a.$1(k,j)}})]})});case"NEW":case"CONNECTING":case"CONNECTED":case"TERMINATING":c=f.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED});g=this.props.layout!==i.GRID;return b("React").jsxs(b("RTCAppViewMain.react"),{fullBleed:g,children:[b("React").jsx(b("FBRTCGroupCallIncallView.react"),babelHelpers["extends"]({remoteUsers:c},d)),this.props.conferenceState==="CONNECTING"&&this.props.linkHash===null?b("React").jsx(b("RTCRingBackTone.react"),{active:!0}):null,this.$2(),b("React").jsx(b("FBRTCEndCallWarningOverlayContainer.react"),{})]});case"TERMINATED":if(this.props.wasConnected&&!this.state.wasStarRatingDone)return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!0,children:b("React").jsx(b("RTCStarRating.react"),{isAudioCall:!b("FBRTCGroupCallStore").hadVideoDuration(),isGroupCall:!0,onDone:this.$3})});else return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!0,children:this.$2(e?e.toString():null)});default:return null}};d.$2=function(a){var c=b("RTCGroupCallEscalationStore").getState();c=c.p2pCallSummary;c=c?c.getConnectedStartTime():0;return b("React").jsx(b("RTCGroupCallStateInfo.react"),babelHelpers["extends"]({callMessage:a,initialStartTime:c},this.props))};d.$1=function(a,c){var d=this;a=a!=="NO_ONGOING_CALL";a?this.props.onStartCallClick(this.props.remoteUsers.toArray().map(function(a){return a.FBID}),j.MULTIWAY_POPUP_START_CALL_BUTTON):b("MessengerRTCGroupCallParticipantsPickerDialogController").render({conferenceName:this.props.conferenceName,handleCall:function(a){return d.props.onStartCallClick(a,j.MULTIWAY_POPUP_START_CALL_BUTTON,c)},hasVideo:!0,participants:this.props.participants.filter(function(a){a=a.fbid;return a!==b("CurrentUser").getID()}),thread:this.props.thread,trigger:j.MULTIWAY_POPUP_START_CALL_BUTTON,viewerID:b("CurrentUser").getID()})};return c}(a);e.exports=c}),null);
__d("RTCElementResizeListener.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(a){c.$1=a&&a.getDOMNode?a.getDOMNode():a},c.$4=function(a){a&&a.contentWindow?a.contentWindow.addEventListener("resize",c.$5,!1):c.$2&&c.$2.contentWindow&&c.$2.contentWindow.removeEventListener("resize",c.$5,!1),c.$2=a},c.$5=h(function(a){a=a.target;var b=c.props.onResize;b&&a&&b({height:a.innerHeight,width:a.innerWidth})},32),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getDOMNode=function(){return this.$1};d.render=function(){var a=this.props,c=a.children,d=a.className,e=a.component,f=a.onResize;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","component","onResize"]);return b("React").jsxs(e,babelHelpers["extends"]({className:b("joinClasses")("_3u0-",d),ref:this.$3},a,{children:[c,f?b("React").jsx("iframe",{className:"_3u11",ref:this.$4}):null]}))};d.componentDidMount=function(){this.$2&&this.$5({target:this.$2.contentWindow})};d.componentDidUpdate=function(a){var b=this.props.onResize;this.$2&&b&&b!==a.onResize&&this.$5({target:this.$2.contentWindow})};d.componentWillUnmount=function(){this.$2&&this.$2.contentWindow&&this.$2.contentWindow.removeEventListener("resize",this.$5,!1),this.$5.cancel()};return c}(a);c.defaultProps={component:"div"};function h(a,b){var c=0,d=null,e=function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=Date.now();c&&h<c+b?(window.clearTimeout(d),d=window.setTimeout(function(){c=h,a.apply(void 0,f)},b)):(c=h,a.apply(void 0,f))};e.cancel=function(){return window.clearTimeout(d)};return e}e.exports=c}),null);
__d("RTCAppViewFooter.react",["cx","React","RTCElementResizeListener.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").jsx(b("RTCElementResizeListener.react"),babelHelpers["extends"]({className:b("joinClasses")("_u0t",d),component:"footer","data-testid":"footerView"},a,{children:c}))};e.exports=a}),null);
__d("RTCUserActivityProvider.react",["React","UserAgent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").Children;a=b("React").PureComponent;var h=500;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=i(function(){window.clearTimeout(c.$1),c.props.onActive(),c.$1=window.setTimeout(c.props.onIdle,c.props.idleDelay)},h),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return g.only(this.props.children)};d.componentDidMount=function(){window.addEventListener("mousemove",this.$2),window.addEventListener("keydown",this.$2),b("UserAgent").isBrowser("Mobile Safari")&&window.addEventListener("touchstart",this.$2),this.$2()};d.componentWillUnmount=function(){window.removeEventListener("mousemove",this.$2),window.removeEventListener("keydown",this.$2),b("UserAgent").isBrowser("Mobile Safari")&&window.removeEventListener("touchstart",this.$2),window.clearTimeout(this.$1),this.$2.cancel()};return c}(a);c.defaultProps={idleDelay:3e3};function i(a,b){__p&&__p();b===void 0&&(b=100);var c=0,d=null,e=function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=Date.now(),i=function(){c=h,a.apply(void 0,f)};c&&h<c+b?(window.clearTimeout(d),d=window.setTimeout(i,b)):i()};e.cancel=function(){return window.clearTimeout(d)};return e}e.exports=c}),null);
__d("RTCCallControls.react",["cx","React","RTCElementResizeListener.react","RTCUserActivityProvider.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasFocus:!1,isMouseActive:!0},c.$6=function(a){c.$1=a&&a.getDOMNode?a.getDOMNode():a},c.$2=function(){c.setState({isMouseActive:!0}),c.$7(!0)},c.$3=function(){c.setState({isMouseActive:!1}),c.$7(!1)},c.$5=function(){c.setState({hasFocus:!0})},c.$4=function(){c.setState({hasFocus:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getDOMNode=function(){return this.$1};d.render=function(){var a=this.props,c=a.children,d=a.className,e=a.compact;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","compact"]);return b("React").jsx(b("RTCUserActivityProvider.react"),{onActive:this.$2,onIdle:this.$3,children:b("React").jsx(b("RTCElementResizeListener.react"),babelHelpers["extends"]({className:b("joinClasses")("_2eaq"+(e?" compact":"")+(!this.props.autoHide||this.state.isMouseActive||this.state.hasFocus?" visible":""),d),component:"section","data-testid":"CallControls",onBlur:this.$4,onFocus:this.$5,ref:this.$6},a,{children:c}))})};d.$7=function(a){this.props.onUpdateVisibility&&this.props.onUpdateVisibility(a)};return c}(a);c.defaultProps={autoHide:!0,compact:!1};e.exports=c}),null);
__d("RTCCallControlsButtonWithLabel.react",["cx","React","RTCAbstractButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=babelHelpers["extends"]({},this.props);return b("React").jsxs("div",{className:"_6-lr",children:[b("React").jsx(b("RTCAbstractButton.react"),babelHelpers["extends"]({"data-hover":"none",labelIsHidden:!0},a)),b("React").jsx("div",{className:"_6-ls",children:this.props.title})]})};return c}(b("React").PureComponent);a.defaultProps={highlighted:!1,disabled:!1,labelIsHidden:!0,shouldThrottle:!0};e.exports=a}),null);
__d("RTCCallControlsCloseWindowButton.react",["cx","React","RTCCallControlsButton.react","RTCCallControlsButtonWithLabel.react","RTCUIXIcon.react","RTWebStrings","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.className;a=a.label;return b("React").jsx(h,{className:b("joinClasses")("closeWindow icon-48",c),label:(c=a)!=null?c:b("RTWebStrings").close,onClick:function(){window.close(),window.close()},children:b("React").jsx(b("RTCUIXIcon.react"),{})})};var h=function(a){var c=a.children,d=a.className,e=a.label;a=a.onClick;return e!=null?b("React").jsx(b("RTCCallControlsButtonWithLabel.react"),{className:d,"data-testid":"closeCallWindowButton",onClick:a,title:e,children:c}):b("React").jsx(b("RTCCallControlsButton.react"),{className:d,"data-testid":"closeCallWindowButton",onClick:a,title:e,children:c})};e.exports=a}),null);
__d("RTCCallControlsDisappearingNUX.react",["FBRTCCallControlPopover.react","React","RTCCallControlsButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showNux:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.state.showNux?b("React").jsx(b("FBRTCCallControlPopover.react"),{alignment:this.props.alignment,body:this.props.label,className:this.props.className,label:this.props.label,referenceElement:this.props.referenceElement,shown:!0,title:null}):null};d.componentDidMount=function(){var a=this;window.setTimeout(function(){a.setState({showNux:!1})},g)};return c}(b("React").PureComponent);a.defaultProps={showNux:!0};e.exports=a}),null);
__d("RTCUIPhoneIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.variant;c=c===void 0?"start call":c;a=babelHelpers.objectWithoutPropertiesLoose(a,["variant"]);return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 48 48",children:c==="start call"?b("React").jsx("path",{d:"M32.3 33.3c-4.2 3.5-12.6-4.7-12.8-4.9C19.4 28.3 10.9 20 14.5 15.9C17.2 12.8 17.9 14 18.3 14.3c.3 .3 2.9 4 3 4.7C21.5 19.7 20 21.5 20 22.1c.1 .6 1.8 2.5 2.6 3.3c.7 .7 2.7 2.4 3.3 2.5c.6 .1 2.4-1.4 3.1-1.3c.8 .1 4.5 2.7 4.8 3C34.2 29.9 35.4 30.7 32.3 33.3"}):b("React").jsx("path",{d:"M12.054 24.58C12.52 19.102 24.34 19.002 24.54 19c.202 0 12.024-.1 12.408 5.37.284 4.048-1.092 3.74-1.56 3.778-.41.033-4.823-.767-5.452-1.19-.63-.422-.785-2.703-1.293-3.094-.507-.39-3.092-.51-4.134-.502-1.043.01-3.63.174-4.143.572-.513.4-.702 2.683-1.337 3.117-.636.434-5.062 1.31-5.47 1.283-.47-.03-1.85.3-1.506-3.753"})})}))};e.exports=a}),null);
__d("RTCCallControlsEndCallButton.react",["cx","fbt","AlignmentEnum","React","RTCCallControlsButton.react","RTCCallControlsDisappearingNUX.react","RTCHotKeys","RTCHotKeysConfig","RTCUIPhoneIcon.react","RTWebUserActionLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RTCHotKeysConfig").RTCHotKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){b("RTWebUserActionLogger").logClick({component:"end_call_button",surface:"call_controls"}),d.props.onClick&&d.props.onClick()},d.$3=function(){window.confirm(h._("Do you want to end the call?"))&&d.$4()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:"end_call_button",surface:"call_controls"}),this.$1=b("RTCHotKeys").register(i.END_CALL,this.$3)};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.render=function(){var a=this,c;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")("opaque endCall icon-48",this.props.className),"data-testid":"endCallButton",disabled:this.props.disabled,onClick:this.$4,ref:function(b){return a.$2=b},title:h._("End Call"),children:c.jsx(b("RTCUIPhoneIcon.react"),{variant:"end call"})}),this.props.showNux?b("React").jsx(b("RTCCallControlsDisappearingNUX.react"),{alignment:this.props.nuxAlignment,className:"_26bw",label:h._("Click to leave at any time"),referenceElement:this.$2}):null]})};return c}(b("React").PureComponent);a.defaultProps={showNux:!1,nuxAlignment:b("AlignmentEnum").center};e.exports=a}),null);
__d("RTCUIRosterIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return(c=b("React")).jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:c.jsx("svg",{height:"22",viewBox:"0 0 60 44",width:"30",children:c.jsx("g",{fill:"#FFF",fillRule:"evenodd",transform:"translate(12,4)",children:c.jsx("path",{d:"M14.9797896 20.4724735c.4975058.1515207.7025082.8041097.3605042 1.2181661-1.1630136 1.4061918-1.8405215 3.1129245-1.8405215 4.9756785v.014502C13.5022724 27.398918 12.9987665 28 12.3252586 28H4.3121651c-.7265085 0-1.3230155-.6345865-1.3120154-1.4091922.0530007-3.6474973 3.9475461-6.5918989 8.7496022-6.5918989 1.1420133 0 2.231026.1690231 3.2300377.4735646m-3.2300377-1.9682684c-2.6275307 0-4.368051-2.0342774-4.710055-4.7246443-.342004-.1950265-.5435063-.6485884-.5435063-1.2786743 0-.5975815.182502-1.0321408.4925057-1.2421694.0765009-2.6783652.8995105-4.6761377 1.7760207-4.6761377.8660102 0 1.194014.285039 1.194014.285039 0-.542074.3645042-.865118 1.7910209-.865118 3.4880407 0 4.6865547 1.8092467 4.7680557 5.2607173.3055035.2120289.4855056.645088.4855056 1.2376688 0 .6300859-.2015023 1.0836478-.5435063 1.2786743-.342004 2.6903669-2.0825243 4.7246443-4.710055 4.7246443zM33 26.6663181C33 27.4029186 32.3774927 28 31.6874847 28H16.812311c-.6905081 0-1.3125153-.5970814-1.3125153-1.3336819 0-3.6825021 3.9150457-6.6674092 8.7501021-6.6674092C29.0844543 19.9989089 33 22.983816 33 26.6663181zm-4.3165504-9.1627494c-.6345074 0-1.2080141-.065509-1.7245201-.1665227-.683008.7145974-1.6430192 1.1616584-2.7090317 1.1616584-.9965116 0-1.8995221-.3915534-2.57153-1.0256399-.1270015.0180025-.258003.0305042-.3965046.0305042-1.627019 0-2.7820325-2.5198436-2.7820325-5.2667182 0-2.632359 2.5390296-5.7617857 4.0000467-5.7617857.6105071 0 1.0950128.241533 1.0950128.241533C23.9998949 6.3695503 24.4309 6 25.4454118 6c1.9345226 0 5.054559 3.0254126 5.054559 6.2368505 0 1.4296949-.5000058 2.1732963-.5000058 2.8698913 0 1.1766605.9965116 1.0806474.9965116 1.5502114 0 .3895531-.9360109.8466155-2.313027.8466155z"})})})}))}e.exports=a}),null);
__d("RTCCallControlsParticipantsRosterButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCGroupCallDialogController","RTCUIRosterIcon.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").jsx(b("RTCCallControlsButton.react"),{className:"semiopaque icon-48",onClick:function(){return i(a.linkURL)},title:h._("Show participants in this call"),children:b("React").jsx(b("RTCUIRosterIcon.react"),{})})}function i(a){b("RTCGroupCallDialogController").showParticipantsRoster(a)}e.exports=a}),null);
__d("RTCUIMicrophoneIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1="",c.$2=function(a){a&&(c.$1=a.getURL(),c.forceUpdate())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.shadow,d=a.strikeThrough;a=babelHelpers.objectWithoutPropertiesLoose(a,["shadow","strikeThrough"]);if(c){return(c=b("React")).jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:c.jsxs("svg",{viewBox:"0 0 48 48",children:[c.jsx("defs",{children:c.jsx(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})}),c.jsx("g",{filter:this.$1,children:d?b("React").jsx(g,{}):b("React").jsx(h,{})})]})}))}return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 48 48",children:d?b("React").jsx(g,{}):b("React").jsx(h,{})})}))};return c}(b("React").PureComponent);a.defaultProps={shadow:!1,strikeThrough:!1};var g=function(){return b("React").jsx("path",{d:"M25 31c.7-.1 1.3-.3 1.9-.6l-.5-.9c-.6.3-1.2.5-1.9.5-2.5 0-4.5-2.2-4.5-5v-5h-1v5.2c0 3.1 2.2 5.6 5 5.8v3h-3v1h7v-1h-3v-3zm-.5-2c.5 0 1-.1 1.4-.3L21 20.6v4.9c0 1.9 1.6 3.5 3.5 3.5zm-5.8-16l-.9.5L30.3 34l.9-.5L18.7 13zM30 25.2V20h-1v5c0 .8-.2 1.6-.5 2.2l.6 1c.6-.8.9-1.9.9-3zm-2 .3v-9c0-1.9-1.6-3.5-3.5-3.5-1.5 0-2.7.9-3.2 2.2L28 26.3v-.8z"})},h=function(){return b("React").jsx("path",{d:"M29 20v5c0 2.7-2 5-4.5 5S20 27.8 20 25v-5h-1v5.2c0 3.1 2.2 5.6 5 5.8v3h-3v1h7v-1h-3v-3c2.8-.3 5-2.8 5-5.8V20h-1zm-4.5 9c1.9 0 3.5-1.6 3.5-3.5v-9c0-1.9-1.6-3.5-3.5-3.5S21 14.6 21 16.5v9c0 1.9 1.6 3.5 3.5 3.5z"})};e.exports=a}),null);
__d("RTCCallControlsToggleAudioButton.react",["cx","fbt","React","RTCCallActions","RTCCallControlsButton.react","RTCHotKeys","RTCHotKeysConfig","RTCUIM4MicrophoneIcon.react","RTCUIMicrophoneIcon.react","RTWebUserActionLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RTCHotKeysConfig").RTCHotKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("RTWebUserActionLogger").logClick({component:"toggle_audio",surface:"call_controls"}),b("RTCCallActions").toggleMuteAudio(d.props.audioMuted)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:"toggle_audio",surface:"call_controls"}),this.$1=b("RTCHotKeys").register(i.TOGGLE_MUTE_AUDIO,this.$2)};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.render=function(){var a=this.props,c=a.audioMuted,d=a.className,e=a.disabled;a=a.isM4;return b("React").jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")(d,"semiopaque icon-48"),"data-testid":"toggleAudioButton",disabled:e,highlighted:c,onClick:this.$2,title:c?h._("Unmute your microphone"):h._("Mute your microphone"),children:a===!0?b("React").jsx(b("RTCUIM4MicrophoneIcon.react"),{strikeThrough:c||e}):b("React").jsx(b("RTCUIMicrophoneIcon.react"),{strikeThrough:c||e})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCUICameraIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.strikeThrough;c=c===void 0?!1:c;a=babelHelpers.objectWithoutPropertiesLoose(a,["strikeThrough"]);return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 48 48",children:c?b("React").jsx("path",{d:"M36 29h1V19h-1v10zm-6-2.727L35 29V19l-5 2.727v4.546zM19.344 17H26c1.126 0 2 .938 2 2v10c0 .54-.225 1.047-.595 1.415L19.345 17zm-3.5 0H15c-1.126 0-2 .938-2 2v10c0 1.062.874 2 2 2h9.257l-8.413-14zm11.408 17.044l.857-.516-12.362-20.572-.857.516 12.362 20.572z"}):b("React").jsx("path",{d:"M26 17H15c-1.126 0-2 .938-2 2v10c0 1.062.874 2 2 2h11c1.126 0 2-.938 2-2V19c0-1.062-.874-2-2-2zm10 12h1V19h-1v10zm-6-2.727L35 29V19l-5 2.727v4.546z"})})}))};e.exports=a}),null);
__d("RTCCallControlsVideoButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCUICameraIcon.react","RTCUIM4VideoCameraIcon.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.className,d=a.disabled;d=d===void 0?!1:d;var e=a.onClick,f=a.nodeRef,g=a.videoMuted;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","disabled","onClick","nodeRef","videoMuted"]);return b("React").jsx(b("RTCCallControlsButton.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"semiopaque icon-48"),disabled:d,highlighted:g,onClick:e,ref:f,title:g?h._("Enable your Video"):h._("Disable Your Video")},a,{children:a.isM4===!0?b("React").jsx(b("RTCUIM4VideoCameraIcon.react"),{strikeThrough:g||d}):b("React").jsx(b("RTCUICameraIcon.react"),{strikeThrough:g||d})}))};e.exports=a}),null);
__d("RTCCallControlsToggleVideoButton.react",["React","RTCCallActions","RTCCallControlsButton.react","RTCCallControlsVideoButton.react","RTCHotKeys","RTCHotKeysConfig","RTCP2PCallStore","RTCP2PProtocolHandler","RTWebClientFeatureGating","RTWebUserActionLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RTCHotKeysConfig").RTCHotKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!0,d.$3=function(){!d.props.initializeVideo&&d.$1&&!b("RTWebClientFeatureGating").stopVideoWhenMute()&&(h(),d.$1=!1),b("RTWebUserActionLogger").logClick({callType:b("RTWebUserActionLogger").getCallType(!d.props.isP2P),component:"toggle_video",conferenceState:d.props.conferenceState,surface:"call_controls"}),d.props.onToggle?d.props.onToggle(d.props.videoMuted):b("RTCCallActions").toggleMuteVideo(d.props.videoMuted)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:"toggle_video",conferenceState:this.props.conferenceState,surface:"call_controls"}),this.$2=b("RTCHotKeys").register(g.TOGGLE_VIDEO,this.$3)};d.componentWillUnmount=function(){this.$2&&this.$2.remove()};d.render=function(){return b("React").jsx(b("RTCCallControlsVideoButton.react"),{className:this.props.className,"data-testid":"toggleVideoButton",disabled:this.props.disabled,isM4:this.props.isM4,nodeRef:this.props.nodeRef,onClick:this.$3,videoMuted:this.props.videoMuted})};return c}(b("React").PureComponent);function h(){var a=b("RTCP2PCallStore").getState(),c=a.protocolHandler;return b("RTCP2PProtocolHandler").initStream(!0).then(function(a){c.startLocalVideoTracker(a);return a}).then(function(a){b("RTCP2PProtocolHandler").replaceLocalStream(a);return a})["catch"](function(a){})}e.exports=a}),null);
__d("RTCCallControlsVideoEscalationButton.react",["React","RTCCallControlsVideoButton.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.disabled;c=c===void 0?!1:c;var d=a.videoMuted;d=d===void 0?!0:d;a=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","videoMuted"]);return b("React").jsx(b("RTCCallControlsVideoButton.react"),{className:a.className,"data-testid":"toggleVideoButton",disabled:c,isM4:a.isM4,onClick:a.onClick,videoMuted:d})};e.exports=a}),null);
__d("RTCGroupCallRemoteViewThumbnail.react",["cx","FBRTCVideo.react","Image.react","React","RTCRemoteViewPopoverMenuButton.react","RTCSVGIcon.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.isDominantSpeaker,d=a.isPinnedSpeaker,e=a.onClick;a=a.user;return b("React").jsxs("div",{className:"_30dp"+(c?" dominant":""),"data-testid":"remoteViewThumbnail"+a.FBID,onClick:e,children:[b("React").jsx("div",{className:"_30dq",children:b("React").jsx(b("RTCRemoteViewPopoverMenuButton.react"),{user:a})}),d?b("React").jsxs("div",{children:[b("React").jsx(b("RTCSVGIcon.react"),{className:"_5-vf",children:b("React").jsx("svg",{viewBox:"0 0 36 36",children:b("React").jsx("path",{d:"M0 0h32a4 4 0 0 1 4 4v32"})})}),b("React").jsx(b("RTCSVGIcon.react"),{className:"_5-vg",children:b("React").jsx("svg",{viewBox:"0 0 19 19",children:b("React").jsx("path",{d:"M2.5 6.65h13a1 1 0 0 1 1 1v9.637a1 1 0 0 1-1 1H3.5a1 1 0 0 1-1-1V7.65a1 1 0 0 1 1-1M9.192 0h.616a4 4 0 0 1 4 4v.313a4 4 0 0 1-.754 2.337H5.946a4 4 0 0 1-.754-2.337V4a4 4 0 0 1 4-4m0 1h.616a3 3 0 0 1 3 3v.313a3 3 0 0 1-1.12 2.337H7.312a3 3 0 0 1-1.12-2.337V4a3 3 0 0 1 3-3",fillRule:"evenodd"})})})]}):null,c||a.isVideoMuted()?b("React").jsx(b("Image.react"),{src:a.profilePictureUrl}):b("React").jsx(b("FBRTCVideo.react"),{mediaStream:a.getStream()})]})};e.exports=a}),null);
__d("RTCGroupCallRemoteView.react",["cx","FBRTCGroupCallStore","FluxContainer","React","RTCGroupCallActions","RTCGroupCallDraggableComponent.react","RTCGroupCallRemoteViewThumbnail.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();d=function(a){var c=a.dominantSpeakerFBID,d=a.pinnedSpeakerFBID;a=a.remoteUsers;return b("React").jsx(b("RTCGroupCallDraggableComponent.react"),{className:"_1qwn",children:a.map(function(a){return b("React").jsx(b("RTCGroupCallRemoteViewThumbnail.react"),{isDominantSpeaker:a.FBID===(d||c),isPinnedSpeaker:a.FBID===d,onClick:function(){a.FBID===d?b("RTCGroupCallActions").setPinnedSpeaker(null):b("RTCGroupCallActions").setPinnedSpeaker(a.FBID)},user:a},a.FBID)})})};function a(){return[b("FBRTCGroupCallStore")]}function c(a,c){a===void 0&&({});a=b("FBRTCGroupCallStore").getState();var d=a.dominantSpeakerFBID;a=a.pinnedSpeakerFBID;return babelHelpers["extends"]({dominantSpeakerFBID:d,pinnedSpeakerFBID:a},c)}e.exports=b("FluxContainer").createFunctional(d,a,c,{withProps:!0})}),null);
__d("RTCInCallFeaturesUtils",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({NO_CORNER:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4});a={BOUNDING_BOX_MARGIN:10,SETTINGS_HEIGHT:40,SELF_VIEW_WIDTH:178,SELF_VIEW_HEIGHT:100,SNAP_DISTANCE:100,Corners:g,getCornerPosition:function(a,b,c){switch(c){case g.TOP_LEFT:return{offsetLeft:0+this.BOUNDING_BOX_MARGIN,offsetTop:0+this.BOUNDING_BOX_MARGIN+this.SETTINGS_HEIGHT};case g.TOP_RIGHT:return{offsetLeft:a-this.SELF_VIEW_WIDTH-this.BOUNDING_BOX_MARGIN,offsetTop:0+this.BOUNDING_BOX_MARGIN+this.SETTINGS_HEIGHT};case g.BOTTOM_RIGHT:return{offsetLeft:a-this.SELF_VIEW_WIDTH-this.BOUNDING_BOX_MARGIN,offsetTop:b-this.SELF_VIEW_HEIGHT-this.BOUNDING_BOX_MARGIN};case g.BOTTOM_LEFT:return{offsetLeft:0+this.BOUNDING_BOX_MARGIN,offsetTop:b-this.SELF_VIEW_HEIGHT-this.BOUNDING_BOX_MARGIN};default:return null}},snapToCorner:function(a,b,c){__p&&__p();if(a.offsetLeft<this.SNAP_DISTANCE&&a.offsetTop<this.SNAP_DISTANCE+this.SETTINGS_HEIGHT){var d=this.getCornerPosition(b,c,g.TOP_LEFT);d.snappedCorner=g.TOP_LEFT;return d}if(a.offsetLeft>b-this.SELF_VIEW_WIDTH-this.SNAP_DISTANCE&&a.offsetTop<this.SNAP_DISTANCE+this.SETTINGS_HEIGHT){d=this.getCornerPosition(b,c,g.TOP_RIGHT);d.snappedCorner=g.TOP_RIGHT;return d}if(a.offsetLeft>b-this.SELF_VIEW_WIDTH-this.SNAP_DISTANCE&&a.offsetTop>c-this.SELF_VIEW_HEIGHT-this.SNAP_DISTANCE){d=this.getCornerPosition(b,c,g.BOTTOM_RIGHT);d.snappedCorner=g.BOTTOM_RIGHT;return d}if(a.offsetLeft<this.SNAP_DISTANCE&&a.offsetTop>c-this.SELF_VIEW_HEIGHT-this.SNAP_DISTANCE){d=this.getCornerPosition(b,c,g.BOTTOM_LEFT);d.snappedCorner=g.BOTTOM_LEFT;return d}return{offsetLeft:a.offsetLeft,offsetTop:a.offsetTop,snappedCorner:this.Corners.NO_CORNER}}};e.exports=a}),null);
__d("RTCSelfViewAnimationConfig",[],(function(a,b,c,d,e,f){"use strict";a={stiffness:200,damping:25};e.exports={springConfig:a}}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("performance-now-0.2.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();(function(){var a,b,c;typeof performance!=="undefined"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process!=="undefined"&&process!==null&&process.hrtime?(g.exports=function(){return(a()-c)/1e6},b=process.hrtime,a=function(){var a;a=b();return a[0]*1e9+a[1]},c=a()):Date.now?(g.exports=function(){return Date.now()-c},c=Date.now()):(g.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("fbjs-0.8.16",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){throw new Error("The fbjs package should not be required without a full path.")}var i=!1,j=function(){i||(i=!0,h());return g.exports};b={};var k={exports:b};function l(){__p&&__p();function a(a){return function(){return a}}var b=function(){};b.thatReturns=a;b.thatReturnsFalse=a(!1);b.thatReturnsTrue=a(!0);b.thatReturnsNull=a(null);b.thatReturnsThis=function(){return this};b.thatReturnsArgument=function(a){return a};k.exports=b}var m=!1,n=function(){m||(m=!0,l());return k.exports};c={};var o={exports:c};function p(){var a={};o.exports=a}var q=!1,r=function(){q||(q=!0,p());return o.exports};d={};var s={exports:d};function t(){__p&&__p();function a(a,b,c,d,e,f,g,h){__p&&__p();if(!a){if(b===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=[c,d,e,f,g,h],j=0;a=new Error(b.replace(/%s/g,function(){return i[j++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a}}s.exports=a}var u=!1,v=function(){u||(u=!0,t());return s.exports};f={};var w={exports:f};function x(){__p&&__p();var a=Object.prototype.hasOwnProperty;function b(a,b){if(a===b)return a!==0||b!==0||1/a===1/b;else return a!==a&&b!==b}function c(c,d){__p&&__p();if(b(c,d))return!0;if(typeof c!=="object"||c===null||typeof d!=="object"||d===null)return!1;var e=Object.keys(c),f=Object.keys(d);if(e.length!==f.length)return!1;for(var f=0;f<e.length;f++)if(!a.call(d,e[f])||!b(c[e[f]],d[e[f]]))return!1;return!0}w.exports=c}var y=!1,z=function(){y||(y=!0,x());return w.exports};a={};var A={exports:a};function B(){var a=n();a=a;A.exports=a}var C=!1,D=function(){C||(C=!0,B());return A.exports};b=function(a){switch(a){case void 0:return j();case"/lib/emptyFunction":return n();case"/lib/emptyObject":return r();case"/lib/invariant":return v();case"/lib/shallowEqual":return z();case"/lib/warning":return D()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("object-assign-4.1.1",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();var a=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(a){if(a===null||a===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function e(){__p&&__p();try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if(Object.getOwnPropertyNames(a)[0]==="5")return!1;var b={};for(var a=0;a<10;a++)b["_"+String.fromCharCode(a)]=a;a=Object.getOwnPropertyNames(b).map(function(a){return b[a]});if(a.join("")!=="0123456789")return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return Object.keys(Object.assign({},c)).join("")!=="abcdefghijklmnopqrst"?!1:!0}catch(a){return!1}}g.exports=e()?Object.assign:function(e,f){__p&&__p();var g,h=d(e),i;for(var j=1;j<arguments.length;j++){g=Object(arguments[j]);for(var k in g)b.call(g,k)&&(h[k]=g[k]);if(a){i=a(g);for(var l=0;l<i.length;l++)c.call(g,i[l])&&(h[i[l]]=g[i[l]])}}return h}}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("prop-types-15.6.0",["fbjs-0.8.16","object-assign-4.1.1"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("fbjs-0.8.16"));a(b("object-assign-4.1.1"));c={};var h={exports:c};function i(){var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";h.exports=a}var j=!1,k=function(){j||(j=!0,i());return h.exports};d={};var l={exports:d};function m(){function a(a,b,c,d,e){}l.exports=a}var n=!1,o=function(){n||(n=!0,m());return l.exports};f={};var p={exports:f};function q(){__p&&__p();var a=g("/lib/emptyFunction"),b=g("/lib/invariant"),c=k();p.exports=function(){__p&&__p();function d(a,d,e,f,g,h){if(h===c)return;b(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}d.isRequired=d;function e(){return d}e={array:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:e,element:d,instanceOf:e,node:d,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};e.checkPropTypes=a;e.PropTypes=e;return e}}var r=!1,s=function(){r||(r=!0,q());return p.exports};a={};var t={exports:a};function u(){t.exports=s()()}var v=!1,w=function(){v||(v=!0,u());return t.exports};b=function(a){switch(a){case void 0:return w();case"/checkPropTypes":return o()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("performance-now-2.1.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();(function(){var a,b,c,d,e,f;typeof performance!=="undefined"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process!=="undefined"&&process!==null&&process.hrtime?(g.exports=function(){return(a()-e)/1e6},b=process.hrtime,a=function(){var a;a=b();return a[0]*1e9+a[1]},d=a(),f=process.uptime()*1e9,e=d-f):Date.now?(g.exports=function(){return Date.now()-c},c=Date.now()):(g.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case void 0:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("raf-3.4.0",["performance-now-2.1.0"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("performance-now-2.1.0"));d={};var h={exports:d};function i(){__p&&__p();var b=g(),c=typeof window==="undefined"?a:window,d=["moz","webkit"],e="AnimationFrame",f=c["request"+e],i=c["cancel"+e]||c["cancelRequest"+e];for(var j=0;!f&&j<d.length;j++)f=c[d[j]+"Request"+e],i=c[d[j]+"Cancel"+e]||c[d[j]+"CancelRequest"+e];if(!f||!i){var k=0,l=0,m=[],n=1e3/60;f=function(a){__p&&__p();if(m.length===0){var c=b(),d=Math.max(0,n-(c-k));k=d+c;setTimeout(function(){var b=m.slice(0);m.length=0;for(var a=0;a<b.length;a++)if(!b[a].cancelled)try{b[a].callback(k)}catch(a){setTimeout(function(){throw a},0)}},Math.round(d))}m.push({handle:++l,callback:a,cancelled:!1});return l};i=function(b){for(var a=0;a<m.length;a++)m[a].handle===b&&(m[a].cancelled=!0)}}h.exports=function(a){return f.call(c,a)};h.exports.cancel=function(){i.apply(c,arguments)};h.exports.polyfill=function(a){a||(a=c),a.requestAnimationFrame=f,a.cancelAnimationFrame=i}}var j=!1,k=function(){j||(j=!0,i());return h.exports};f=function(a){switch(a){case void 0:return k()}};e.exports=f}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("react-motion-0.5.2",["performance-now-0.2.0","raf-3.4.0","react-0.0.0","prop-types-15.6.0"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("performance-now-0.2.0")),h=a(b("raf-3.4.0")),i=a(b("react-0.0.0")),j=a(b("prop-types-15.6.0")),k={},l={exports:k};function m(){k.__esModule=!0;k["default"]=a;function a(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=0);return b}l.exports=k["default"]}var n=!1,o=function(){n||(n=!0,m());return l.exports},p={},q={exports:p};function r(){__p&&__p();p.__esModule=!0;p["default"]=a;function a(a){var b={};for(var c in a){if(!Object.prototype.hasOwnProperty.call(a,c))continue;b[c]=typeof a[c]==="number"?a[c]:a[c].val}return b}q.exports=p["default"]}var s=!1,t=function(){s||(s=!0,r());return q.exports},u={},v={exports:u};function w(){__p&&__p();u.__esModule=!0;u["default"]=b;var a=[0,0];function b(b,c,d,e,f,g,h){__p&&__p();f=-f*(c-e);g=-g*d;f=f+g;g=d+f*b;d=c+g*b;if(Math.abs(g)<h&&Math.abs(d-e)<h){a[0]=e;a[1]=0;return a}a[0]=d;a[1]=g;return a}v.exports=u["default"]}var x=!1,y=function(){x||(x=!0,w());return v.exports},z={},A={exports:z};function aa(){__p&&__p();z.__esModule=!0;z["default"]=a;function a(a,b,c){__p&&__p();for(var d in b){if(!Object.prototype.hasOwnProperty.call(b,d))continue;if(c[d]!==0)return!1;var e=typeof b[d]==="number"?b[d]:b[d].val;if(a[d]!==e)return!1}return!0}A.exports=z["default"]}var B=!1,C=function(){B||(B=!0,aa());return A.exports},D={},E={exports:D};function ba(){__p&&__p();D.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=g();var n=c(f);f=h();var p=c(f);f=C();var q=c(f);f=i();var r=c(f);f=j();var s=c(f),u=1e3/60;c=function(c){__p&&__p();e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyle:s["default"].objectOf(s["default"].number),style:s["default"].objectOf(s["default"].oneOfType([s["default"].number,s["default"].object])).isRequired,children:s["default"].func.isRequired,onRest:s["default"].func},enumerable:!0}]);function f(b){__p&&__p();var e=this;d(this,f);c.call(this,b);this.wasAnimating=!1;this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyle=null;this.clearUnreadPropStyle=function(b){var c=!1,d=e.state,f=d.currentStyle,g=d.currentVelocity,h=d.lastIdealStyle;d=d.lastIdealVelocity;for(var i in b){if(!Object.prototype.hasOwnProperty.call(b,i))continue;var j=b[i];typeof j==="number"&&(c||(c=!0,f=a({},f),g=a({},g),h=a({},h),d=a({},d)),f[i]=j,g[i]=0,h[i]=j,d[i]=0)}c&&e.setState({currentStyle:f,currentVelocity:g,lastIdealStyle:h,lastIdealVelocity:d})};this.startAnimationIfNecessary=function(){__p&&__p();e.animationID=p["default"](function(a){__p&&__p();var b=e.props.style;if(q["default"](e.state.currentStyle,b,e.state.currentVelocity)){e.wasAnimating&&e.props.onRest&&e.props.onRest();e.animationID=null;e.wasAnimating=!1;e.accumulatedTime=0;return}e.wasAnimating=!0;a=a||n["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>u*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/u)*u)/u;c=Math.floor(e.accumulatedTime/u);var d={},f={},g={},h={};for(var i in b){if(!Object.prototype.hasOwnProperty.call(b,i))continue;var j=b[i];if(typeof j==="number")g[i]=j,h[i]=0,d[i]=j,f[i]=0;else{var k=e.state.lastIdealStyle[i],l=e.state.lastIdealVelocity[i];for(var o=0;o<c;o++){var p=m["default"](u/1e3,k,l,j.val,j.stiffness,j.damping,j.precision);k=p[0];l=p[1]}p=m["default"](u/1e3,k,l,j.val,j.stiffness,j.damping,j.precision);o=p[0];j=p[1];g[i]=k+(o-k)*a;h[i]=l+(j-l)*a;d[i]=k;f[i]=l}}e.animationID=null;e.accumulatedTime-=c*u;e.unreadPropStyle=null;e.startAnimationIfNecessary();e.setState({currentStyle:g,currentVelocity:h,lastIdealStyle:d,lastIdealVelocity:f})})};this.state=this.defaultState()}f.prototype.defaultState=function(){var a=this.props,b=a.defaultStyle;a=a.style;b=b||l["default"](a);a=k["default"](b);return{currentStyle:b,currentVelocity:a,lastIdealStyle:b,lastIdealVelocity:a}};f.prototype.componentDidMount=function(){this.prevTime=n["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyle!=null&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=a.style,this.animationID==null&&(this.prevTime=n["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.animationID!=null&&(p["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=this.props.children(this.state.currentStyle);return a&&r["default"].Children.only(a)};return f}(r["default"].Component);D["default"]=c;E.exports=D["default"]}var F=!1,ca=function(){F||(F=!0,ba());return E.exports},G={},H={exports:G};function da(){__p&&__p();G.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=g();var n=c(f);f=h();var p=c(f);f=C();var q=c(f);f=i();var r=c(f);f=j();var s=c(f),u=1e3/60;function v(a,b,c){for(var d=0;d<a.length;d++)if(!q["default"](a[d],b[d],c[d]))return!1;return!0}c=function(c){__p&&__p();e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyles:s["default"].arrayOf(s["default"].objectOf(s["default"].number)),styles:s["default"].func.isRequired,children:s["default"].func.isRequired},enumerable:!0}]);function f(b){__p&&__p();var e=this;d(this,f);c.call(this,b);this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyles=null;this.clearUnreadPropStyle=function(b){__p&&__p();var c=e.state,d=c.currentStyles,f=c.currentVelocities,g=c.lastIdealStyles;c=c.lastIdealVelocities;var h=!1;for(var i=0;i<b.length;i++){var j=b[i],k=!1;for(var l in j){if(!Object.prototype.hasOwnProperty.call(j,l))continue;var m=j[l];typeof m==="number"&&(k||(k=!0,h=!0,d[i]=a({},d[i]),f[i]=a({},f[i]),g[i]=a({},g[i]),c[i]=a({},c[i])),d[i][l]=m,f[i][l]=0,g[i][l]=m,c[i][l]=0)}}h&&e.setState({currentStyles:d,currentVelocities:f,lastIdealStyles:g,lastIdealVelocities:c})};this.startAnimationIfNecessary=function(){__p&&__p();e.animationID=p["default"](function(a){__p&&__p();var b=e.props.styles(e.state.lastIdealStyles);if(v(e.state.currentStyles,b,e.state.currentVelocities)){e.animationID=null;e.accumulatedTime=0;return}a=a||n["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>u*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/u)*u)/u;c=Math.floor(e.accumulatedTime/u);var d=[],f=[],g=[],h=[];for(var i=0;i<b.length;i++){var j=b[i],k={},l={},o={},p={};for(var q in j){if(!Object.prototype.hasOwnProperty.call(j,q))continue;var r=j[q];if(typeof r==="number")k[q]=r,l[q]=0,o[q]=r,p[q]=0;else{var s=e.state.lastIdealStyles[i][q],t=e.state.lastIdealVelocities[i][q];for(var w=0;w<c;w++){var x=m["default"](u/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);s=x[0];t=x[1]}x=m["default"](u/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);w=x[0];r=x[1];k[q]=s+(w-s)*a;l[q]=t+(r-t)*a;o[q]=s;p[q]=t}}g[i]=k;h[i]=l;d[i]=o;f[i]=p}e.animationID=null;e.accumulatedTime-=c*u;e.unreadPropStyles=null;e.startAnimationIfNecessary();e.setState({currentStyles:g,currentVelocities:h,lastIdealStyles:d,lastIdealVelocities:f})})};this.state=this.defaultState()}f.prototype.defaultState=function(){var a=this.props,b=a.defaultStyles;a=a.styles;b=b||a().map(l["default"]);a=b.map(function(a){return k["default"](a)});return{currentStyles:b,currentVelocities:a,lastIdealStyles:b,lastIdealVelocities:a}};f.prototype.componentDidMount=function(){this.prevTime=n["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles!=null&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=a.styles(this.state.lastIdealStyles),this.animationID==null&&(this.prevTime=n["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.animationID!=null&&(p["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=this.props.children(this.state.currentStyles);return a&&r["default"].Children.only(a)};return f}(r["default"].Component);G["default"]=c;H.exports=G["default"]}var I=!1,ea=function(){I||(I=!0,da());return H.exports},J={},K={exports:J};function fa(){__p&&__p();J.__esModule=!0;J["default"]=a;function a(a,b,c){__p&&__p();var d={};for(var e=0;e<a.length;e++)d[a[e].key]=e;var f={};for(var e=0;e<b.length;e++)f[b[e].key]=e;var g=[];for(var e=0;e<b.length;e++)g[e]=b[e];for(var e=0;e<a.length;e++)if(!Object.prototype.hasOwnProperty.call(f,a[e].key)){var h=c(e,a[e]);h!=null&&g.push(h)}return g.sort(function(a,c){__p&&__p();var e=f[a.key],g=f[c.key],h=d[a.key],i=d[c.key];if(e!=null&&g!=null)return f[a.key]-f[c.key];else if(h!=null&&i!=null)return d[a.key]-d[c.key];else if(e!=null){for(var a=0;a<b.length;a++){c=b[a].key;if(!Object.prototype.hasOwnProperty.call(d,c))continue;if(e<f[c]&&i>d[c])return-1;else if(e>f[c]&&i<d[c])return 1}return 1}for(var a=0;a<b.length;a++){c=b[a].key;if(!Object.prototype.hasOwnProperty.call(d,c))continue;if(g<f[c]&&h>d[c])return 1;else if(g>f[c]&&h<d[c])return-1}return-1})}K.exports=J["default"]}var L=!1,ga=function(){L||(L=!0,fa());return K.exports},M={},N={exports:M};function ha(){__p&&__p();M.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=ga();var n=c(f);f=g();var p=c(f);f=h();var q=c(f);f=C();var r=c(f);f=i();var s=c(f);f=j();var u=c(f),v=1e3/60;function w(a,b,c){var d=b;return d==null?a.map(function(a,b){return{key:a.key,data:a.data,style:c[b]}}):a.map(function(a,b){for(var e=0;e<d.length;e++)if(d[e].key===a.key)return{key:d[e].key,data:d[e].data,style:c[b]};return{key:a.key,data:a.data,style:c[b]}})}function x(a,b,c,d){if(d.length!==b.length)return!1;for(var e=0;e<d.length;e++)if(d[e].key!==b[e].key)return!1;for(var e=0;e<d.length;e++)if(!r["default"](a[e],b[e].style,c[e]))return!1;return!0}function z(a,b,c,d,e,f,g,h,i){__p&&__p();e=n["default"](d,e,function(a,d){__p&&__p();var e=b(d);if(e==null){c({key:d.key,data:d.data});return null}if(r["default"](f[a],e,g[a])){c({key:d.key,data:d.data});return null}return{key:d.key,data:d.data,style:e}});var j=[],l=[],m=[],o=[];for(var p=0;p<e.length;p++){var q=e[p],s=null;for(var t=0;t<d.length;t++)if(d[t].key===q.key){s=t;break}if(s==null){t=a(q);j[p]=t;m[p]=t;t=k["default"](q.style);l[p]=t;o[p]=t}else j[p]=f[s],m[p]=h[s],l[p]=g[s],o[p]=i[s]}return[e,j,l,m,o]}c=function(c){__p&&__p();e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyles:u["default"].arrayOf(u["default"].shape({key:u["default"].string.isRequired,data:u["default"].any,style:u["default"].objectOf(u["default"].number).isRequired})),styles:u["default"].oneOfType([u["default"].func,u["default"].arrayOf(u["default"].shape({key:u["default"].string.isRequired,data:u["default"].any,style:u["default"].objectOf(u["default"].oneOfType([u["default"].number,u["default"].object])).isRequired}))]).isRequired,children:u["default"].func.isRequired,willEnter:u["default"].func,willLeave:u["default"].func,didLeave:u["default"].func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(a){return l["default"](a.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]);function f(b){__p&&__p();var e=this;d(this,f);c.call(this,b);this.unmounting=!1;this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyles=null;this.clearUnreadPropStyle=function(b){__p&&__p();var c=z(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,b,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),d=c[0],f=c[1],g=c[2],h=c[3];c=c[4];for(var i=0;i<b.length;i++){var j=b[i].style,k=!1;for(var l in j){if(!Object.prototype.hasOwnProperty.call(j,l))continue;var m=j[l];typeof m==="number"&&(k||(k=!0,f[i]=a({},f[i]),g[i]=a({},g[i]),h[i]=a({},h[i]),c[i]=a({},c[i]),d[i]={key:d[i].key,data:d[i].data,style:a({},d[i].style)}),f[i][l]=m,g[i][l]=0,h[i][l]=m,c[i][l]=0,d[i].style[l]=m)}}e.setState({currentStyles:f,currentVelocities:g,mergedPropsStyles:d,lastIdealStyles:h,lastIdealVelocities:c})};this.startAnimationIfNecessary=function(){__p&&__p();if(e.unmounting)return;e.animationID=q["default"](function(a){__p&&__p();if(e.unmounting)return;var b=e.props.styles;b=typeof b==="function"?b(w(e.state.mergedPropsStyles,e.unreadPropStyles,e.state.lastIdealStyles)):b;if(x(e.state.currentStyles,b,e.state.currentVelocities,e.state.mergedPropsStyles)){e.animationID=null;e.accumulatedTime=0;return}a=a||p["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>v*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/v)*v)/v;c=Math.floor(e.accumulatedTime/v);b=z(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,b,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities);var d=b[0],f=b[1],g=b[2],h=b[3];b=b[4];for(var i=0;i<d.length;i++){var j=d[i].style,k={},l={},n={},o={};for(var q in j){if(!Object.prototype.hasOwnProperty.call(j,q))continue;var r=j[q];if(typeof r==="number")k[q]=r,l[q]=0,n[q]=r,o[q]=0;else{var s=h[i][q],t=b[i][q];for(var u=0;u<c;u++){var y=m["default"](v/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);s=y[0];t=y[1]}y=m["default"](v/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);u=y[0];r=y[1];k[q]=s+(u-s)*a;l[q]=t+(r-t)*a;n[q]=s;o[q]=t}}h[i]=n;b[i]=o;f[i]=k;g[i]=l}e.animationID=null;e.accumulatedTime-=c*v;e.unreadPropStyles=null;e.startAnimationIfNecessary();e.setState({currentStyles:f,currentVelocities:g,lastIdealStyles:h,lastIdealVelocities:b,mergedPropsStyles:d})})};this.state=this.defaultState()}f.prototype.defaultState=function(){__p&&__p();var a=this.props,b=a.defaultStyles,c=a.styles,d=a.willEnter,e=a.willLeave;a=a.didLeave;var f=typeof c==="function"?c(b):c;c=void 0;b==null?c=f:c=b.map(function(a){for(var b=0;b<f.length;b++)if(f[b].key===a.key)return f[b];return a});var g=b==null?f.map(function(a){return l["default"](a.style)}):b.map(function(a){return l["default"](a.style)});b=b==null?f.map(function(a){return k["default"](a.style)}):b.map(function(a){return k["default"](a.style)});d=z(d,e,a,c,f,g,b,g,b);e=d[0];a=d[1];c=d[2];g=d[3];b=d[4];return{currentStyles:a,currentVelocities:c,lastIdealStyles:g,lastIdealVelocities:b,mergedPropsStyles:e}};f.prototype.componentDidMount=function(){this.prevTime=p["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);a=a.styles;typeof a==="function"?this.unreadPropStyles=a(w(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=a;this.animationID==null&&(this.prevTime=p["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.unmounting=!0,this.animationID!=null&&(q["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=w(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles);a=this.props.children(a);return a&&s["default"].Children.only(a)};return f}(s["default"].Component);M["default"]=c;N.exports=M["default"]}var O=!1,ia=function(){O||(O=!0,ha());return N.exports},P={},Q={exports:P};function ja(){P.__esModule=!0,P["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},Q.exports=P["default"]}var R=!1,S=function(){R||(R=!0,ja());return Q.exports},T={},U={exports:T};function ka(){__p&&__p();T.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};T["default"]=d;function b(a){return a&&a.__esModule?a:{"default":a}}d=S();b=b(d);var c=a({},b["default"].noWobble,{precision:.01});function d(b,d){return a({},c,d,{val:b})}U.exports=T["default"]}var V=!1,la=function(){V||(V=!0,ka());return U.exports},W={},X={exports:W};function ma(){W.__esModule=!0;W["default"]=a;function a(){}X.exports=W["default"]}var Y=!1,na=function(){Y||(Y=!0,ma());return X.exports},Z={},oa={exports:Z};function pa(){__p&&__p();Z.__esModule=!0;function a(a){return a&&a.__esModule?a["default"]:a}var b=ca();Z.Motion=a(b);b=ea();Z.StaggeredMotion=a(b);b=ia();Z.TransitionMotion=a(b);b=la();Z.spring=a(b);b=S();Z.presets=a(b);b=t();Z.stripStyle=a(b);b=na();Z.reorderKeys=a(b)}var $=!1,qa=function(){$||($=!0,pa());return oa.exports};c=function(a){switch(a){case void 0:return qa()}};e.exports=c}),null);
__d("react-motion",["react-motion-0.5.2"],(function(a,b,c,d,e,f){e.exports=b("react-motion-0.5.2")()}),null);
__d("ReactMotion",["react-motion"],(function(a,b,c,d,e,f){e.exports=b("react-motion")}),null);
__d("RTCSelfViewTile.react",["cx","React","ReactMotion","RTCElementResizeListener.react","RTCSelfViewAnimationConfig","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReactMotion").Motion,i=b("ReactMotion").spring,j=b("RTCSelfViewAnimationConfig").springConfig;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={width:0},c.$1=function(a){c.setState({width:a.width})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c;c=((c=document.body)==null?void 0:c.dir)==="rtl";return b("React").jsx(h,{defaultStyle:{x:0},style:{x:i(c?k(this.props,this.state)-this.state.width:this.state.width-k(this.props,this.state),j)},children:function(c){return b("React").jsxs("div",{className:b("joinClasses")("_drs"+(a.props.focused?" focused":"")+(a.props.hovered?" hovered":""),a.props.className),"data-testid":"RTCSelfView",style:babelHelpers["extends"]({width:k(a.props,a.state)},a.props.style),children:[b("React").jsx("div",{className:"_drt",style:{width:a.state.width},children:b("React").jsx(b("RTCElementResizeListener.react"),{className:"_dru",onResize:a.$1,style:{transform:"translateX("+c.x+"px)"},children:a.props.children})}),b("React").jsx("button",{className:"_drv",onClick:a.props.onClick})]})}})};d.componentDidUpdate=function(a,b){var c=k(this.props,this.state);c!==k(a,b)&&this.props.onResize({width:c,height:0})};return c}(b("React").PureComponent);a.defaultProps={collapsed:!1,focused:!1,hovered:!1};function k(a,b){return a.collapsed?a.focused||a.hovered?30:22:b.width}e.exports=a}),null);
__d("RTCSelfViewTileLayer.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className,e=a.renderBackground;e=e===void 0?!1:e;var f=a.visible;f=f===void 0?!0:f;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","renderBackground","visible"]);return b("React").jsx("div",babelHelpers["extends"]({className:b("joinClasses")("_drw"+(f?" _drx":"")+(e?" _dry":""),d)},a,{children:c}))};e.exports=a}),null);
__d("RTCSelfViewCameraStream.react",["cx","fbt","CssBackgroundImage.react","Image.react","React","RTCSelfViewTile.react","RTCSelfViewTileLayer.react","RTCSVGIcon.react","RTCUIMicrophoneIcon.react","RTCUIVideo.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){var c,d=a.collapsed,e=a.focused,f=a.hovered,g=a.isCollapsible,i=a.isFilterMode,j=a.user;a=babelHelpers.objectWithoutPropertiesLoose(a,["collapsed","focused","hovered","isCollapsible","isFilterMode","user"]);var k=j.isAudioMuted(),l=j.getStream(),m=j.isVideoMuted();c=((c=document.body)==null?void 0:c.dir)==="rtl";var n=c?"M6 2L2 14L6 26":"M2 2L6 14L2 26";c=c?"M2 2L6 14L2 26":"M6 2L2 14L6 26";return b("React").jsxs(b("RTCSelfViewTile.react"),{className:a.className,collapsed:d,focused:e,hovered:f,onClick:a.onClick,onResize:a.onResize,style:a.style,children:[b("React").jsx(b("RTCUIVideo.react"),{className:"_88q"+(j.isVideoMuted()||l==null?" muted":""),"data-testid":"SelfViewCameraVideo",mirror:!0,muted:!0,onReady:a.onVideoReady,stream:l}),b("React").jsxs(b("RTCSelfViewTileLayer.react"),{renderBackground:k||m,visible:m,children:[b("RTWebClientFeatureGating").callUnification()?b("React").jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center center",className:"_6qn8",height:"100%",imageURI:j.profilePictureUrl,width:"100%"}):null,b("React").jsx(b("Image.react"),{alt:h._("Profile picture"),className:"_6m1b",src:j.profilePictureUrl})]}),b("React").jsx(b("RTCSelfViewTileLayer.react"),{renderBackground:!1,visible:k,children:b("React").jsx(b("RTCUIMicrophoneIcon.react"),{className:"_drz _7do8",shadow:!0,strikeThrough:!0})}),i||!g?null:b("React").jsx(b("RTCSelfViewTileLayer.react"),{renderBackground:e||f,children:b("React").jsx(b("RTCSVGIcon.react"),{children:b("React").jsx("svg",{className:"_drz _dr_",viewBox:"0 0 8 28",children:b("React").jsx("path",{d:d?c:n,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3})})})})]})};e.exports=a}),null);
__d("RTCSelfViewScreenStream.react",["cx","fbt","FBRTCVideo.react","React","RTCSelfViewTile.react","RTCSelfViewTileLayer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){var a=c.props.user.getScreenStream();if(!a||!c.props.onStopSharing)return;c.props.onStopSharing(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.focused,d=a.hovered;a=a.user;a=a.getScreenStream();return!a?null:b("React").jsxs(b("RTCSelfViewTile.react"),{focused:c,hovered:d,onClick:this.$1,onResize:this.props.onResize,style:this.props.style,children:[b("React").jsx(b("FBRTCVideo.react"),{className:"_88q",mediaStream:a,muted:!0}),this.props.onStopSharing!=null?b("React").jsx(b("RTCSelfViewTileLayer.react"),{renderBackground:!0,visible:c||d,children:b("React").jsx("span",{className:"_dr-",children:h._("Stop")})}):null]})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCSelfViewBase.react",["cx","FBRTCSupport","React","ReactMotion","RTCGroupCallEscalationStore","RTCSelfViewAnimationConfig","RTCSelfViewCameraStream.react","RTCSelfViewScreenStream.react","RTWebClientFeatureGating","RTWebUserActionLogger","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReactMotion").TransitionMotion,i=b("ReactMotion").spring,j=b("ReactMotion").stripStyle,k=b("RTCSelfViewAnimationConfig").springConfig,l=10,m=b("keyMirror")({CAMERA:null,SCREEN:null});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={cameraViewCollapsed:!1,filtersEnabled:!1,focused:!1,hovered:!1,showFilterOptions:!1,isVideoReady:!1,tiles:[],width:0},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,b){var c=p(a);return{filtersEnabled:c,showFilterOptions:c?b.showFilterOptions:!1,tiles:n(a,b.tiles)}};var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props,d=c.className,e=c.user;if(!this.$1())return null;c=this.state;var f=c.cameraViewCollapsed,g=c.focused,l=c.hovered;return b("React").jsx(h,{styles:this.$2(),willEnter:function(a){a=a.style;return babelHelpers["extends"]({},j(a),{opacity:0})},willLeave:function(a){a=a.style;return babelHelpers["extends"]({},a,{opacity:i(0,k)})},children:function(c){__p&&__p();return b("React").jsx("div",{className:b("joinClasses")("_u2-"+(a.state.showFilterOptions?" filters":""),d),onBlur:function(){return a.setState({focused:!1})},onFocus:function(){return a.setState({focused:!0})},onMouseDown:a.props.onMouseDown,onMouseEnter:function(){return a.setState({hovered:!0})},onMouseLeave:function(){return a.setState({hovered:!1})},style:babelHelpers["extends"]({},a.props.style,{width:a.state.width}),children:c.map(function(c){__p&&__p();switch(c.key){case m.CAMERA:return b("React").jsx(b("RTCSelfViewCameraStream.react"),{className:a.state.isVideoReady?"":"invisible_elem",collapsed:f,focused:g,hovered:l,isCollapsible:a.props.isCollapsible,isFilterMode:a.state.showFilterOptions,onClick:function(){if(!a.props.isCollapsible)return;a.$3(!a.state.cameraViewCollapsed);a.setState(function(a){return{cameraViewCollapsed:!a.cameraViewCollapsed,showFilterOptions:!1}})},onResize:function(b){return a.$4(m.CAMERA,b.width)},onVideoReady:function(){a.setState({isVideoReady:!0})},style:a.$5(c.style),user:e},c.key);case m.SCREEN:return b("React").jsx(b("RTCSelfViewScreenStream.react"),{focused:g,hovered:l,onResize:function(b){return a.$4(m.SCREEN,b.width)},onStopSharing:a.props.onScreenSharingStop,style:a.$5(c.style),user:e},c.key);default:return null}})})}})};d.$1=function(){return this.props.user.hasVideo()||this.props.user.hasScreenStream()||b("RTWebClientFeatureGating").callUnification()||b("RTWebClientFeatureGating").answerCallWithThreeButtons()&&!this.props.isAudioCall};d.$2=function(){var a=this.state.tiles,b=a.map(function(a){return a.width});return a.map(function(a,c){var d=b.reduce(function(a,b,d){return b<=0||d<=c?a:a+b+l},0);return{key:a.type,style:{opacity:i(1,k),x:i(d,k)}}})};d.$4=function(a,b){this.setState(function(c){c=c.tiles;return{tiles:c.map(function(c){return c.type===a?o(a,b):c})}})};d.$5=function(a){var b=a.opacity;a=a.x;return{opacity:b,transform:"translateX(-"+a+"px)"}};d.$3=function(a){b("RTWebUserActionLogger").logClick({component:a?"self_view_minimize":"self_view_unminimize",surface:"call_container"})};d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:"self_view",surface:"call_container"})};d.componentDidUpdate=function(a,b){__p&&__p();if(b.tiles!==this.state.tiles){a=this.state.tiles.reduce(function(a,b,c){b=b.width;return b<=0?a:c>0?a+b+l:a+b},0);this.setState({width:a})}if(b.width!==this.state.width){a=this.props.onResize;a!=null&&a({height:0,width:this.state.width})}};return c}(b("React").PureComponent);a.defaultProps={hideCameraViewWhenScreenSharing:!1,isCollapsible:!0,isDominantSpeaker:!1};function n(a,b){__p&&__p();var c=a.user;b=b;var d=b.find(function(a){return a.type===m.CAMERA});c.hasStream()&&!(a.hideCameraViewWhenScreenSharing&&c.hasScreenStream())?d==null&&(b=[].concat(b,[o(m.CAMERA)])):d!=null&&(b=b.filter(function(a){return a.type!==m.CAMERA}));a=b.find(function(a){return a.type===m.SCREEN});c.hasScreenStream()?a==null&&(b=[o(m.SCREEN)].concat(b)):a&&(b=b.filter(function(a){return a.type!==m.SCREEN}));return b}function o(a,b){b===void 0&&(b=0);return{type:a,width:b}}function p(a){if(!b("FBRTCSupport").isVideoFilterEffectSupported()||a.hideCameraViewWhenScreenSharing&&a.user.hasScreenStream()||a.user.isVideoMuted())return!1;var c=b("RTCGroupCallEscalationStore").getState().readyToTransition;return a.isP2P?b("RTWebClientFeatureGating").canUseP2PVideoFilters():!c&&b("RTWebClientFeatureGating").canUseMWVideoFilters()}e.exports=a}),null);
__d("RTCDraggableSelfView.react",["React","Rect","RTCInCallFeaturesUtils","RTCSelfViewBase.react","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a=b("RTCInCallFeaturesUtils")).BOUNDING_BOX_MARGIN,h=a.Corners,i=a.SELF_VIEW_HEIGHT,j=a.SELF_VIEW_WIDTH,k=a.SETTINGS_HEIGHT;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={draggingEnabled:!1,snappedCorner:h.BOTTOM_RIGHT,isMouseDown:!1,offsetLeft:0,offsetTop:0,mouseInSelfViewX:0,mouseInSelfViewY:0,screenHeight:0,screenWidth:0,boundingBox:new(b("Rect"))(0,0,0,0)},d.$1=function(a){a.preventDefault();var b=a.clientX,c=a.clientY;d.setState(function(a){return{mouseInSelfViewX:a.offsetLeft-b,mouseInSelfViewY:a.offsetTop-c,isMouseDown:!0,snappedCorner:h.NO_CORNER}})},d.$4=function(){if(!d.state.isMouseDown)return;d.setState(function(a){return babelHelpers["extends"]({},b("RTCInCallFeaturesUtils").snapToCorner(a,a.screenWidth,a.screenHeight),{isMouseDown:!1})})},d.$5=function(a){if(!d.state.isMouseDown)return;var b=a.clientX,c=a.clientY;d.setState(function(a){return d.$2({offsetLeft:a.mouseInSelfViewX+b,offsetTop:a.mouseInSelfViewY+c},a.boundingBox)})},d.$6=function(){d.$3(),d.setState(function(a){return a.snappedCorner!==h.NO_CORNER?b("RTCInCallFeaturesUtils").getCornerPosition(a.screenWidth,a.screenHeight,a.snappedCorner):d.$2(a,a.boundingBox)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCSelfViewBase.react"),babelHelpers["extends"]({},this.props,{isCollapsible:!1,onMouseDown:this.$1,style:babelHelpers["extends"]({},this.props.style,{left:this.state.offsetLeft+"px",top:this.state.offsetTop+"px",position:"fixed"})}))};d.$2=function(a,c){var d=a.offsetLeft;a=a.offsetTop;a=new(b("Rect"))(a,d+j,a+i,d).boundWithin(c);return{offsetLeft:a.getLeft(),offsetTop:a.getTop()}};d.$3=function(){var a=b("getViewportDimensions").withoutScrollbars(),c=a.width;a=a.height;this.setState({screenWidth:c,screenHeight:a,boundingBox:new(b("Rect"))(g+k,c-g,a-g,g)})};d.$7=function(){var a=b("getViewportDimensions").withoutScrollbars(),c=a.width;a=a.height;this.setState({offsetLeft:c-j-g,offsetTop:a-i-g})};d.componentDidMount=function(){this.$7(),window.addEventListener("mousemove",this.$5),window.addEventListener("mouseup",this.$4),this.$3(),window.addEventListener("resize",this.$6)};d.componentDidUpdate=function(a,b){a=this.props.isDominantSpeaker!==!0||this.props.user.hasScreenStream();this.state.draggingEnabled&&a&&this.$7();this.setState({draggingEnabled:!a})};d.componentWillUnmount=function(){window.removeEventListener("mousemove",this.$5),window.removeEventListener("mouseup",this.$4),window.removeEventListener("resize",this.$6)};return c}(b("React").PureComponent);e.exports=c}),null);
__d("RTCSelfView.react",["React","RTCDraggableSelfView.react","RTCSelfViewBase.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("RTWebClientFeatureGating").draggableSelfView()?b("React").jsx(b("RTCDraggableSelfView.react"),babelHelpers["extends"]({},a)):b("React").jsx(b("RTCSelfViewBase.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("RTCMWAppViewFooter.react",["cx","Promise","CollabRTCChromeScreenSharingExtension","FBRTCConstants","FBRTCHangupReason","FBRTCParticipantCallState","FBRTCScreenSharingUtils","React","RTCAnonGuestPostCallMessengerUpsellFooter.react","RTCAppViewFooter.react","RTCCallControls.react","RTCCallControlsAddGroupMembersButton.react","RTCCallControlsCloseWindowButton.react","RTCCallControlsEndCallButton.react","RTCCallControlsParticipantsRosterButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCCallStore","RTCChromeScreenSharingUtils","RTCGroupCallRemoteView.react","RTCMWProtocolHandler","RTCSelfView.react","RTWebClientFeatureGating","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").GroupVideoViewLayout;a=b("React").PureComponent;var i=b("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=0,d.$2=0,d.$3=0,d.$5=0,d.$6=null,d.$9=function(){b("RTCMWProtocolHandler").endCall(d.props.conferenceName,b("RTCCallStore").getState().callInfo.serverInfoData,b("FBRTCHangupReason").HANGUP_CALL)},d.$7=function(a){a=a.width;if(d.$1===a)return;d.$1=a;d.$12()},d.$8=function(a){a=a.width;if(d.$3===a)return;d.$3=a;d.$12()},d.$10=function(a){a=a.width;if(d.$2===a)return;d.$2=a;d.$12()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props,d=c.hasVideoInput,e=c.isAudioCall,f=c.layout,g=c.localUser;c=c.isGuestFromLink;c=c===void 0?!1:c;switch(this.props.conferenceState){case"CONNECTING":case"CONNECTED":var j=g&&g.getScreenStream();f=f===h.DOMINANT_SPEAKER;f=(!e||b("RTWebClientFeatureGating").callUnification())&&f;var k=null;g.isGuestUser||c?k=b("React").jsx(b("RTCCallControlsParticipantsRosterButton.react"),{linkURL:this.props.linkURL}):k=b("React").jsx(b("RTCCallControlsAddGroupMembersButton.react"),{autoOpenParticipantsDialog:this.props.autoOpenParticipantsDialog,className:f?"addMember":"",conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,isP2P:!1,localUser:g,participants:this.props.participants,remoteUsers:this.props.remoteUsers,thread:this.props.thread});return b("React").jsxs(b("RTCAppViewFooter.react"),{onResize:this.$7,children:[b("React").jsxs(b("RTCCallControls.react"),{autoHide:!e,className:"_5rdt"+(f?" video":""),onResize:this.$8,ref:function(b){return a.$4=b?b.getDOMNode():b},children:[g.hasLiveVideoTracks()?b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.props.conferenceState,disabled:!!j,initializeVideo:!0,isP2P:!1,videoMuted:g.isVideoMuted()}):b("React").jsx(b("RTCCallControlsVideoEscalationButton.react"),{disabled:!d,onClick:function(){return b("RTCMWProtocolHandler").escalateLocalStream()}}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:g.isAudioMuted()}),b("FBRTCScreenSharingUtils").isGroupCallScreenSharingSupported()?b("React").jsx(b("RTCCallControlsToggleScreenSharingWithFunnelButton.react"),{conferenceState:this.props.conferenceState,disabled:!g.hasScreenStream()&&(e||g.isVideoMuted()),isP2P:!1,onExtensionInstallStart:function(){return b("UserAgent").isBrowser("Chrome")?b("CollabRTCChromeScreenSharingExtension").install(i()):b("Promise").reject("unexpected browser")},onShareStarted:b("RTCMWProtocolHandler").startScreenStream,onShareStop:b("RTCMWProtocolHandler").stopScreenStream,onShareStreamUpdate:b("RTCMWProtocolHandler").updateScreenStream,stream:j}):null,f&&!c?null:k,b("React").jsx(b("RTCCallControlsEndCallButton.react"),{onClick:this.$9,showNux:this.props.conferenceState==="CONNECTED"&&g.isGuestUser})]}),f&&!c?k:null,f?b("React").jsx(b("RTCGroupCallRemoteView.react"),{remoteUsers:this.props.remoteUsers.filter(function(a){a=a.participantState;return a&&a.state===b("FBRTCParticipantCallState").CONNECTED})}):null,b("React").jsx(b("RTCSelfView.react"),{className:"_3kqh"+(f?" video":""),hideCameraViewWhenScreenSharing:!0,isAudioCall:e,isDominantSpeaker:f,isP2P:!1,onResize:this.$10,onScreenSharingStop:b("RTCMWProtocolHandler").stopScreenStream,user:g})]});case"TERMINATING":return b("React").jsx(b("RTCAppViewFooter.react"),{onResize:this.$7,children:b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_5rdt",onResize:this.$8,ref:function(b){return a.$4=b?b.getDOMNode():b},children:[b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.props.conferenceState,disabled:!0,initializeVideo:!0,isP2P:!1,videoMuted:!0}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:!0,disabled:!0}),b("React").jsx(b("RTCCallControlsEndCallButton.react"),{disabled:!0})]})});case"TERMINATED":return b("React").jsx(b("RTCAppViewFooter.react"),{onResize:this.$7,children:g.isGuestUser?b("React").jsx(b("RTCAnonGuestPostCallMessengerUpsellFooter.react"),{}):b("React").jsx(b("RTCCallControls.react"),{autoHide:!1,className:"_5rdt",onResize:this.$8,ref:function(b){return a.$4=b?b.getDOMNode():b},children:this.$11()?null:b("React").jsx(b("RTCCallControlsCloseWindowButton.react"),{})})});default:return b("React").jsx(b("RTCAppViewFooter.react"),{})}};d.$12=function(){__p&&__p();var a=this;if(this.$1===0||this.$3===0)return;var b=Math.min(0,this.$1/2-(this.$3/2+this.$2));if(b===this.$5)return;this.$5=b;if(this.$4){var c=this.$4.style;c.transition="none";this.$6=window.requestAnimationFrame(function(){c.transform="translateX("+a.$5+"px)",c.transition=""})}};d.$11=function(){return!window.opener};d.componentWillUnmount=function(){window.cancelAnimationFrame(this.$6)};return c}(a);e.exports=c}),null);
__d("RTCLogo.react",["cx","ix","CurrentUser","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={messenger:{color:h("28187"),mono:h("28188")},workplace:{color:h("28198"),mono:h("28199")}};a=function(a){var c=a.className,d=a.mode;d=d===void 0?"color":d;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","mode"]);var e=j();return b("React").jsx(b("Image.react"),babelHelpers["extends"]({alt:"",className:b("joinClasses")(c,"_4ytt"),src:i[e][d]},a))};function j(){return b("CurrentUser").isWorkUser()?"workplace":"messenger"}e.exports=a}),null);
__d("RTCAppViewHeader.react",["cx","CurrentUser","React","RTCLogo.react","RTWebClientFeatureGating","gkx","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.children,d=a.className;a.isAudioCall;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","isAudioCall"]);var e=b("CurrentUser").isWorkUser();e=e&&!b("RTWebClientFeatureGating").isChatEnabled()?b("React").jsx(b("RTCLogo.react"),{className:"_4key",mode:"mono"}):null;return b("React").jsxs("header",babelHelpers["extends"]({className:b("joinClasses")("_4keu"+(b("gkx")("1226120")?" smallHeader":""),d),"data-testid":"headerView"},a,{children:[e,c]}))};e.exports=a}),null);
__d("RTCChatPanelIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 50 50",children:b("React").jsx("path",{d:"M24.999,35.9861483 C23.837,35.9861483 22.73,35.8825981 21.6915,35.6289751 C20.828,35.4183729 19.9265,35.4398834 19.0845,35.7270226 L15.083,36.9551183 C14.4385,37.175225 13.813,36.5489213 14.0315,35.8795966 L14.826,33.2498212 C15.1235,32.3378789 15.008,31.3373937 14.5085,30.5224984 C13.4515,28.7971616 13.0005,26.7361621 13,24.4545555 C13.001,17.7953257 18.0255,13 24.999,13 C31.973,13 36.9975,17.7953257 36.9985,24.4525545 C36.9975,31.1122845 31.973,35.9861483 24.999,35.9861483 Z",id:"path-1"})})}))};e.exports=a}),null);
__d("RTCCallControlsChatButton.react",["cx","fbt","FluxContainer","React","RTCCallControlsButton.react","RTCChatPanelIcon.react","RTCCoExperienceActions","RTCCoExperienceStore","RTWebClientFeatureGating","RTWebUserActionLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:"toggle_chat",conferenceState:this.props.conferenceState,surface:"call_controls"})};d.render=function(){var a=this;return b("React").jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")("transparent icon-50 _3n07",this.props.className),"data-testid":"toggleChatButton",onClick:function(){return a.$1()},title:h._("Open Chat"),children:b("React").jsx(b("RTCChatPanelIcon.react"),{})})};d.$1=function(){b("RTWebUserActionLogger").logClick({callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:"toggle_chat",conferenceState:this.props.conferenceState,surface:"call_controls"}),b("RTCCoExperienceActions").toggleChatWindow()};return a}(b("React").PureComponent);a=b("FluxContainer").createFunctional(function(a){var c=a.isP2P?b("RTWebClientFeatureGating").isChatEnabled():b("RTWebClientFeatureGating").isGroupChatEnabled();return c&&!a.chatWindowVisible?b("React").jsx(i,{conferenceState:a.conferenceState,isP2P:a.isP2P}):null},function(){return[b("RTCCoExperienceStore")]},function(a,c,d){return babelHelpers["extends"]({},c,{chatWindowVisible:b("RTCCoExperienceStore").getState().chatWindowVisible})},{withProps:!0});e.exports=a}),null);
__d("RTCUIDominantSpeakerLayoutIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1="",c.$2=function(a){a&&(c.$1=a.getURL(),c.forceUpdate())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["shadow"]);if(c){return(c=b("React")).jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:c.jsxs("svg",{viewBox:"0 0 50 50",children:[c.jsx("defs",{children:c.jsx(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})}),c.jsx("g",{filter:this.$1,children:c.jsx(g,{})})]})}))}return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 50 50",children:b("React").jsx(g,{})})}))};return c}(b("React").PureComponent);a.defaultProps={shadow:!1};var g=function(){return b("React").jsx("path",{d:"M16.5 14.5h17a2 2 0 0 1 2 2v17a2 2 0 0 1-2 2h-17a2 2 0 0 1-2-2v-17a2 2 0 0 1 2-2zm0 2h17v11h-17zm0 13h4v4h-4zm6.5 0h4v4h-4zm6.5 0h4v4h-4z",fillRule:"evenodd"})};e.exports=a}),null);
__d("RTCCallControlsDominantSpeakerSwitchButton.react",["cx","fbt","FBRTCConstants","React","RTCCallControlsButton.react","RTCGroupCallActions","RTCUIDominantSpeakerLayoutIcon.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBRTCConstants").GroupVideoViewLayout;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCCallControlsButton.react"),{className:"transparent icon-50","data-testid":"dominantSpeakerSwitchButton",onClick:this.$1,title:h._("Switch to Primary Speaker View"),children:b("React").jsx(b("RTCUIDominantSpeakerLayoutIcon.react"),{shadow:!0})})};d.$1=function(){b("RTCGroupCallActions").setLayout(i.DOMINANT_SPEAKER)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCUIGridLayoutIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1="",c.$2=function(a){a&&(c.$1=a.getURL(),c.forceUpdate())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["shadow"]);if(c){return(c=b("React")).jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:c.jsxs("svg",{viewBox:"0 0 50 50",children:[c.jsx("defs",{children:c.jsx(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})}),c.jsx("g",{filter:this.$1,children:c.jsx(g,{})})]})}))}return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 50 50",children:b("React").jsx(g,{})})}))};return c}(b("React").PureComponent);a.defaultProps={shadow:!1};var g=function(){return b("React").jsx("path",{d:"M16.5 14.5h17a2 2 0 0 1 2 2v17a2 2 0 0 1-2 2h-17a2 2 0 0 1-2-2v-17a2 2 0 0 1 2-2zm0 2H24V24h-7.5zm9.5 0h7.5V24H26zM16.5 26H24v7.5h-7.5zm9.5 0h7.5v7.5H26z",fillRule:"evenodd"})};e.exports=a}),null);
__d("RTCCallControlsGridSwitchButton.react",["cx","fbt","FBRTCConstants","React","RTCCallControlsButton.react","RTCGroupCallActions","RTCUIGridLayoutIcon.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBRTCConstants").GroupVideoViewLayout;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCCallControlsButton.react"),{className:"transparent icon-50","data-testid":"gridSwitchButton",onClick:this.$1,title:h._("Switch to Grid View"),children:b("React").jsx(b("RTCUIGridLayoutIcon.react"),{shadow:!0})})};d.$1=function(){b("RTCGroupCallActions").setLayout(i.GRID)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCUIFullscreenIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1="",c.$2=function(a){a&&(c.$1=a.getURL(),c.forceUpdate())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.direction,d=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["direction","shadow"]);if(d){return(d=b("React")).jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:d.jsxs("svg",{viewBox:"0 0 50 50",children:[d.jsx("defs",{children:d.jsx(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})}),d.jsx("g",{filter:this.$1,children:d.jsx(g,{direction:c})})]})}))}return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 50 50",children:b("React").jsx(g,{direction:c})})}))};return c}(b("React").PureComponent);a.defaultProps={shadow:!1};var g=function(a){a=a.direction;return a==="in"?b("React").jsx("path",{d:"M25.8 24.2c.2.2.4.3.7.3h6c.5 0 1-.4 1-1s-.4-1-1-1h-3.6l4.8-4.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0l-4.8 4.8v-3.6c0-.5-.4-1-1-1s-1 .4-1 1v6c0 .3.1.5.3.7zM24.2 25.8c.2.2.3.5.3.8v6c0 .6-.4 1-1 1s-1-.5-1-1V29l-4.8 4.7c-.4.4-1 .4-1.4 0s-.4-1 0-1.4l4.8-4.8h-3.6c-.6 0-1-.4-1-1s.5-1 1-1h6c.3 0 .5.1.7.3z"}):b("React").jsx("path",{d:"M33.7 16.3c-.2-.2-.4-.3-.7-.3h-6c-.5 0-1 .4-1 1s.4 1 1 1h3.6l-4.8 4.8c-.4.4-.4 1 0 1.4s1 .4 1.4 0l4.8-4.8V23c0 .5.4 1 1 1s1-.4 1-1v-6c0-.3-.1-.5-.3-.7zM16.3 33.7c-.2-.2-.3-.4-.3-.7v-6c0-.5.4-1 1-1s1 .4 1 1v3.6l4.8-4.8c.4-.4 1-.4 1.4 0s.4 1 0 1.4L19.5 32h3.6c.5 0 1 .4 1 1s-.4 1-1 1h-6c-.3 0-.6-.1-.8-.3z"})};e.exports=a}),null);
__d("RTCUIM4FullscreenIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{height:"36px",viewBox:"0 0 36 36",width:"36px",children:b("React").jsx("g",{transform:"translate(9, 9)",children:a.direction==="out"?b("React").jsx("path",{d:"M5.06543333,13.2112667 L6.47943333,14.6249333 C6.85576667,15.0012667 6.6601,15.6452667 6.1381,15.7499333 L1.46443333,16.6532667 C0.9981,16.7466 0.586766667,16.3359333 0.680433333,15.8696 L1.5841,11.1976 C1.68876667,10.6756 2.33343333,10.4802667 2.70976667,10.8566 L4.1231,12.2696 L6.86576667,9.52526667 C7.1261,9.26526667 7.54776667,9.26526667 7.8081,9.52526667 C8.0681,9.7856 8.0681,10.2069333 7.8081,10.4672667 L5.06543333,13.2112667 Z M16.6533013,1.46393333 L15.7500361,6.1356 C15.6452614,6.65793333 15.0012637,6.85326667 14.6248754,6.47693333 L13.211751,5.06393333 L10.4699225,7.80793333 C10.2099877,8.06793333 9.78821926,8.06793333 9.52828444,7.80793333 C9.26834963,7.54793333 9.26834963,7.12626667 9.52828444,6.86626667 L12.2701129,4.12193333 L10.8566548,2.70826667 C10.4802665,2.33193333 10.6758016,1.68826667 11.1976732,1.58326667 L15.869159,0.679933333 C16.3359739,0.586266667 16.746731,0.997266667 16.6533013,1.46393333 Z"}):b("React").jsx("path",{d:"M7.08336945,14.8000994 C6.9785947,15.3218852 6.33459702,15.5171384 5.95820874,15.1409595 L4.54541798,13.7285391 L1.80358951,16.4717467 C1.54332102,16.73164 1.12188627,16.73164 0.861617778,16.4717467 C0.601682963,16.2115201 0.601682963,15.7903596 0.861617778,15.5301331 L3.60344624,12.7872587 L2.18998812,11.374172 C1.81359984,10.997993 2.00913489,10.3542572 2.53100658,10.2496335 L7.20249234,9.34667072 C7.66930724,9.25337567 8.08006431,9.66387387 7.98663459,10.1300159 L7.08336945,14.8000994 Z M16.4717376,1.80320271 L13.730068,4.54590401 L15.1438872,5.95929607 C15.5197505,6.3353331 15.3244882,6.97896702 14.8023447,7.08373687 L10.1307105,7.98662613 C9.66421346,8.08005148 9.25336289,7.66964727 9.34666229,7.20318785 L10.2500004,2.53325508 C10.354629,2.01140778 10.9990613,1.81621553 11.3752578,2.19225256 L12.7880773,3.60464363 L15.53008,0.861608666 C15.7899855,0.601686 16.2118321,0.601686 16.4717376,0.861608666 C16.731643,1.12186499 16.731643,1.54294639 16.4717376,1.80320271 Z"})})})}))}e.exports=a}),null);
__d("RTCCallControlsToggleFullScreenButton.react",["cx","fbt","FBRTCVersionDetection","React","RTCCallControlsButton.react","RTCHotKeys","RTCHotKeysConfig","RTCUIFullscreenIcon.react","RTCUIM4FullscreenIcon.react","RTCUtils","RTWebUserActionLogger","debounce","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RTCHotKeysConfig").RTCHotKey,j=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={highlighted:!1},d.$3=function(a){d.setState({highlighted:!0}),d.$1=window.setTimeout(function(){return d.setState({highlighted:!1})},100),b("RTWebUserActionLogger").logClick({component:b("RTCUtils").isFullScreen()?"fullscreen_disable":"fullscreen_enable",surface:"call_container"}),b("RTCUtils").toggleFullScreen()},d.$5=b("debounce")(function(){return d.forceUpdate()},10),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("RTCUtils").isFullScreen()||this.state.highlighted,c=this.props.isAudioOnly,d=this.props.className;this.props.isM4!==!0&&(d=b("joinClasses")("transparent icon-50",d));d;return b("React").jsx(b("RTCCallControlsButton.react"),{className:d,"data-testid":"fullScreenButton",onClick:this.$3,shouldThrottle:this.$4(),title:a?h._("Exit Full Screen"):h._("Enter Full Screen"),children:this.props.isM4===!0?b("React").jsx(b("RTCUIM4FullscreenIcon.react"),{direction:a?"in":"out"}):b("React").jsx(b("RTCUIFullscreenIcon.react"),{direction:a?"in":"out",shadow:!c})})};d.$4=function(){return!b("FBRTCVersionDetection").isFirefox()};c.getDocument=function(){return document};d.componentDidMount=function(){for(var a=0;a<j.length;a++){var d=j[a];c.getDocument().addEventListener(d,this.$5)}b("RTWebUserActionLogger").logImpression({component:"fullscreen",surface:"call_container"});this.$2=b("RTCHotKeys").register(i.FULL_SCREEN,this.$3)};d.componentWillUnmount=function(){window.clearTimeout(this.$1);for(var a=0;a<j.length;a++){var b=j[a];c.getDocument().removeEventListener(b,this.$5)}this.$2&&this.$2.remove()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCUIVideoChatLinkIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1="",c.$2=function(a){a&&(c.$1=a.getURL(),c.forceUpdate())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["shadow"]);if(c){return(c=b("React")).jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:c.jsxs("svg",{viewBox:"0 0 50 50",children:[c.jsx("defs",{children:c.jsx(b("RTCSVGIconDropShadowFilter.react"),{height:20,ref:this.$2,width:20})}),c.jsx("g",{filter:this.$1,children:c.jsx(g,{})})]})}))}return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 50 50",children:b("React").jsx(g,{})})}))};return c}(b("React").PureComponent);a.defaultProps={shadow:!1};var g=function(){return b("React").jsx("path",{d:"M18.1441167,16.5110556 C17.2205056,17.4315556 15.9888944,17.8888889 14.7767278,17.8888889 C14.0440611,17.8888889 12.0568389,17.6621667 12.0568389,16.3737778 C12.0568389,15.7068333 12.6036167,15.1938889 13.2332278,15.1938889 C13.7663944,15.1938889 13.8993944,15.5555556 14.7767278,15.5555556 C15.3892278,15.5555556 16.0211722,15.3257222 16.48745,14.8606111 C16.9541167,14.3958889 19.8151722,11.5445556 20.2837833,11.0778889 C20.7520056,10.6112222 20.99895,9.94427778 20.99895,9.33333333 C20.99895,7.97455556 19.9485611,7 18.6656167,7 C18.0523389,7 17.3581722,7.22983333 16.8938389,7.70038889 C16.5376167,8.06088889 16.2167833,8.40194444 16.0087278,8.60961111 C15.8006722,8.81688889 15.5202833,8.94133333 15.2006167,8.94133333 C14.4846722,8.94133333 14.0016722,8.40583333 14.0016722,7.784 C14.0016722,7.49427778 14.1097833,7.20066667 14.3423389,6.96888889 C14.5741167,6.7375 14.8475056,6.44 15.2371722,6.04994444 C16.1596167,5.12477778 17.4526722,4.66666667 18.6656167,4.66666667 C21.19845,4.66666667 23.3322833,6.64183333 23.3322833,9.33333333 C23.3322833,10.542 22.8660056,11.8062778 21.94045,12.7283333 C21.0148944,13.6511667 19.0677278,15.5909444 18.1441167,16.5110556 Z M9.85592222,11.4889444 C10.7795333,10.5684444 12.0111444,10.1111111 13.2233111,10.1111111 C13.9559778,10.1111111 15.9432,10.3378333 15.9432,11.6262222 C15.9432,12.2931667 15.3964222,12.8061111 14.7668111,12.8061111 C14.2336444,12.8061111 14.1006444,12.4444444 13.2233111,12.4444444 C12.6112,12.4444444 11.9792556,12.6742778 11.5125889,13.1393889 C11.0459222,13.6041111 8.18486667,16.4554444 7.71625556,16.9221111 C7.24803333,17.3887778 7.00108889,18.0557222 7.00108889,18.6666667 C7.00108889,20.0254444 8.05147778,21 9.33442222,21 C9.9477,21 10.6418667,20.7701667 11.1065889,20.2996111 C11.4624222,19.9391111 11.7832556,19.5980556 11.9913111,19.3903889 C12.1993667,19.1831111 12.4797556,19.0590556 12.7994222,19.0590556 C13.5153667,19.0590556 13.9983667,19.5941667 13.9983667,20.216 C13.9983667,20.5057222 13.8902556,20.7993333 13.6577,21.0311111 C13.4259222,21.2625 13.1525333,21.56 12.7628667,21.9500556 C11.8404222,22.8752222 10.5473667,23.3333333 9.33442222,23.3333333 C6.80158889,23.3333333 4.66775556,21.3581667 4.66775556,18.6666667 C4.66775556,17.458 5.13403333,16.1937222 6.05958889,15.2716667 C6.98514444,14.3488333 8.93231111,12.4090556 9.85592222,11.4889444 Z",id:"path-1",transform:"translate(11.0, 11.0)"})};e.exports=a}),null);
__d("RTCCallControlsVideoChatLinkButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCGroupCallDialogController","RTCUIVideoChatLinkIcon.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCCallControlsButton.react"),{className:"transparent icon-50","data-testid":"createVideoChatLinkButton",onClick:this.$1,title:h._("Create Invitation Link"),children:b("React").jsx(b("RTCUIVideoChatLinkIcon.react"),{shadow:!0})})};d.$1=function(){b("RTCGroupCallDialogController").showVideoChatLinkDialog()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCMWAppViewHeader.react",["FBRTCConstants","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsChatButton.react","RTCCallControlsDominantSpeakerSwitchButton.react","RTCCallControlsGridSwitchButton.react","RTCCallControlsToggleFullScreenButton.react","RTCCallControlsVideoChatLinkButton.react","RTWebClientFeatureGating"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").GroupVideoViewLayout;a=function(a){var c=a.conferenceState,d=a.hideLayoutSwitchButton,e=a.isAudioCall,f=a.layout;a=a.showChatButton;switch(c){case"CONNECTED":var h=!e||b("RTWebClientFeatureGating").callUnification();a=a?b("React").jsx(b("RTCCallControlsChatButton.react"),{conferenceState:c,isP2P:!1}):null;return b("React").jsx(b("RTCAppViewHeader.react"),{isAudioCall:e,children:b("React").jsxs(b("RTCCallControls.react"),{autoHide:h,compact:!0,children:[h&&b("RTWebClientFeatureGating").shouldShowCreateVCLButton()?b("React").jsx(b("RTCCallControlsVideoChatLinkButton.react"),{}):null,h&&!d&&f!==g.DOMINANT_SPEAKER?b("React").jsx(b("RTCCallControlsDominantSpeakerSwitchButton.react"),{}):null,h&&!d&&f!==g.GRID?b("React").jsx(b("RTCCallControlsGridSwitchButton.react"),{}):null,b("React").jsx(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:e}),a]})});default:return b("React").jsx(b("RTCAppViewHeader.react"),{isAudioCall:e,children:b("React").jsx(b("RTCCallControls.react"),{autoHide:!e,compact:!0,children:b("React").jsx(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:e})})})}};e.exports=a}),null);
__d("RTCPeerConnectionStats.react",["FBRTCLogger","React","RTCConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={stats:[]},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(!b("RTCConfig").PeerConnectionStatsGK)return null;if(this.state.stats.length<1)return null;var a={background:"white",bottom:0,color:"black",fontSize:10,left:0,margin:0,opacity:.7,padding:"1em",position:"absolute",textAlign:"left",zIndex:9};return b("React").jsx("pre",{style:babelHelpers["extends"]({},a,this.props.style),children:[this.$2("in"),this.$2("out")].filter(Boolean).join("\n")})};d.$2=function(a){__p&&__p();var b=this.state.stats.filter(function(b){return b.direction===a}).map(function(b){__p&&__p();b.id;var c=b.type,d=b.packetsLost,e=b.resolution,f=b.frameRate;b=babelHelpers.objectWithoutPropertiesLoose(b,["id","type","packetsLost","resolution","frameRate"]);if(a==="in"){var g=b.bytesReceived,h=b.packetsReceived,i=d/(h+d)||0;g=["b:  "+g,"p:  "+d+" / "+h,"l:  "+i.toFixed(4).replace(/\.?0+$/,"")+"%"]}else{h=b.bytesSent;i=b.packetsSent;b=d/(i+d)||0;g=["b:  "+h,"p:  "+d+" / "+i,"l:  "+b.toFixed(4).replace(/\.?0+$/,"")+"%"]}f&&g.unshift("fr: "+f);e&&g.unshift("r:  "+e);return c+" "+a+":\n  "+g.join("\n  ")}).join("\n");return!b.length?"":b};d.componentDidMount=function(){__p&&__p();var a=this;if(!b("RTCConfig").PeerConnectionStatsGK)return;this.$1=window.setInterval(function(){__p&&__p();var c=a.props.connection;if(!c||c.getIceConnectionState()==="closed"||c.getIceConnectionState()==="disconnected")return;c.getStats().then(function(a){__p&&__p();var b=[];for(var a=a.values(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.type==="ssrc"){var f={id:e.id,packetsLost:e.packetsLost||0,type:e.mediaType};if(e.mediaType==="video"){var g=e.googBandwidthLimitedResolution?" (BW limited)":"";if("googFrameWidthSent"in e){var h=e.googFrameWidthSent,i=e.googFrameHeightSent;f.resolution=h+"x"+i+g}else if("googFrameWidthReceived"in e){h=e.googFrameWidthReceived;i=e.googFrameHeightReceived;f.resolution=h+"x"+i+g}if("googFrameRateInput"in e){h=e.googFrameRateInput;i=e.googFrameRateSent;f.frameRate=h+" -> "+i}else if("googFrameRateOutput"in e){g=e.googFrameRateOutput;h=e.googFrameRateReceived;f.frameRate=g+" -> "+h}}"bytesSent"in e?(f.bytesSent=e.bytesSent,f.packetsSent=e.packetsSent,f.direction="out"):(f.bytesReceived=e.bytesReceived,f.packetsReceived=e.packetsReceived,f.direction="in");b.push(f)}}return b}).then(function(b){return a.setState({stats:b})})["catch"](function(a){b("FBRTCLogger").getInstance().logToConsole(JSON.stringify(a))})},1e3)};d.componentWillUnmount=function(){window.clearInterval(this.$1)};return c}(a);e.exports=c}),null);
__d("FBRTCMobileBrowserAppViewContent.react",["cx","FacepileRounded.react","FBRTCEnterRoomLinkButton.react","FBRTCGroupCallStore","FBRTCMobileBrowserInCallView.react","MessengerChatLinksFunnelLogger","React","RTCAppViewMain.react","RTCRingBackTone.react","RTCStarRating.react","RTWebRTCUserUtils","RTWebStrings","emptyFunction","gkx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=64;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isRejoining:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props,d=c.conferenceState,e=c.isP2P,f=c.layout,g=c.localUser,j=c.participants,k=c.rejoinCall;c=c.remoteUsers;switch(d){case"NEW":case"CONNECTING":case"CONNECTED":case"TERMINATING":c=e?b("RTWebRTCUserUtils").getRemoteUsers(c):b("RTWebRTCUserUtils").combineLocalAndRemoteUsers(g,b("RTWebRTCUserUtils").getAllConnectedUsers(c));return b("React").jsxs(b("RTCAppViewMain.react"),{fullBleed:!0,children:[b("React").jsx(b("FBRTCMobileBrowserInCallView.react"),{conferenceState:d,isP2P:e,layout:f,localUser:g,rtcUsers:c}),d==="CONNECTING"&&e?b("React").jsx(b("RTCRingBackTone.react"),{active:!0}):null]});case"TERMINATED":if(!e)return j==null||k==null?null:b("React").jsx(b("RTCAppViewMain.react"),{className:"_6qx6",fullBleed:!0,children:b("React").jsxs("div",{className:"_70y3",children:[b("React").jsx(b("FacepileRounded.react"),{direction:"descending",imageSize:h,numProfilesToDisplay:2,profiles:i(j)}),b("React").jsx("p",{className:"_73-l",children:b("RTWebStrings").chatLinksLeftVideoChat}),b("React").jsx(b("RTCStarRating.react"),{isAudioCall:!b("FBRTCGroupCallStore").hadVideoDuration(),isGroupCall:!0,onDone:b("emptyFunction")}),b("gkx")("825725")?b("React").jsx(b("FBRTCEnterRoomLinkButton.react"),{isLoading:this.state.isRejoining,isRejoin:!0,onClick:function(){b("MessengerChatLinksFunnelLogger").appendAction("click_rejoin_call"),a.setState({isRejoining:!0}),k(function(){a.setState({isRejoining:!1})})}}):null]})});else return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!0});case"AWAITING_USER_START":return null;default:return null}};return c}(b("React").PureComponent);function i(a,b){b===void 0&&(b=h);a=a.map(function(a){return{image_src:a.image_src,glyph_size:b,name:a.short_name}});return a.toArray()}e.exports=a}),null);
__d("RTCUIXIconM4.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.isDarkMode;c=c===void 0?!1:c;a=babelHelpers.objectWithoutPropertiesLoose(a,["isDarkMode"]);return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{height:"28",width:"28",children:b("React").jsxs("g",{fillRule:"evenodd",children:[b("React").jsx("circle",{cx:"14",cy:"14",fillOpacity:c?".2":".04",r:"14"}),b("React").jsx("path",{d:"M14 12.350084l3.299832-3.299831c.455611-.455612 1.194304-.455612 1.649915 0 .455612.455611.455612 1.194304 0 1.649915L15.649916 14l3.299831 3.299832c.455612.455611.455612 1.194304 0 1.649915-.455611.455612-1.194304.455612-1.649915 0L14 15.649916l-3.299832 3.299831c-.455611.455612-1.194304.455612-1.649915 0-.455612-.455611-.455612-1.194304 0-1.649915L12.350084 14l-3.299831-3.299832c-.455612-.455611-.455612-1.194304 0-1.649915.455611-.455612 1.194304-.455612 1.649915 0L14 12.350084z"})]})})}))};e.exports=a}),null);
__d("RTCM4CloseButton.react",["cx","React","RTCCallControlsButton.react","RTCUIXIconM4.react"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.isDarkMode;c=c===void 0?!1:c;a=babelHelpers.objectWithoutPropertiesLoose(a,["isDarkMode"]);return b("React").jsx("div",{className:a.className,children:b("React").jsx(b("RTCCallControlsButton.react"),{className:(c?"closeM4Dark":"")+(c?"":" closeM4Light")+" _4uwq",highlighted:!1,onClick:a.onClick,shouldThrottle:!1,title:a.title,children:b("React").jsx(b("RTCUIXIconM4.react"),{isDarkMode:c})})})};e.exports=a}),null);
__d("RTCMobileFlyout.react",["cx","invariant","AbstractDialog.react","AccessibleLayer","CSS","React","ReactLayer","SubscriptionsHandler","UserAgent","debounce","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.$4=function(){var a=c.$1.getContentRoot();a!=null||h(0,70);return!0};this.$5=function(){b("requestAnimationFrame")(function(){var a=c.$1.getContentRoot();a!=null||h(0,70);a.addEventListener("transitionend",function(){c.$1.finishHide()});b("CSS").addClass(a,"_71p8")});return!1};this.$1=a;this.$3=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.enable=function(){this.$2=[this.$1.subscribe("show",this.$4),this.$1.subscribe("starthide",this.$5)]};c.disable=function(){this.$2&&(this.$2.forEach(function(a){a.unsubscribe()}),this.$2=null),this.$3.release()};return a}();var i=b("ReactLayer").createClass(b("AbstractDialog.react").createSpec({displayName:"RTCMobileFlyoutLayer",addedBehaviors:{AccessibleLayer:b("AccessibleLayer"),SlideInFromBottom:a},fixedTopPosition:0}));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={width:window.innerWidth};d.$1=b("debounce")(function(){d.setState({width:window.innerWidth});var a=window.innerHeight*.01,b=document.documentElement;b!=null&&b.style.setProperty("--vh",a+"px")},150);c=window.innerHeight*.01;var e=document.documentElement;e!=null&&e.style.setProperty("--vh",c+"px");window.addEventListener("resize",d.$1);return d}var d=c.prototype;d.componentWillUnmount=function(){window.removeEventListener("resize",this.$1)};d.render=function(){var a=b("UserAgent").isPlatform("iOS");return b("React").jsx(i,{className:"_71p9 _72pp"+(a?"":" _85xn")+(a?" _85xo":""),onToggle:this.props.onToggle,shown:!0,width:this.state.width,children:this.props.children},"dialog")};return c}(b("React").PureComponent);e.exports=c}),null);
__d("RTCMobileFlyoutBody.react",["React","joinClasses"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").jsx("section",{className:b("joinClasses")(a.className),children:a.children})}e.exports=a}),null);
__d("RTCMobileFlyoutHeader.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").jsx("header",{className:b("joinClasses")(a.className,"_71p7"),children:a.children})}e.exports=a}),null);
__d("RTCMobileGroupCallRosterRow.react",["ix","cssVar","cx","fbt","regeneratorRuntime","ClickableArea.react","FDSButton.react","Image.react","MessengerContactImage.react","React","RTCGroupCallDialogController","RTCUtils","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=parseInt("36px",10);a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:case"end":return a.stop()}},null,this)};d.render=function(){var a,c=this.props,d=c.checked,e=c.isLocalUser,f=c.isLocalUserThreadMember,h=c.isParticipantGuest,i=c.onClick,l=c.participant;c=c.subtitle;a=(a=b("React")).jsxs("div",{className:"_71p4",role:"group",children:[a.jsx(b("MessengerContactImage.react"),{className:"_71p5",isMessengerUser:l.is_messenger_user,isPartiesUser:l.is_parties_user,size:k,src:l.image_src}),a.jsxs("div",{className:"_71jj",children:[a.jsxs("div",{className:"_71jk",children:[a.jsx("div",{className:"_71jl",children:e===!0?j._("You"):l.name}),c!=null?b("React").jsx("div",{className:"_71jm",children:c}):null]}),d===!0?b("React").jsx(b("Image.react"),{className:"_73kp",src:g("505224")}):null,f===!0&&h===!0?b("React").jsx(b("FDSButton.react"),{icon:b("React").jsx(b("Image.react"),{src:g("480719")}),label:"",labelIsHidden:!0,margin:"_3-8x",onClick:function(){return b("RTCGroupCallDialogController").showRemoveGuestDialog(b("RTCUtils").payloadParticipantsToRTCUsers([l])[0])},size:"small",use:"flat"}):null]})]});if(i)return b("React").jsx(b("ClickableArea.react"),{onClick:i,children:a});else return a};return c}(b("React").Component);e.exports=a}),null);
__d("RTCMobileGroupCallRosterBody.react",["fbt","regeneratorRuntime","FBRTCConstants","FBRTCGroupCallStore","FBRTCGuestUtils","FluxContainer","MercuryIDs","MessengerCollisionContextQuery","MessengerState.bs","React","RTCCallStore","RTCGroupCallActions","RTCMobileGroupCallRosterRow.react","RTCMobileRosterSorter","RTWebUserActionLogger","emptyFunction","immutable","memoizeWithArgs","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").GroupVideoViewLayout;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=b("immutable").Map(),d.$3=b("memoizeWithArgs")(function(a){return function(){b("RTWebUserActionLogger").logClick({component:"mweb_roster_row",surface:"mweb_roster_view"}),b("RTCGroupCallActions").setPinnedSpeaker(d.state.pinnedSpeakerFBID===a?null:a)}},b("emptyFunction").thatReturnsArgument,"_bindOnRowClick"),c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("FBRTCGroupCallStore"),b("RTCCallStore")]};var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this,c,d,e,f,g,h,i,j,k,l;return b("regeneratorRuntime").async(function(m){__p&&__p();while(1)switch(m.prev=m.next){case 0:b("RTWebUserActionLogger").logImpression({surface:"mweb_roster_view"});c=b("FBRTCGroupCallStore").getState(),d=c.thread;if(!(d!=null)){m.next=6;break}this.$2(d);m.next=18;break;case 6:e=b("RTCCallStore").getState(),f=e.callInfo.conferenceName,g=e.localUser;if(!(f!=null)){m.next=18;break}m.next=10;return b("regeneratorRuntime").awrap(b("MessengerCollisionContextQuery")(f));case 10:h=m.sent;i=h.groupThreadID;j=h.peerID;k=j!=null?j:i;if(!(k==null)){m.next=16;break}return m.abrupt("return");case 16:l=k!=null?b("MercuryIDs").getThreadIDFromUserID(k):b("MercuryIDs").getThreadIDFromThreadFBID(k),b("MessengerState.bs").getThreadMeta(g.FBID,l,function(c){a.$2(c),b("RTCGroupCallActions").initThread(c,null)});case 18:case"end":return m.stop()}},null,this)};d.componentDidUpdate=function(a,c){a=b("FBRTCGroupCallStore").getState();c=a.thread;c!=null&&this.$2(c)};c.calculateState=function(){var a=b("FBRTCGroupCallStore").getState(),c=a.layout,d=a.participants,e=a.pinnedSpeakerFBID;a=a.thread;var f=b("RTCCallStore").getState(),g=f.localUser;f=f.remoteUsers;return{isLocalUserThreadMember:b("FBRTCGuestUtils").isAnonOrAuthGuestUser(g,a),layout:c,pinnedSpeakerFBID:e,roster:b("RTCMobileRosterSorter").sort(d,f,g.get("FBID"))}};d.render=function(){var a=this,c=this.state,d=c.isLocalUserThreadMember,e=c.layout,f=c.pinnedSpeakerFBID;c=c.roster;var i=c.activeParticipants;c=c.localUser;var j=e===h.DOMINANT_SPEAKER;return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCMobileGroupCallRosterRow.react"),{isLocalUser:!0,participant:c.payload}),i.map(function(c){c=c.payload;return b("React").jsx(b("RTCMobileGroupCallRosterRow.react"),{checked:c.fbid===f,isLocalUserThreadMember:d,isParticipantGuest:a.$1.contains(c),onClick:j?a.$3(b("nullthrows")(c.fbid)):null,participant:c,subtitle:j&&c.fbid===f?g._("Selected speaker"):null},c.id)})]})};d.$2=function(a){var c=b("RTCCallStore").getState();c=c.localUser;var d=b("FBRTCGroupCallStore").getState();d=d.participants;d=b("FBRTCGuestUtils").fetchGuestParticipantsInCall(a,d);this.setState({isLocalUserThreadMember:!b("FBRTCGuestUtils").isAnonOrAuthGuestUser(c,a)});this.$1=d};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCMobileGroupCallRosterView.react",["cx","fbt","ErrorBoundary.react","React","RTCM4CloseButton.react","RTCMobileFlyout.react","RTCMobileFlyoutBody.react","RTCMobileFlyoutHeader.react","RTCMobileGroupCallRosterBody.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c;return(c=b("React")).jsxs(b("RTCMobileFlyout.react"),{onToggle:a.onToggle,children:[c.jsxs(b("RTCMobileFlyoutHeader.react"),{children:[c.jsxs("div",{className:"_858p",children:[c.jsx("div",{children:h._("In this chat")}),c.jsx(b("RTCM4CloseButton.react"),{isDarkMode:!0,onClick:a.onToggle,title:h._("Close List")})]}),a.lockStatus!=null?b("React").jsx("div",{className:"_8sod",children:a.lockStatus==="OPEN"?h._("Anyone with the link can join"):h._("No one else can join")}):null]}),b("React").jsx(b("RTCMobileFlyoutBody.react"),{children:b("React").jsx(b("ErrorBoundary.react"),{children:b("React").jsx(b("RTCMobileGroupCallRosterBody.react"),{})})})]})}e.exports=a}),null);
__d("RTCMobileGroupCallDialogController",["DOM","React","ReactDOM","RTCMeetupLockStatus.react","RTCMobileGroupCallRosterView.react"],(function(a,b,c,d,e,f){"use strict";var g={_container:b("DOM").create("div"),showRoster:function(a){var c=this;b("ReactDOM").render(b("React").jsx(b("RTCMeetupLockStatus.react"),{linkURL:a,render:function(a){return b("React").jsx(b("RTCMobileGroupCallRosterView.react"),{lockStatus:a,onToggle:c._onUnmount})}}),this._container)},_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(g._container)}};e.exports=g}),null);
__d("RTCCallControlsRosterButton.react",["cx","fbt","FBRTCConstants","React","RTCCallControlsButton.react","RTCMobileGroupCallDialogController","RTCUIRosterIcon.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("FBRTCConstants").GroupVideoViewLayout;function a(a){return a.connectedRemoteUsersSize===0?null:b("React").jsxs("div",{className:"_4uwq _720p",children:[b("React").jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")(a.className,"semiopaque icon-48"),highlighted:!1,onClick:function(){return j(a.linkURL)},title:h._("See Participants"),children:b("React").jsx(b("RTCUIRosterIcon.react"),{})}),!a.isP2P&&a.layout===i.DOMINANT_SPEAKER&&b("React").jsx("div",{className:"_720q",children:1+a.connectedRemoteUsersSize})]})}function j(a){b("RTCMobileGroupCallDialogController").showRoster(a)}e.exports=a}),null);
__d("RTCUISwitchCameraIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){a=babelHelpers["extends"]({},a);return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"-9 -9 48 48",children:b("React").jsx("path",{d:"M24.239 14.156l-1.74-.002c-.007-4.143-3.357-7.507-7.5-7.5a1.154 1.154 0 0 0 0 2.307 5.189 5.189 0 0 1 5.19 5.183l-1.724.012a.576.576 0 0 0-.47.91l2.887 4.03c.23.322.71.322.94 0l2.886-4.03a.576.576 0 0 0-.47-.91zm-12.704-.005c.469 0 .742-.53.47-.91l-2.887-4.03a.579.579 0 0 0-.94 0l-2.887 4.03c-.271.38.002.91.47.91l1.739.003c.008 4.142 3.359 7.506 7.5 7.5a1.154 1.154 0 1 0 0-2.308 5.188 5.188 0 0 1-5.19-5.182l1.725-.013zm13.273 11.541H5.192a4.616 4.616 0 0 1-4.615-4.615V8.385a4.616 4.616 0 0 1 4.615-4.616h.577a4.18 4.18 0 0 0 2.955-1.223L9.738 1.53A4.18 4.18 0 0 1 12.692.308h4.616c1.108 0 2.171.44 2.955 1.223l1.013 1.015a4.178 4.178 0 0 0 2.955 1.223h.577a4.616 4.616 0 0 1 4.615 4.616v12.692a4.616 4.616 0 0 1-4.615 4.615z",fill:"#FFF",fillRule:"evenodd"})})}))};e.exports=a}),null);
__d("RTCMWebSwitchCameraButton.react",["cx","fbt","React","RTCCallControlsButton.react","RTCUISwitchCameraIcon.react","RTWebUserActionLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("RTWebUserActionLogger").logClick({component:"toggle_camera",surface:"call_controls"}),d.props.onToggleCameraMode()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:"toggle_camera",surface:"call_controls"})};d.render=function(){var a=this.props.className;return b("React").jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")(a,"semiopaque icon-48"),"data-testid":"toggleCameraButton",onClick:this.$1,title:h._("Switch Camera"),children:b("React").jsx(b("RTCUISwitchCameraIcon.react"),{})})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCMediaDevicesActions",["RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";a={enumerate:function(a){b("RTCAppDispatcher").dispatch({type:"ENUMERATE_MEDIA_DEVICES",devices:a})}};e.exports=a}),null);
__d("RTCMediaDevicesStore",["FBRTCConsoleLogger","FluxReduceStore","RTCAppDispatcher","RTCMediaDevices","RTCMediaDevicesActions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("RTCAppDispatcher"))||this;c.$RTCMediaDevicesStore1();b("RTCMediaDevices").addEventListener("devicechange",c.$RTCMediaDevicesStore1);return c}var d=c.prototype;d.$RTCMediaDevicesStore1=function(){b("RTCMediaDevices").enumerateDevices().then(function(a){return b("RTCMediaDevicesActions").enumerate(a)})["catch"](function(a){})};d.getInitialState=function(){return null};d.reduce=function(a,b){var c=b.type;b=b.devices;switch(c){case"ENUMERATE_MEDIA_DEVICES":return[].concat(b);default:return a}};d.refresh=function(){this.$RTCMediaDevicesStore1()};d.getByLabel=function(a,b){var c=this.getState();return!c?null:c.find(function(c){return c.kind===b&&c.label===a})||c.find(function(c){return c.kind===b&&h(c.label,a)})};return c}(b("FluxReduceStore"));a.__moduleID=e.id;var g=/#\d+\s(\([\da-f]{4}:[\da-f]{4}\))$|\s#\d+$/;function h(a,b){return a.replace(g,"$1")===b.replace(g,"$1")}e.exports=new a()}),null);
__d("RTCUserSettingsReducers",["RTCMediaDevicesStore"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){switch(b.type){case"USER_SETTINGS_EDIT":return a.set("editing",!0);case"USER_SETTINGS_CANCEL_EDITING":return a.set("editing",!1);case"USER_SETTINGS_SAVE":return a.set("audioInput",b.audioInput).set("audioOutput",b.audioOutput).set("editing",!1).set("videoInput",b.videoInput);case"USER_SETTINGS_SET_AUDIO_INPUT":return a.set("audioInput",b.audioInput);case"USER_SETTINGS_SET_AUDIO_OUTPUT":return a.set("audioOutput",b.audioOutput);case"USER_SETTINGS_SET_VIDEO_INPUT":return a.set("videoInput",b.videoInput);default:return a}}function c(a,b){switch(b.type){case"ADD_LOCAL_STREAM":return a.set("audioInput",g(b.stream.getAudioTracks()[0],"audioinput")||a.audioInput).set("videoInput",g(b.stream.getVideoTracks()[0],"videoinput")||a.videoInput);default:return a}}function g(a,c){if(!a)return null;a=b("RTCMediaDevicesStore").getByLabel(a.label,c);return a?a.deviceId:null}e.exports={activelySetSettings:a,passivelySetSettings:c}}),null);
__d("RTCUserSettingsStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({audioInput:null,audioOutput:null,editing:!1,videoInput:null}));e.exports=a}),null);
__d("RTCUserSettingsStore",["FluxReduceStore","RTCAppDispatcher","RTCUserSettingsReducers","RTCUserSettingsStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("RTCUserSettingsReducers").activelySetSettings,b("RTCUserSettingsReducers").passivelySetSettings];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("RTCAppDispatcher"))||this}var d=c.prototype;d.getInitialState=function(){return new(b("RTCUserSettingsStoreState"))()};d.reduce=function(a,b){return g.reduce(function(a,c){return c(a,b)},a)};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("RTCP2PRedialButton.react",["cx","Bootloader","FBRTCConfig","FBRTCConsoleLogger","FBRTCLogger","React","RTCCallActions","RTCCallControlsButtonWithLabel.react","RTCCallStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCUICameraIcon.react","RTCUIPhoneIcon.react","RTCUserSettingsStore","RTWebUserActionLogger","generateRTCCallID","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c,d,e){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(a,{peerID:e.FBID,callID:Number(d),eventDetails:c})},"RTCP2PRedialButton.react")}function i(){__p&&__p();var a=b("generateRTCCallID")().toString();b("RTCCallActions").resetForRedial(a,a);a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:"p2p",component:"redial",surface:"call_container"}));a=b("RTCUserSettingsStore").getState();var c=a.audioInput;a=a.videoInput;var d=b("RTCP2PCallStore").isAudioOnly();b("RTCP2PProtocolHandler").initStream(!d,c,a).then(function(a){b("RTCCallActions").addLocalStream(a),b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.REDIAL_BUTTON)})["catch"](function(a){var c=b("RTCCallStore").getState(),d=c.callInfo.conferenceName;c=c.remoteUsers;h("get user media: error",JSON.stringify({error:a.name,constraint:a.constraint,trigger:"redial"}),d,c.first())})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logImpression(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!1),component:"redial",surface:"call_container"}))};d.render=function(){var a=this.props,c=a.className,d=a.icon;a=a.title;return b("React").jsx(b("RTCCallControlsButtonWithLabel.react"),{className:b("joinClasses")("semiopaque icon-48",c),"data-testid":"rediallButton",onClick:i,title:a,children:d})};return c}(b("React").Component);e.exports=a}),null);
__d("FBRTCMobileBrowserAppViewFooter.react",["cx","invariant","AlignmentEnum","FBRTCHangupReason","React","RTCAppViewFooter.react","RTCCallActions","RTCCallControls.react","RTCCallControlsCloseWindowButton.react","RTCCallControlsEndCallButton.react","RTCCallControlsRosterButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCCallStore","RTCMWebSwitchCameraButton.react","RTCMWProtocolHandler","RTCP2PRedialButton.react","RTCUICameraIcon.react","RTWebStrings","UserAgent","gkx","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={autoHideControls:!1,currentCameraMode:"environment"},d.$3=function(){__p&&__p();var a=navigator;a=a.mediaDevices;a!=null||h(0,19135);b("promiseDone")(a.getUserMedia({audio:!0,video:{facingMode:d.state.currentCameraMode}}).then(function(a){var c=d.props.localUser.isAudioMuted();b("promiseDone")(b("RTCMWProtocolHandler").updateLocalStream(a).then(function(){b("RTCCallActions").toggleMuteAudio(!c)}));d.setState(function(a){return{currentCameraMode:a.currentCameraMode==="user"?"environment":"user"}});return a}))},d.$4=function(){var a=d.props,c=a.conferenceName,e=a.isP2P;a=a.protocolHandler;var f=b("RTCCallStore").getState().callInfo.serverInfoData;e&&a?a.endCall():c!=null&&f!=null&&b("RTCMWProtocolHandler").endCall(c,f,b("FBRTCHangupReason").HANGUP_CALL)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){var b=this;a.conferenceState!==this.props.conferenceState&&this.props.conferenceState==="CONNECTED"&&(this.$1=window.setTimeout(function(){b.setState({autoHideControls:!0})},3500))};d.componentWillUnmount=function(){window.clearTimeout(this.$1),this.$1=null};d.render=function(){switch(this.props.conferenceState){case"TERMINATED":return this.props.linkHash==null?b("React").jsx(b("RTCAppViewFooter.react"),{children:b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_7f4o",children:[b("React").jsx(b("RTCCallControlsCloseWindowButton.react"),{className:"_7f4p",label:b("RTWebStrings").dismiss}),b("React").jsx(b("RTCP2PRedialButton.react"),{className:"_7f4q",icon:b("React").jsx(b("RTCUICameraIcon.react"),{}),title:b("RTWebStrings").callAgain})]})}):b("React").jsx(b("RTCAppViewFooter.react"),{});default:return b("React").jsx(b("RTCAppViewFooter.react"),{children:b("React").jsxs(b("RTCCallControls.react"),{autoHide:this.state.autoHideControls,className:"_5rdt _86ef",children:[this.props.conferenceState==="CONNECTED"?b("React").jsx(b("RTCCallControlsRosterButton.react"),{className:"mweb",connectedRemoteUsersSize:this.props.connectedRemoteUsersSize,isP2P:this.props.isP2P,layout:this.props.layout,linkURL:this.props.linkURL}):null,this.props.localUser.hasVideo()?b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{className:"mweb",conferenceState:this.props.conferenceState,initializeVideo:!0,isM4:!0,isP2P:this.props.isP2P,videoMuted:this.props.localUser.isVideoMuted()}):b("React").jsx(b("RTCCallControlsVideoEscalationButton.react"),{className:"mweb",disabled:!this.props.hasVideoInput,isM4:!0,onClick:function(){return b("RTCMWProtocolHandler").escalateLocalStream()}}),this.$2()?b("React").jsx(b("RTCMWebSwitchCameraButton.react"),{className:"mweb",onToggleCameraMode:this.$3}):null,b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:this.props.localUser.isAudioMuted(),className:"mweb",isM4:!0}),b("React").jsx(b("RTCCallControlsEndCallButton.react"),{nuxAlignment:b("AlignmentEnum").right,onClick:this.$4,showNux:this.props.conferenceState==="CONNECTED"&&this.props.localUser.isGuestUser})]})})}};d.$2=function(){var a=navigator;a=a.mediaDevices;return b("gkx")("1124860")&&a!=null&&a.getSupportedConstraints().facingMode&&this.props.localUser.hasVideo()&&b("UserAgent").isPlatform("Android")};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCInCallSlidingLogoContainer.react",["cx","fbt","FBRTCConstants","Link.react","MessengerChatLinksFunnelLogger","React","RTCMobileBrowserUtils","XUIText.react","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBRTCConstants").GroupVideoViewLayout;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(){b("MessengerChatLinksFunnelLogger").appendAction("click_app_download_in_call"),b("promiseDone")(b("RTCMobileBrowserUtils").endOngoingCall("clickedDownloadAppBanner"),function(a){return d.props.onClick()})};return d}var d=c.prototype;d.componentDidMount=function(){this.props.userActionsLogger().setEvent("impression").log()};d.render=function(){return b("React").jsx(b("Link.react"),{onClick:this.$1,children:b("React").jsxs("div",{className:"_723-",children:[b("React").jsx(b("XUIText.react"),{className:"_723_",display:"block",size:"body2",children:this.props.layout===i.GRID?h._("Download Messenger"):h._({"*":"{number} people in this chat","_1":"1 person in this chat"},[h._plural(this.props.connectedRemoteUsersSize+1,"number")])}),b("React").jsx(b("XUIText.react"),{className:"_7240",display:"block",size:"body2",children:this.props.layout===i.GRID?h._("Get the full experience with the app"):h._("Get the best group experience with the app")})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("RTCMessengerM4LogoIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{height:"32",width:"32",children:b("React").jsx("path",{d:"M16 0c9.01328 0 16 6.60232 16 15.52 0 8.91776-6.98672 15.52-16 15.52-1.61904 0-3.17216-.21384-4.63152-.61512-.28376-.07808-.58544-.05592-.85464.06288l-3.17568 1.40192c-.16928.07472-.34304.10968-.51264.11032h-.00928c-.6588-.00248-1.2524-.5228-1.2744-1.24208l-.08712-2.84648c-.01072-.35048-.16848-.67832-.42984-.91208C1.91168 24.21528 0 20.18448 0 15.52 0 6.60232 6.98672 0 16 0zM6.3677386 19.9366326c-.4521827.6940678.4296457 1.4762033 1.1051929.9802301l5.0613504-3.7162303c.3423852-.2514007.8155008-.2527198 1.1593297-.0032589l3.7476305 2.7193178c1.124602.8160436 2.729618.5294934 3.4791922-.6209753l4.7118271-7.2323486c.4521827-.6940678-.4296457-1.4762033-1.1051929-.9802301l-5.0613504 3.7162303c-.3423852.2514007-.8155008.2527198-1.1593297.0032589l-3.7476305-2.7193178c-1.124602-.8160436-2.729618-.5294934-3.479112.6209753l-4.7119073 7.2323486z",fill:"#FFF",fillRule:"evenodd"})})}))};e.exports=a}),null);
__d("RTCMobilePostCallHeaderBanner.react",["cx","fbt","ix","FlexLayout.react","Image.react","Link.react","MessengerChatLinksFunnelLogger","React","XUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(){b("MessengerChatLinksFunnelLogger").appendAction("click_app_download_post_call"),d.props.onClick()};return d}var d=c.prototype;d.componentDidMount=function(){this.props.userActionsLogger().setEvent("impression").log()};d.render=function(){var a;return(a=b("React")).jsxs(b("FlexLayout.react"),{align:"center",className:"_6qxt",children:[a.jsx(b("Link.react"),{className:"_6qy5",onClick:this.$1,target:"_blank",children:a.jsx(b("Image.react"),{height:32,src:i("955014"),width:32})}),a.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[a.jsx(b("XUIText.react"),{className:"_6qxu",display:"block",size:"body2",children:h._("Download Messenger")}),a.jsx(b("XUIText.react"),{className:"_6qxv",color:"secondary",display:"block",size:"body2",children:h._("Join this chat with the Messenger app")})]})]})};return c}(b("React").Component);e.exports=a}),null);
__d("FBRTCMobileBrowserAppViewHeader.react",["cx","FBRTCConstants","Link.react","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsToggleFullScreenButton.react","RTCInCallSlidingLogoContainer.react","RTCMessengerM4LogoIcon.react","RTCMobileBrowserUtils","RTCMobilePostCallHeaderBanner.react","UserAgent","VideoChatLinksUserActionsTypedLogger","goURI","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBRTCConstants").GroupVideoViewLayout,i=4e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={slideBanner:!1,displayHeader:!1},d.$3=function(){return new(b("VideoChatLinksUserActionsTypedLogger"))().setSurface(d.props.conferenceState==="TERMINATED"?"www_postcall":"www_incall").setComponent("messenger_app_store_link").setVideoCallLinkHashRaw(d.props.linkHash)},d.$2=function(){d.setState({slideBanner:!0}),d.$1=window.setTimeout(function(){d.setState({slideBanner:!1,displayHeader:!1})},i)},d.onLinkClick=function(){d.$3().setEvent("tap").log(),b("goURI")(d.props.appstoreLink!==null&&d.props.appstoreLink!==void 0?d.props.appstoreLink:b("RTCMobileBrowserUtils").getDefaultDownloadAppLink())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){a.layout===h.GRID&&this.props.layout===h.DOMINANT_SPEAKER&&(this.setState({displayHeader:!0}),this.$2())};d.componentDidMount=function(){this.$3().setEvent("impression").log()};d.componentWillUnmount=function(){window.clearTimeout(this.$1)};d.render=function(){var a=this.props,c=a.isAudioCall,d=a.layout,e=a.connectedRemoteUsersSize,f=a.linkHash;a=a.conferenceState;switch(a){case"TERMINATING":return b("React").jsx(b("RTCAppViewHeader.react"),{isAudioCall:c});case"TERMINATED":if(f!=null)return b("React").jsx(b("RTCAppViewHeader.react"),{isAudioCall:c,children:b("React").jsx(b("RTCMobilePostCallHeaderBanner.react"),{onClick:this.onLinkClick,userActionsLogger:this.$3})});case"AWAITING_USER_START":case"CONNECTED":case"CONNECTING":case"NEW":case"RENEGOTIATING":default:return b("React").jsxs(b("RTCAppViewHeader.react"),{className:this.state.slideBanner?"_7238":"",isAudioCall:c,children:[b("React").jsx(b("RTCInCallSlidingLogoContainer.react"),{connectedRemoteUsersSize:e,layout:d,onClick:this.onLinkClick,userActionsLogger:this.$3}),b("React").jsxs(b("RTCCallControls.react"),{autoHide:!this.state.displayHeader&&!this.state.slideBanner,compact:!0,children:[b("React").jsx(b("Link.react"),{className:"_7239",onClick:this.$2,children:b("React").jsx(b("RTCMessengerM4LogoIcon.react"),{className:"_7239"+(this.state.slideBanner?" _84bm":"")})}),b("UserAgent").isBrowser("Mobile Safari")?null:b("React").jsx(b("RTCCallControlsToggleFullScreenButton.react"),{className:b("joinClasses")("semiopaque mweb","_6tcw"),isM4:!0})]})]})}};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTWebMobileCallView.react",["FBRTCMobileBrowserAppViewContent.react","FBRTCMobileBrowserAppViewFooter.react","FBRTCMobileBrowserAppViewHeader.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(b("FBRTCMobileBrowserAppViewHeader.react"),{conferenceState:a.conferenceState,connectedRemoteUsersSize:a.connectedRemoteUsersSize,isAudioCall:a.isAudioCall,layout:a.layout,linkHash:a.linkHash}),c.jsx(b("FBRTCMobileBrowserAppViewContent.react"),{conferenceState:a.conferenceState,isP2P:a.isP2P,layout:a.layout,localUser:a.localUser,participants:a.participants,rejoinCall:a.rejoinCall,remoteUsers:a.remoteUsers}),c.jsx(b("FBRTCMobileBrowserAppViewFooter.react"),{conferenceName:a.conferenceName,conferenceState:a.conferenceState,connectedRemoteUsersSize:a.connectedRemoteUsersSize,hasVideoInput:a.hasVideoInput,isP2P:a.isP2P,layout:a.layout,linkHash:a.linkHash,linkURL:a.linkURL,localUser:a.localUser,protocolHandler:a.protocolHandler})]})}e.exports=a}),null);
__d("RTCGroupCallView.react",["cx","fbt","invariant","Promise","FBRTCCallSummaryStore","FBRTCConsoleLogger","FBRTCConstants","FBRTCHangupReason","FBRTCSupport","React","RTCAppView.react","RTCCallStore","RTCChatViewWrapper.react","RTCEndCallQPSurface.react","RTCGrantUserMediaAccessView.react","RTCMWAppViewContent.react","RTCMWAppViewFooter.react","RTCMWAppViewHeader.react","RTCMWProtocolHandler","RTCPeerConnectionStats.react","RTCUserMediaRequestState","RTCUtils","RTWebClientFeatureGating","RTWebMobileCallView.react","RTWebUserActionLogger","Run","debounce"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("FBRTCConstants").GroupVideoViewLayout;a=b("React").PureComponent;var k=2,l=8;function m(a,b,c){if(b)return{hideLayoutSwitchButton:!0,remoteUsersLayout:a};b=c>l||c<k;c=c<k?j.GRID:b?j.DOMINANT_SPEAKER:a;return{hideLayoutSwitchButton:b,remoteUsersLayout:c}}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={hasVideoInput:!1,wasConnected:!1},d.$1=b("debounce")(function(){b("RTWebUserActionLogger").logClick({component:"window_resize",surface:"call_container"})},2e3),c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,b){return{wasConnected:b.wasConnected||a.conferenceState==="CONNECTED"}};var d=c.prototype;d.render=function(){__p&&__p();var a=this.props.userMediaRequest;switch(a.state){case b("RTCUserMediaRequestState").PENDING:case b("RTCUserMediaRequestState").REJECTED:return b("React").jsx(b("RTCGrantUserMediaAccessView.react"),{isAudioCall:this.props.isAudioCall,userMediaRequest:a});default:a=this.props;var c=a.layout;a=babelHelpers.objectWithoutPropertiesLoose(a,["layout"]);var d=this.props.thread?this.props.thread.thread_id:"0";!this.props.chatWindowVisible||this.props.thread!=null||i(0,5576);var e=b("FBRTCSupport").isMobileDevice(),f=b("RTCCallStore").getConnectedRemoteUsersSize();c=m(c,e,f);var g=c.hideLayoutSwitchButton;c=c.remoteUsersLayout;return b("React").jsx(b("RTCChatViewWrapper.react"),{callerID:this.props.localUser.FBID,chatWindowVisible:this.props.chatWindowVisible,threadID:d,children:b("React").jsx("div",{className:"_38jq _li"+(this.props.conferenceState==="TERMINATED"?" _17cj":""),children:b("React").jsxs("div",{className:"_7q_4",children:[b("React").jsx("div",{className:"_7q_5",children:b("React").jsx(b("RTCAppView.react"),{className:"_32ut"+(this.props.isAudioCall&&!e&&!b("RTWebClientFeatureGating").callUnification()?" _32uu":"")+(e?" _7o1p":""),isAudioCall:this.props.isAudioCall,children:e?b("React").jsx(b("RTWebMobileCallView.react"),{conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,connectedRemoteUsersSize:f,hasVideoInput:this.state.hasVideoInput,isAudioCall:this.props.isAudioCall,isP2P:!1,layout:c,linkHash:this.props.linkHash,linkURL:this.props.linkURL,localUser:this.props.localUser,participants:this.props.participants,rejoinCall:this.props.rejoinCall,remoteUsers:this.props.remoteUsers}):b("React").jsx(n,babelHelpers["extends"]({hasVideoInput:this.state.hasVideoInput,hideLayoutSwitchButton:g,layout:c,wasConnected:this.state.wasConnected},a))})}),this.props.linkHash==null&&b("RTWebClientFeatureGating").shouldShowEndCallQPs()?b("React").jsx(b("RTCEndCallQPSurface.react"),{className:"_7q_6",conferenceState:this.props.conferenceState,darkMode:!this.props.isAudioCall,visible:!this.props.chatWindowVisible&&this.props.conferenceState==="TERMINATED"}):null]})})})}};d.componentDidMount=function(){__p&&__p();var a=this;window.addEventListener("resize",this.$1);new(b("Promise"))(function(a){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?a(navigator.mediaDevices.enumerateDevices().then(function(a){return a.some(function(a){a=a.kind;return a==="videoinput"})})):a(!0)}).then(function(b){return a.setState({hasVideoInput:b})})["catch"](function(a){});b("Run").onBeforeUnload(function(){var b=a.props.conferenceState;switch(b){case"CONNECTING":case"CONNECTED":case"TERMINATING":return h._("Leaving this page will end your call.")}return void 0},!1);b("Run").onUnload(function(){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"window_unload"});var c=a.props,d=c.conferenceState;c=c.linkHash;d!=="TERMINATED"&&b("RTCMWProtocolHandler").endCall(a.props.conferenceName,b("RTCCallStore").getState().callInfo.serverInfoData,b("FBRTCHangupReason").HANGUP_CALL,"BrowserClosed");if(c!=null){d=b("RTCCallStore").getState();c=d.callSummary;c.logThisSummary(b("FBRTCCallSummaryStore").getInstance())}})};d.componentDidUpdate=function(a){var c=this.props,d=c.conferenceState;c=c.linkHash;if(c!=null&&d==="TERMINATED"&&a.conferenceState!=="TERMINATED"){b("FBRTCSupport").isMobileDevice()&&b("RTCUtils").isFullScreen()&&b("RTCUtils").exitFullScreen();c=b("RTCCallStore").getState();d=c.callSummary;d.logThisSummary(b("FBRTCCallSummaryStore").getInstance())}};d.componentWillUnmount=function(){window.removeEventListener("resize",this.$1)};return c}(a);function n(a){var c;return(c=b("React")).jsxs(c.Fragment,{children:[c.jsx(b("RTCMWAppViewHeader.react"),babelHelpers["extends"]({showChatButton:a.thread!=null},a)),c.jsx(b("RTCMWAppViewContent.react"),babelHelpers["extends"]({},a)),c.jsx(b("RTCMWAppViewFooter.react"),babelHelpers["extends"]({},a)),c.jsx(b("RTCPeerConnectionStats.react"),{connection:a.connection,style:{marginBottom:40}})]})}e.exports=c}),null);
__d("RTCConferenceState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AWAITING_USER_START:"AWAITING_USER_START",CONNECTED:"CONNECTED",CONNECTING:"CONNECTING",NEW:"NEW",RENEGOTIATING:"RENEGOTIATING",TERMINATED:"TERMINATED",TERMINATING:"TERMINATING"})}),null);
__d("RTCFeedbackOptionsList.react",["cx","FDSCheckboxInput.maintenance.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.selectedOptions,d=a.options;return b("React").jsx("div",{className:"_78f-",children:d.keySeq().toArray().map(function(e){return b("React").jsx("div",{children:b("React").jsx(b("FDSCheckboxInput.maintenance.react"),{label:d.get(e),onChange:function(b){var d=[].concat(c);b?d.push(e):d=d.filter(function(a){return a!==e});a.onFeedbackSubmit(d)},value:c.includes(e)})},e)})})};e.exports=a}),null);
__d("RTCollabCallFeedback.react",["cx","fbt","AbstractTextArea.react","FDSButton.react","FDSTabGroup.react","React","RTCFeedbackOptionsList.react","immutable","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("keyMirror")({AUDIO:null,OTHER:null,VIDEO:null}),j={};j[i.AUDIO]=b("immutable").Map({delayed_sound:h._("The sound was delayed"),echo_sound:h._("There was echo"),breaking_audio:h._("The audio was breaking up"),other_could_not_hear_me:h._("The others couldn't hear me"),could_not_hear_others:h._("I couldn't hear the others")});j[i.VIDEO]=b("immutable").Map({pixelated_video:h._("Blurry or pixellated video"),no_incoming_video:h._("Didn't receive video"),no_outgoing_video:h._("The others couldn't see me"),freezing_video:h._("Freezing video")});var k=[{label:h._("Video"),value:i.VIDEO},{label:h._("Audio"),value:i.AUDIO},{label:h._("Other"),value:i.OTHER}];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={feedbackMessage:null,selectedAudioOptions:[],selectedVideoOptions:[],selectedTab:i.VIDEO},c.$4=function(a){c.setState({selectedTab:a})},c.$2=function(a){c.setState({selectedAudioOptions:a})},c.$1=function(a){c.setState({selectedVideoOptions:a})},c.$3=function(a){c.setState({feedbackMessage:a.target.value})},c.$5=function(){var a=c.state,b=a.feedbackMessage,d=a.selectedAudioOptions;a=a.selectedVideoOptions;c.props.onFeedbackSubmit({feedbackMessage:b,selectedFeedbackOptions:d.concat(a)})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a,c=(a=b("React")).jsx("div",{});switch(this.state.selectedTab){case i.VIDEO:c=b("React").jsx(m,{onFeedbackSelected:this.$1,selectedOptions:this.state.selectedVideoOptions});break;case i.AUDIO:c=b("React").jsx(n,{onFeedbackSelected:this.$2,selectedOptions:this.state.selectedAudioOptions});break;default:c=b("React").jsx(l,{feedbackValue:this.state.feedbackMessage,onFeedbackMessageChange:this.$3})}return a.jsxs("div",{className:"_78ew",children:[a.jsx("div",{className:"_78ex",children:h._("What went wrong?")}),a.jsx("div",{className:"_78ey",children:h._("Please let us know how we can improve")}),a.jsxs("div",{className:"_78f2",children:[a.jsxs("div",{className:"_78f3",children:[a.jsx(b("FDSTabGroup.react"),{onChange:this.$4,tabs:k,value:this.state.selectedTab}),a.jsx("div",{className:"_78f4"}),c]}),a.jsx("div",{className:"_78f5",children:a.jsx(b("FDSButton.react"),{label:h._("Submit feedback"),onClick:this.$5,use:"flatWhite",width:360})})]})]})};return c}(b("React").PureComponent);var l=function(a){return b("React").jsx(b("AbstractTextArea.react"),{className:"_78f6",onChange:a.onFeedbackMessageChange,placeholder:h._("Describe the problem..."),value:a.feedbackValue})},m=function(a){return b("React").jsx(b("RTCFeedbackOptionsList.react"),{onFeedbackSubmit:a.onFeedbackSelected,options:j[i.VIDEO],selectedOptions:a.selectedOptions})},n=function(a){return b("React").jsx(b("RTCFeedbackOptionsList.react"),{onFeedbackSubmit:a.onFeedbackSelected,options:j[i.AUDIO],selectedOptions:a.selectedOptions})};e.exports=a}),null);
__d("RTCEndOfCallSurvey.react",["cx","fbt","Image.react","React","RTCCallActions","RTCollabCallFeedback.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=2500;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={feedbackComplete:!1,promptFeedback:!1},d.$4=function(){d.setState({promptFeedback:!0})},d.$3=function(){b("RTCCallActions").submitRating(5),d.setState({feedbackComplete:!0}),d.$5()},d.$2=function(a){a.feedbackMessage!=null&&b("RTCCallActions").submitFeedback(a.feedbackMessage),a.selectedFeedbackOptions.length>0&&b("RTCCallActions").submitFeedbackOptions(a.selectedFeedbackOptions),b("RTCCallActions").submitRating(1),d.setState({feedbackComplete:!0}),d.$5()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(this.state.feedbackComplete)return b("React").jsx(n,{});else if(this.state.promptFeedback)return b("React").jsx(b("RTCollabCallFeedback.react"),{onFeedbackSubmit:this.$2});return b("React").jsxs("div",{className:"_78ew",children:[b("React").jsx("div",{className:"_78ex",children:h._("How was your call?")}),b("React").jsx("div",{className:"_78ey",children:h._("Please rate the quality of your video call")}),b("React").jsxs("div",{className:"_78ez",children:[b("React").jsxs(j,{onClick:this.$3,children:[b("React").jsx(k,{}),h._("Good")]}),b("React").jsxs(j,{onClick:this.$4,children:[b("React").jsx(l,{}),h._("Bad")]})]})]})};d.$5=function(){var a=this;this.$1=window.setTimeout(function(){return a.props.onDone()},i)};d.componentWillUnmount=function(){this.$1!=null&&window.clearTimeout(this.$1)};return c}(b("React").PureComponent);var j=function(a){return b("React").jsx("div",{className:"_78e-",onClick:a.onClick,role:"menuitem",tabIndex:"0",children:a.children})},k=function(){return b("React").jsx("div",{className:"_78e_"})},l=function(){return b("React").jsx("div",{className:"_78f0"})},m=function(){return b("React").jsx(b("Image.react"),{src:"/images/chat/webrtc/feedback_thank_you.png",style:{marginBottom:20}})},n=function(){var a;return(a=b("React")).jsxs("div",{className:"_78ew",children:[a.jsx(m,{}),a.jsx("div",{className:"_78ex",children:h._("Thank you!")}),a.jsx("div",{className:"_78ey",children:h._("Your feedback has been logged and we might contact you if we have any questions.")})]})};e.exports=a}),null);
__d("RTCP2PIncallView.react",["cx","fbt","FBRTCConstants","FluxContainer","React","RTCAppDispatcher","RTCCallNUXActions","RTCCallNUXStore","RTCCallStore","RTCIncallAudio.react","RTCIncallVideo.react","ShimButton.react","XUIAmbientNUX.react","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("FBRTCConstants").SignalingProtocol;a=b("React").PureComponent;function j(a){var c=a.audioSinkID;a=a.streams;return a.toArray().map(function(a,d){return b("React").jsx(b("RTCIncallAudio.react"),{audioSinkID:c,mediaStream:a},d)})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCCallNUXStore")]};c.calculateState=function(a){a===void 0&&(a={});return babelHelpers["extends"]({},a,{showNux:b("RTCCallNUXStore").getState().showRemoteStreamsSliderNUX})};function c(d){__p&&__p();var e;e=a.call(this,d)||this;e.state=c.calculateState({ratio:.5,resizing:!1});e.$11=function(){document.addEventListener("keydown",e.$14)};e.$9=function(){document.removeEventListener("keydown",e.$14)};e.$14=function(a){a=a.key;var b=e.state.ratio;switch(a){case"ArrowLeft":e.$15(b-.025);break;case"ArrowRight":e.$15(b+.025);break;case"Escape":e.$10();break}};e.$10=function(){e.setState({ratio:.5})};e.$12=function(a){__p&&__p();var b=a.clientX;if(!e.$1)return;e.$3=e.$1.offsetLeft;e.$4=e.$1.offsetWidth;e.setState({resizing:!0},function(){return e.$16({clientX:b})});document.addEventListener("mousemove",e.$16);document.addEventListener("mouseup",e.$17);e.state.showNux&&e.$18()};e.$16=function(a){a=a.clientX;if(!e.state.resizing)return;e.$15((a-e.$3)/e.$4)};e.$17=function(){e.$19(),e.setState({resizing:!1})};e.$13=function(a){e.$2=a&&a.getDOMNode?a.getDOMNode():a};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")]);return e}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props.user;if(!c)return null;var d=c.streams,e=c.screenStreams;if(this.props.isAudioCall)return b("React").jsxs("section",{className:"_1b9s"+(this.state.resizing?" resizing":""),ref:function(b){return a.$1=b},children:[this.props.children,b("React").jsxs("div",{className:"_1b9t",children:[b("React").jsx(j,{audioSinkID:this.props.audioSinkID,streams:d}),b("React").jsx(j,{audioSinkID:this.props.audioSinkID,streams:e})]})]});var f=!(d.isEmpty()||e.isEmpty()||!this.props.renderScreenStreams);return b("React").jsxs("section",{className:"_1b9s"+(this.state.resizing?" resizing":""),ref:function(b){return a.$1=b},children:[this.props.children,this.$5(e,f),this.$6(f),this.$7(f),this.$8(d,f,c.isVideoMuted())]})};d.$6=function(a){return!a?null:b("React").jsx(b("ShimButton.react"),{className:"_1b9u",onBlur:this.$9,onDoubleClick:this.$10,onFocus:this.$11,onMouseDown:this.$12,ref:this.$13,role:"button",tabIndex:0})};d.$15=function(a){this.setState({ratio:Math.min(.85,Math.max(.15,a))})};d.$19=function(){document.removeEventListener("mousemove",this.$16),document.removeEventListener("mouseup",this.$17)};d.$18=function(){b("RTCCallNUXActions").dismissNUX(4773)};d.$7=function(a){var c=this;if(!this.state.showNux||!a||!this.$1)return null;a=(this.$1.clientHeight-32)/2;var d=h._("Control the size of the video and shared content by dragging the slider");b("RTCCallNUXActions").markNUXViewed(4773);return b("React").jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:function(){return c.$2},customwidth:250,offsetY:a,onCloseButtonClick:this.$18,position:"right",shown:this.state.showNux,width:"custom",children:d})};d.$5=function(a,c){if(a.isEmpty()||!this.props.renderScreenStreams)return null;var d=this.props.audioSinkID;c=c?{flexGrow:this.state.ratio}:null;return b("React").jsx("div",{className:"_1b9t",style:c,children:a.toArray().map(function(a,c){return b("React").jsx(b("RTCIncallVideo.react"),{audioSinkID:d,mediaStream:a},c)})})};d.$20=function(a){var b=this.props.user;return!b?a.getVideoTracks().length>0:!b.areAllTracksMuted(a.getVideoTracks())};d.$8=function(a,c,d){__p&&__p();var e=this;if(a.isEmpty())return null;var f=this.props.audioSinkID;c=c?{flexGrow:1-this.state.ratio}:null;var g=b("RTCCallStore").getConnection(i.P2P);if(!g)return null;var h=b("immutable").Set(g.getRemoteStreams());return b("React").jsx("div",{className:"_1b9t","data-testid":"incallVideoContainer",style:c,children:a.filter(function(a){return h.has(a)}).toArray().map(function(a,c){return e.$20(a)?b("React").jsx(b("RTCIncallVideo.react"),{audioSinkID:f,mediaStream:a,muted:d},c):b("React").jsx(b("RTCIncallAudio.react"),{audioSinkID:f,mediaStream:a},c)})})};d.componentWillUnmount=function(){this.$19(),document.removeEventListener("keydown",this.$14)};d.componentDidUpdate=function(a){this.props.user!==a.user&&this.$10()};return c}(a);c.defaultProps={renderScreenStreams:!0};e.exports=b("FluxContainer").create(c)}),null);
__d("RTCP2PStartCallButton.react",["cx","fbt","FBRTCLogger","React","RTCP2PCallStore","RTCTextButton.react","RTWebUserActionLogger"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a;(a=b("RTWebUserActionLogger")).logClick({callType:"p2p",component:"start_call_button",conferenceState:d.props.conferenceState,mediaType:a.getMediaType(d.props.isAudio),surface:"call_container"});a.logStopTimer({timerName:"WaitForUserInputTimer",checkpointName:"CallStart_WaitForUserInput"});b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.POPUP_CALL_START_BUTTON);a.logStopTimer({timerName:"InCallStartFlowTimer",checkpointName:"CallStart_InCallStartFlowTimer"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({callType:"p2p",component:"start_call_button",conferenceState:this.props.conferenceState,mediaType:b("RTWebUserActionLogger").getMediaType(this.props.isAudio),surface:"call_container"})};d.render=function(){return b("React").jsx(b("RTCTextButton.react"),{className:"green _2fst","data-testid":"RTCAppViewStartCallButton",label:h._("Start Call"),onClick:this.$1})};return c}(b("React").Component);e.exports=a}),null);
__d("RTCCallLogActions",["RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";a={logEvent:function(a,c){b("RTCAppDispatcher").dispatch({type:"GENERIC_COLLAB_LOG",event:a,eventDetails:c})}};e.exports=a}),null);
__d("RTCPreCallAudioOutputPreview.react",["cx","FBRTCUtils","MercurySoundsConfig","React","ReactDOM","RTCSVGIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isPlaying:!1,mediaStream:null},c.$5=function(){c.setState(function(a){if(c.$1!=null){var b=!a.isPlaying;b?c.$1.play():c.$1.pause();return{isPlaying:b}}return a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("promiseDone")(this.$2(this.props.audioOutputSinkID).then(function(b){return a.setState({mediaStream:b})}));this.$3(this.state.mediaStream);this.$4()};d.componentDidUpdate=function(a,c){var d=this;a.audioOutputSinkID!==this.props.audioOutputSinkID&&(b("promiseDone")(this.$2(this.props.audioOutputSinkID).then(function(a){c.mediaStream!=null&&b("RTCUtils").stopMediaStream(c.mediaStream),d.setState({mediaStream:a})})),this.$4())};d.render=function(){var a=this,c;return(c=b("React")).jsxs("div",{className:"_426m",onClick:this.$5,role:"main",children:[c.jsxs("audio",{autoPlay:!1,loop:!0,ref:function(b){return a.$1=b},children:[c.jsx("source",{src:b("MercurySoundsConfig").settings_preview_sound_mp3_url,type:"audio/mpeg"}),c.jsx("source",{src:b("MercurySoundsConfig").settings_preview_sound_ogg_url,type:"audio/ogg"})]}),this.state.isPlaying?b("React").jsx(i,{}):b("React").jsx(h,{})]})};d.$2=function(a){return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(a)})};d.$3=function(a){this.$1&&a&&b("FBRTCUtils").attachMediaStream(this.$1,a)};d.$4=function(){if(!b("FBRTCUtils").supportsSetSink())return;var a=b("ReactDOM").findDOMNode(this.$1);this.props.audioOutputSinkID&&a!=null&&a.setSinkId(this.props.audioOutputSinkID)};return c}(b("React").Component);var h=function(){return b("React").jsx(b("RTCSVGIcon.react"),{className:"_6p8c",children:b("React").jsx("svg",{height:"61",width:"61",children:b("React").jsx("path",{d:"M30.302 0C13.566 0 0 13.568 0 30.302c0 16.736 13.568 30.303 30.302 30.303 16.738 0 30.303-13.568 30.303-30.302C60.605 13.566 47.04 0 30.303 0zm11.284 31.973L24.097 42.07a1.733 1.733 0 0 1-1.727 0 1.73 1.73 0 0 1-.862-1.497V20.381c0-.617.33-1.186.862-1.496a1.733 1.733 0 0 1 1.727 0l17.486 10.097c.535.307.865.879.862 1.496a1.72 1.72 0 0 1-.86 1.494z",fillRule:"evenodd"})})})},i=function(){return b("React").jsx(b("RTCSVGIcon.react"),{className:"_6p8c",children:b("React").jsx("svg",{height:"60",viewBox:"0 0 60 60",width:"60",children:b("React").jsx("path",{d:"M74,31 C90.568,31 104,44.432 104,61 C104,77.568 90.568,91 74,91 C57.432,91 44,77.568 44,61 C44,44.432 57.432,31 74,31 Z M66.7142857,50.7142857 C65.0574315,50.7142857 63.7142857,52.0574315 63.7142857,53.7142857 L63.7142857,69.1428571 C63.7142857,70.7997114 65.0574315,72.1428571 66.7142857,72.1428571 L82.1428571,72.1428571 C83.7997114,72.1428571 85.1428571,70.7997114 85.1428571,69.1428571 L85.1428571,53.7142857 C85.1428571,52.0574315 83.7997114,50.7142857 82.1428571,50.7142857 L66.7142857,50.7142857 Z",fillRule:"evenodd",transform:"translate(-44 -31)"})})})};e.exports=a}),null);
__d("SUIMessengerRTCThemeConstants",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={DARK_MAPPING:{buttonDefault:"#4a4a4a",buttonHover:"#373948",buttonActive:"#4a4a4a",buttonDisabled:"#4a4a4a",buttonBorder:"#828282",buttonBorderDisabled:"#828282",buttonText:"#ffffff",buttonTextDisabled:"#828282",buttonPrimaryDefault:"#6fb3fd",buttonPrimaryHover:"#3b95fd",buttonPrimaryActive:"#016ffc",buttonPrimaryDisabled:"#479eba",buttonPrimaryBorder:"#6fb3fd",buttonPrimaryText:"#ffffff",buttonPrimaryTextDisabled:"#f5f7f9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#d9e0e7",glyphSecondary:"#a0a6b7",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#f9fafb",rowTextDisabled:"#6e7285",textPrimary:"#cfd6e0",textSecondary:"#a0a6b7",textDisabled:"#6e7285",textInteractive:"#6fb3fd",textInverted:"#ffffff",textLabel:"#a0a6b7",textHighlightBackground:"#ffd34c",textDark:"#272834",washAccent:"#6fb3fd",washBorder:"#15151d",washEmpty:"#FFFFFF",washPrimary:"#20212c",washSecondary:"#272834",washTertiary:"#2f303e",washDark:"#15151d"},LIGHT_MAPPING:{buttonDefault:"#FFFFFF",buttonHover:"#eaeff2",buttonActive:"#d9e0e7",buttonDisabled:"#f5f7f9",buttonBorder:"#828282",buttonBorderDisabled:"#d9e0e7",buttonText:"#272834",buttonTextDisabled:"#a0a6b7",buttonPrimaryDefault:"#6fb3fd",buttonPrimaryHover:"#3b95fd",buttonPrimaryActive:"#016ffc",buttonPrimaryDisabled:"#c5e1fe",buttonPrimaryBorder:"#6fb3fd",buttonPrimaryText:"#ffffff",buttonPrimaryTextDisabled:"#f5f7f9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#272834",glyphSecondary:"#6e7285",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#f9fafb",rowTextDisabled:"#6e7285",textPrimary:"#272834",textSecondary:"#6e7285",textDisabled:"#c1c8d6",textInteractive:"#6fb3fd",textInverted:"#ffffff",textLabel:"#272834",textHighlightBackground:"#ffd34c",textDark:"#272834",washAccent:"#6fb3fd",washBorder:"#d9e0e7",washEmpty:"#ffffff",washPrimary:"#f9fafb",washSecondary:"#f5f7f9",washTertiary:"#f1f4f6",washDark:"#272834"}};e.exports=a}),null);
__d("messengerRTCCreateSUITheme",["ix","cssVar","Image.react","React","SUIBusinessThemeComponents","SUITheme","SUITypeStyle","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){return new(b("SUITypeStyle"))(babelHelpers["extends"]({},a,{letterSpacing:void 0,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased"}))};function a(a,c){var d=i({color:a.textPrimary,fontFamily:"Helvetica Neue, Segoe UI, Helvetica, Arial, sans-serif",fontSize:"12px",fontWeight:"bold"}),e=b("React").jsx(b("Image.react"),{src:g("376185")}),f=b("React").jsx(b("Image.react"),{src:g("382797")});f=babelHelpers["extends"]({},b("SUIBusinessThemeComponents"),{SUIButton:{height:{normal:32,"short":28,tall:36},padding:{normal:{button:"12px",icon:"6px",onlyIcon:"8px"},"short":{button:"12px",icon:"6px",onlyIcon:"8px"},tall:{button:"12px",icon:"6px",onlyIcon:"8px"}},typeStyle:d,use:{confirm:{active:{background:a.buttonPrimaryActive,borderColor:a.buttonPrimaryActive,color:a.buttonPrimaryText},disabled:{background:a.buttonPrimaryDisabled,borderColor:a.buttonPrimaryDisabled,color:a.buttonPrimaryTextDisabled},hover:{background:a.buttonPrimaryHover,borderColor:a.buttonPrimaryHover,color:a.buttonPrimaryText},normal:{background:a.buttonPrimaryDefault,borderColor:a.buttonPrimaryDefault,color:a.buttonPrimaryText}},"default":{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},special:{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},flat:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}},flatWhite:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}}}},SUISelector:{backgroundColor:a.washEmpty,borderColor:a.buttonBorder,boxShadow:a.dropdownShadowMedium},SUISelectorButton:{use:{"default":{chevron:f}},padding:"8px",paddingLeft:"8px",paddingRight:"4px"},SUISelectorOption:{activeBackgroundColor:a.rowBackgroundActive,activeColor:a.rowTextActive,color:a.rowTextDefault,descriptionColor:a.textSecondary,descriptionSelectedColor:a.rowTextDefault,disabledBackgroundColor:a.rowBackgroundDisabled,disabledColor:a.rowTextDisabled,highlightedBackgroundColor:a.highlightedBackgroundColor,highlightedColor:a.rowTextDefault,padding:{bottom:"8px",left:"32px",right:"20px",top:"8px"},paddingWhenNoValue:{bottom:"8px",left:"16px",right:"20px",top:"8px"},selectedBackgroundColor:a.rowBackgroundHover,selectedColor:a.rowTextSelected,selectedIcon:e,selectedTypeStyle:d,selectedIconMarginRight:"8px",selectedIconMarginLeft:"-4px",typeStyle:d}});return new(b("SUITheme"))({id:c,components:f})}e.exports=a}),null);
__d("SUIMessengerRTCLightTheme",["SUIMessengerRTCThemeConstants","messengerRTCCreateSUITheme"],(function(a,b,c,d,e,f){"use strict";a=b("SUIMessengerRTCThemeConstants").LIGHT_MAPPING;e.exports=b("messengerRTCCreateSUITheme")(a,"messenger-rtc-light")}),null);
__d("SUIThemeContainer.react",["React","SUITheme","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getChildContext=function(){return{theme:this.props.theme}};c.render=function(){return this.props.children};return b}(a);c.childContextTypes={theme:b("prop-types").instanceOf(b("SUITheme"))};c.propTypes={theme:b("prop-types").instanceOf(b("SUITheme")).isRequired,children:b("prop-types").node};e.exports=c}),null);
__d("RTCSettingsMediaDeviceSelector.react",["fbt","React","SUIMessengerRTCLightTheme","SUISelector.react","SUISelectorOption.react","SUIThemeContainer.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="---";a=function(a){var c=a.devices,d=a.disabled===!0?null:a.value||(c.length>0?c[0].deviceId:null);return b("React").jsx(b("SUIThemeContainer.react"),{theme:a.theme?a.theme:b("SUIMessengerRTCLightTheme"),children:b("React").jsx(b("SUISelector.react"),{buttonBorderedSides:a.buttonBorderedSides,buttonRoundedCorners:a.buttonRoundedCorners,disabled:c.length===0||a.disabled,onChange:a.onChange,placeholder:g._("Select a device"),value:d,width:a.width,children:j(c,a.disabled,a.selectorType)})})};var i={videoinput:"Camera",audioinput:"Microphone",audiooutput:"Audio Output"};function j(a,c,d){__p&&__p();if(c===!0&&d!=null)return b("React").jsx(b("SUISelectorOption.react"),{value:null,children:g._({"Camera":"Camera disabled","Microphone":"Microphone disabled","Audio Output":"Audio output disabled"},[g._enum(i[d],{Camera:"Camera",Microphone:"Microphone","Audio Output":"Audio Output"})])});if(a.length===0){c=d!=null?g._({"camera":"No camera found","microphone":"No microphone found","audio output":"No audio output found"},[g._enum(i[d].toLowerCase(),{camera:"camera",microphone:"microphone","audio output":"audio output"})]):h;return b("React").jsx(b("SUISelectorOption.react"),{value:null,children:c})}var e=0;return a.map(function(a){var c=a.label?a.label:g._({"Camera":"Camera{number}","Microphone":"Microphone{number}","Audio Output":"Audio output{number}"},[g._enum(i[a.kind],{Camera:"Camera",Microphone:"Microphone","Audio Output":"Audio Output"}),g._param("number",++e)]);return b("React").jsx(b("SUISelectorOption.react"),{value:a.deviceId,children:c},a.deviceId)})}e.exports=a}),null);
__d("RTCUserSettingsActions",["RTCAppDispatcher"],(function(a,b,c,d,e,f){"use strict";a={edit:function(){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_EDIT"})},cancel:function(){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_CANCEL_EDITING"})},save:function(a){b("RTCAppDispatcher").dispatch(babelHelpers["extends"]({type:"USER_SETTINGS_SAVE"},a))},setAudioInput:function(a){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_SET_AUDIO_INPUT",audioInput:a})},setAudioOutput:function(a){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_SET_AUDIO_OUTPUT",audioOutput:a})},setVideoInput:function(a){b("RTCAppDispatcher").dispatch({type:"USER_SETTINGS_SET_VIDEO_INPUT",videoInput:a})}};e.exports=a}),null);
__d("SUIMessengerRTCDarkTheme",["SUIMessengerRTCThemeConstants","messengerRTCCreateSUITheme"],(function(a,b,c,d,e,f){"use strict";a=b("SUIMessengerRTCThemeConstants").DARK_MAPPING;e.exports=b("messengerRTCCreateSUITheme")(a,"messenger-rtc-dark")}),null);
__d("RTCPreCallAudioOutputContainer.react",["cx","FBRTCUtils","FluxContainer","React","RTCMediaDevicesStore","RTCPreCallAudioOutputPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=b("FBRTCUtils").supportsSetSink()?a.audioOutputDevices:[];return b("React").jsxs("div",{className:"_142c",children:[b("React").jsx(b("RTCPreCallAudioOutputPreview.react"),{audioOutputSinkID:a.audioOutput}),b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:!b("FBRTCUtils").supportsSetSink(),onChange:h,selectorType:"audiooutput",theme:b("SUIMessengerRTCDarkTheme"),value:a.audioOutput,width:148})]})};var h=function(a){b("RTCUserSettingsActions").setAudioOutput(a)};c=function(){return{audioOutput:b("RTCUserSettingsStore").getState().audioOutput,audioOutputDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"audiooutput")}};e.exports=b("FluxContainer").createFunctional(a,function(){return[b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]},c)}),null);
__d("RTCPreCallUnvailableDeviceText.react",["React","SUIMessengerRTCDarkTheme","SUIText.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").jsxs("div",{className:a.className,children:[b("React").jsx(b("SUIText.react"),{color:"white",size:"header4",theme:b("SUIMessengerRTCDarkTheme"),weight:"bold",children:a.primaryText}),b("React").jsx(b("SUIText.react"),{color:"primary",palette:"dark",size:"header4",style:{marginLeft:"16px",marginTop:"8px"},textAlign:"center",theme:b("SUIMessengerRTCDarkTheme"),children:a.secondaryText})]})};e.exports=a}),null);
__d("RTCPreCallVideoPreview.react",["cx","fbt","FBRTCVideo.react","React","RTCP2PProtocolHandler","RTCPreCallUnvailableDeviceText.react","RTCUICameraIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={mediaStream:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props.videoInput;c!=null&&b("promiseDone")(this.$1(c).then(function(b){return a.setState({mediaStream:b})}))};d.componentDidUpdate=function(a,c){var d=this;a.videoInput!==this.props.videoInput&&b("promiseDone")(this.$1(this.props.videoInput).then(function(a){c.mediaStream&&b("RTCUtils").stopMediaStream(c.mediaStream),d.setState({mediaStream:a})}))};d.componentWillUnmount=function(){this.state.mediaStream!=null&&b("RTCUtils").stopMediaStream(this.state.mediaStream)};d.render=function(){return this.props.isVideoMuted?b("React").jsx(i,{children:b("React").jsx(j,{})}):b("React").jsx(i,{children:this.props.videoInput!=null?b("React").jsx("div",{children:b("React").jsx(b("FBRTCVideo.react"),{className:"_4fod",mediaStream:this.state.mediaStream,muted:!0})}):b("React").jsx(k,{})})};d.$1=function(a){return b("RTCUtils").getUserMediaWithFallbackToEmptyVideoConstraints({video:b("RTCUserMediaConstraints").video(b("RTCP2PProtocolHandler").getDefaultVideoQuality(),a)})};return c}(b("React").Component);var i=function(a){return b("React").jsx("div",babelHelpers["extends"]({},a,{className:"_68wu"}))},j=function(){return b("React").jsx("div",{className:"_6i3z",children:b("React").jsx(b("RTCUICameraIcon.react"),{className:"_6plt",strikeThrough:!0})})},k=function(){return b("React").jsx(b("RTCPreCallUnvailableDeviceText.react"),{className:"_6cky",primaryText:h._("Couldn't find your camera"),secondaryText:h._("Try connecting a different camera or use WorkChat on your mobile device")})};e.exports=a}),null);
__d("RTCPreCallCameraContainer.react",["cx","FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCMediaDevicesStore","RTCPreCallVideoPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(a){b("RTCUserSettingsActions").setVideoInput(a),d.props.onMediaDevicesChange&&d.props.onMediaDevicesChange({videoInput:a})};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]);return d}c.getStores=function(){return[b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){return{isVideoMuted:b("RTCCallStore").getState().localUser.isVideoMuted(),videoDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"videoinput"),videoInput:b("RTCUserSettingsStore").getState().videoInput}};var d=c.prototype;d.render=function(){var a=this.state,c=a.videoDevices;a=a.videoInput;a=a;a==null&&c.length>0&&(a=c[0].deviceId);return b("React").jsxs("div",{className:"_101o",children:[b("React").jsx(b("RTCPreCallVideoPreview.react"),{isVideoMuted:this.state.isVideoMuted,videoInput:a}),b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:this.state.isVideoMuted,onChange:this.$1,selectorType:"videoinput",theme:b("SUIMessengerRTCDarkTheme"),value:a,width:306})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCSettingsAudioInputPreview.react",["cx","fbt","AudioContextSingleton","React","cancelAnimationFrame","joinClasses","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PureComponent;var i={fftSize:32,minDecibels:-90,maxDecibels:-10,smoothingTimeConstant:1},j=Math.log2(128+1);c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={noAudioTrack:!1};d.$2=b("AudioContextSingleton").get();d.$3=d.$2.createGain();d.$3.gain.value=c.gain;d.$4=d.$2.createAnalyser();Object.assign(d.$4,i);return d}var d=c.prototype;d.$7=function(a){__p&&__p();var c=this;this.$8();if(!(a&&this.$1))return;if(a.getAudioTracks().length<1){this.setState({noAudioTrack:!0});return}var d=this.$1.getContext("2d");if(!d)return;this.$5&&this.$5.disconnect();this.$5=this.$2.createMediaStreamSource(a);this.$5.connect(this.$3);this.$3.connect(this.$4);a=this.$4.frequencyBinCount;var e=new Uint8Array(a);a=this.props;var f=a.width,g=a.height,h;a=function a(){c.$4.getByteTimeDomainData(e);var i=k(e,f,g,h);h=i;d.clearRect(0,0,f,g);d.fillStyle=c.props.fillStyle;d.fill(m(i,f,g));c.$6=b("requestAnimationFrame")(a)};this.$6=b("requestAnimationFrame")(a)};d.$8=function(){b("cancelAnimationFrame")(this.$6)};d.render=function(){var a=this,c=this.props,d=c.className,e=c.gain,f=c.height,g=c.width;c=babelHelpers.objectWithoutPropertiesLoose(c,["className","gain","height","width"]);var h=this.state.noAudioTrack;this.$3.gain.value=e;return b("React").jsxs("div",babelHelpers["extends"]({className:b("joinClasses")("_brl"+(h?" noAudioTrack":""),d)},c,{children:[h?b("React").jsx("span",{children:this.props.noMicMessage}):null,b("React").jsx("canvas",babelHelpers["extends"]({ref:function(b){return a.$1=b}},{width:g,height:f}))]}))};d.componentDidUpdate=function(a){var b=this.props.mediaStream;b!==a.mediaStream&&(this.setState({noAudioTrack:!1}),this.$7(b))};d.componentDidMount=function(){this.$7(this.props.mediaStream)};d.componentWillUnmount=function(){this.$8(),this.$5&&this.$5.disconnect(),this.$3&&this.$3.disconnect()};return c}(a);c.defaultProps={fillStyle:"rgba(255, 255, 255, .5)",gain:3.5,height:26,noMicMessage:h._("No mic"),width:106};function k(a,b,c,d){return[128].concat(l(a),[128]).map(function(a,e,f){a=c*(Math.log2(Math.abs(a)+1)/j);return{x:e*b/(f.length-1),y:d?Math.min(a,c-(c-d[e].y)*.95):a}})}function l(a){var b=[];for(var c=0;c*2<a.length;c++)b[c]=Math.min(a[c*2],a[c*2+1]||0);return b}function m(a,b,c){__p&&__p();var d=new Path2D();d.moveTo(0,c);a.forEach(function(b,c,a){switch(c){case 0:d.lineTo(b.x,b.y);break;case 1:break;case a.length-1:d.bezierCurveTo.apply(d,n(b,a[c-1],b));d.lineTo(b.x,b.y);break;case 2:d.lineTo((5*a[c-2].x+a[c-1].x)/6,(5*a[c-2].y+a[c-1].y)/6);default:d.bezierCurveTo.apply(d,n(b,a[c-2],a[c-1]))}});d.lineTo(b,c);d.closePath();return d}function n(a,b,c){return[(2*b.x+c.x)/3,(2*b.y+c.y)/3,(b.x+2*c.x)/3,(b.y+2*c.y)/3,(b.x+4*c.x+a.x)/6,(b.y+4*c.y+a.y)/6]}e.exports=c}),null);
__d("RTCPreCallMicPreview.react",["cx","React","RTCSettingsAudioInputPreview.react","RTCSVGIcon.react","RTCUIMicrophoneIcon.react","RTCUserMediaConstraints","RTCUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={mediaStream:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("promiseDone")(this.$1(this.props.audioInput).then(function(b){return a.setState({mediaStream:b})}))};d.componentDidUpdate=function(a,c){var d=this;a.audioInput!==this.props.audioInput&&b("promiseDone")(this.$1(this.props.audioInput).then(function(a){c.mediaStream&&b("RTCUtils").stopMediaStream(c.mediaStream),d.setState({mediaStream:a})}))};d.componentWillUnmount=function(){this.state.mediaStream!=null&&b("RTCUtils").stopMediaStream(this.state.mediaStream)};d.render=function(){var a=this.props.isAudioMuted;return a?b("React").jsx("div",{className:"_2848",children:b("React").jsx(h,{})}):b("React").jsxs("div",{className:"_2848",children:[b("React").jsx(i,{}),b("React").jsx(b("RTCSettingsAudioInputPreview.react"),{className:"_2-0x",gain:6,mediaStream:this.state.mediaStream})]})};d.$1=function(a){return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(a)})};return c}(b("React").Component);var h=function(){return b("React").jsx("div",{className:"_6i3z",children:b("React").jsx(b("RTCUIMicrophoneIcon.react"),{className:"_6plt",strikeThrough:!0})})},i=function(){var a;return(a=b("React")).jsx(b("RTCSVGIcon.react"),{style:{marginTop:"8px"},children:a.jsxs("svg",{fill:"none",height:"100",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"80",children:[a.jsx("path",{d:"M19 10v2a7 6 0 0 1-14 0v-2"}),a.jsx("line",{x1:"8",x2:"16",y1:"22",y2:"22"})]})})};e.exports=a}),null);
__d("RTCPreCallMicrophoneContainer.react",["cx","FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCMediaDevicesStore","RTCPreCallMicPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","SUIMessengerRTCDarkTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(a){b("RTCUserSettingsActions").setAudioInput(a),d.props.onMediaDevicesChange&&d.props.onMediaDevicesChange({audioInput:a})};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]);return d}c.getStores=function(){return[b("RTCCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){return{audioInput:b("RTCUserSettingsStore").getState().audioInput,audioDevices:b("RTCUtils").filterDevicesByKind(b("RTCMediaDevicesStore").getState(),"audioinput"),isAudioMuted:b("RTCCallStore").getState().localUser.isAudioMuted()}};var d=c.prototype;d.render=function(){var a=this.state,c=a.audioDevices;a=a.audioInput;a=a;a==null&&c.length>0&&(a=c[0].deviceId);return b("React").jsxs("div",{className:"_142c",children:[b("React").jsx(b("RTCPreCallMicPreview.react"),{audioInput:a,isAudioMuted:this.state.isAudioMuted}),b("React").jsx(b("RTCSettingsMediaDeviceSelector.react"),{buttonBorderedSides:["top"],buttonRoundedCorners:["bottomLeft","bottomRight"],devices:c,disabled:this.state.isAudioMuted,onChange:this.$1,selectorType:"audioinput",theme:b("SUIMessengerRTCDarkTheme"),value:a,width:148})]})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PActiveMediaDeviceContainer.react",["cx","fbt","FBLogger","FDSCheckboxInput.maintenance.react","FDSText.react","FluxContainer","React","RTCAppDispatcher","RTCMediaDevicesStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCPreCallAudioOutputContainer.react","RTCPreCallCameraContainer.react","RTCPreCallMicrophoneContainer.react","RTCUserSettingsActions","RTCUserSettingsStore","RTCUtils","RTWebUserActionLogger","WebStorage","dangerouslyBypassDispatchError","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="collab_local_devices";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$1=function(a){var d=a.audioInput?a.audioInput:c.state.audioInput;a=a.videoInput?a.videoInput:c.state.videoInput;b("RTCP2PProtocolHandler").initStream(!c.state.isAudioCall,d,a).then(function(a){return b("RTCP2PProtocolHandler").replaceLocalStream(a,!0)})["catch"](function(a){return l(a,"user_settings_changed")})};c.$2=function(a){if(a){var b=c.state,d=b.audioInput;b=b.videoInput;o({audioInput:d,videoInput:b})}c.setState({saveLocalDevices:a})};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCMediaDevicesStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]);return c}c.getStores=function(){return[b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){var a=b("RTCUserSettingsStore").getState();return{audioInput:a.audioInput,isAudioCall:b("RTCP2PCallStore").isAudioOnly(),saveLocalDevices:m(a.audioInput,a.videoInput),videoInput:a.videoInput}};var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=n();if(a!=null){var c=b("RTCMediaDevicesStore").getState(),d=b("RTCUserSettingsStore").getState(),e=d.audioInput;d=d.videoInput;var f=b("RTCUtils").isDevicePresent(c,a.audioInput);f&&a.audioInput!==e&&(this.$1({audioInput:a.audioInput}),b("dangerouslyBypassDispatchError")(function(){b("RTCUserSettingsActions").setAudioInput(a.audioInput)}));e=b("RTCUtils").isDevicePresent(c,a.videoInput);e&&a.videoInput!==d&&(this.$1({videoInput:a.videoInput}),b("dangerouslyBypassDispatchError")(function(){b("RTCUserSettingsActions").setVideoInput(a.videoInput)}));(!f||!e)&&p()}};d.render=function(){var a;return(a=b("React")).jsxs("div",{className:"_6p8b",children:[a.jsxs("div",{children:[a.jsx(b("RTCPreCallCameraContainer.react"),{onMediaDevicesChange:this.$1}),a.jsxs(k,{children:[a.jsx(b("RTCPreCallMicrophoneContainer.react"),{onMediaDevicesChange:this.$1}),a.jsx(b("RTCPreCallAudioOutputContainer.react"),{})]})]}),a.jsx("div",{className:"_75_l",children:a.jsx(b("FDSCheckboxInput.maintenance.react"),{label:a.jsx(b("FDSText.react"),{color:"white",display:"block",size:"header4",children:h._("Make these the default devices")}),onChange:this.$2,value:this.state.saveLocalDevices})})]})};return c}(b("React").PureComponent);var k=function(a){return b("React").jsx("div",{className:b("joinClasses")(a.className,"_4m1o"),style:a.style,children:a.children})};function l(a,c){b("RTWebUserActionLogger").logError({errorDomain:"get user media: error",errorType:JSON.stringify(a),surface:"call_container"})}var m=function(a,b){var c=n();return c==null?!1:a===c.audioInput&&b===c.videoInput},n=function(){var a=(i||(i=b("WebStorage"))).getLocalStorage();if(a!=null){a=a.getItem(j);if(a!=null)return JSON.parse(a)}return null},o=function(a){try{var c=(i||(i=b("WebStorage"))).getLocalStorage();c!=null&&c.setItem(j,JSON.stringify(a))}catch(a){b("FBLogger")("rtweb").catching(a).debug("Failed to store devices in local storage ")}},p=function(){var a=(i||(i=b("WebStorage"))).getLocalStorage();a!=null&&a.removeItem(j)};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCRemotePeerInfo.react",["cx","fbt","Image.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.meetingID,d=a.peer;return b("React").jsxs("div",{className:"_1h0c",children:[b("React").jsxs("div",{className:"_6f_i",children:[b("React").jsx("p",{className:"_6f_j",children:c!=null?"#"+c:d.userName}),b("React").jsx("p",{className:"_6f_k",children:b("React").jsx(i,{meetingID:a.meetingID,meetingPassword:a.meetingPassword,peer:d})})]}),b("React").jsx(b("Image.react"),{className:"_1h11",src:d.profilePictureUrl})]})};var i=function(a){var b=a.peer;return a.meetingID!=null?a.meetingPassword!=null?h._("Password: {number}",[h._param("number",a.meetingPassword)]):h._("Meeting ID"):b.roomLocation!=null?b.roomLocation:null};e.exports=a}),null);
__d("RTCPreCallSetup.react",["ix","cx","fbt","Image.react","React","RTCP2PActiveMediaDeviceContainer.react","RTCRemotePeerInfo.react","RTCTextButton.react","asset","cxMargin","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){switch(this.props.conferenceState){case"NEW":case"AWAITING_USER_START":return b("React").jsx(j,{callButtonLabel:this.props.meetingID!=null?i._("Join meeting"):i._("Start Call"),dataTestId:"RTCAppViewStartCallButton",isAudioMuted:this.props.isAudioMuted,isVideoMuted:this.props.isVideoMuted,meetingID:this.props.meetingID,meetingPassword:this.props.meetingPassword,onClick:this.$1(this.props.conferenceState),peer:this.props.peer,showEndCallReason:!1});case"TERMINATED":return b("React").jsx(j,{callButtonLabel:i._("Redial"),dataTestId:"rediallButton",endCallReason:this.props.endCallReason,isAudioMuted:this.props.isAudioMuted,isVideoMuted:this.props.isVideoMuted,meetingID:this.props.meetingID,meetingPassword:this.props.meetingPassword,onClick:this.$1(this.props.conferenceState),peer:this.props.peer,showEndCallReason:!0});default:return null}};d.$1=function(a){var b=this;return function(){return b.props.onClick(a)}};return c}(b("React").PureComponent);var j=function(a){var c;return(c=b("React")).jsxs("div",{className:"_4m1g",children:[c.jsxs("div",{className:"_6p8a",children:[c.jsx(b("RTCRemotePeerInfo.react"),{meetingID:a.meetingID,meetingPassword:a.meetingPassword,peer:a.peer}),c.jsxs("div",{className:"_2pil",children:[a.showEndCallReason?a.endCallReason?b("React").jsx("div",{className:"_6pls",children:a.endCallReason.toString(!0)}):null:b("React").jsx(k,{isAudioMuted:a.isAudioMuted,isVideoMuted:a.isVideoMuted}),b("React").jsx(b("RTCTextButton.react"),{className:"precall","data-testid":a.dataTestId,label:a.callButtonLabel,onClick:a.onClick})]})]}),b("React").jsxs("div",{children:[b("React").jsx(l,{className:"_3v59",children:i._("Test your camera and microphone")}),b("React").jsx(b("RTCP2PActiveMediaDeviceContainer.react"),{})]})]})},k=function(a){if(!a.isVideoMuted&&!a.isAudioMuted)return null;a.isVideoMuted?a=a.isAudioMuted?i._("You will be joining this call with your microphone and camera disabled"):i._("You will be joining this call with audio only"):a=i._("You will be joining the call with your microphone disabled");return b("React").jsxs("div",{className:"_6pls",children:[b("React").jsx("div",{className:"_6uo2",children:b("React").jsx(b("Image.react"),{src:g("504082")})}),b("React").jsx("div",{className:"_3-93",children:a})]})},l=function(a){return b("React").jsx("div",{className:b("joinClasses")(a.className,"_4m1o"),style:a.style,children:a.children})};e.exports=a}),null);
__d("RTCPreCallSetupContainer.react",["FBRTCLogger","FluxContainer","React","RTCAppDispatcher","RTCCallActions","RTCCallLogActions","RTCCallStore","RTCMediaDevicesStore","RTCOneVCStore","RTCP2PCallStore","RTCP2PProtocolHandler","RTCPreCallSetup.react","RTCUserSettingsStore","generateRTCCallID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$1=!0;b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallStore"),b("RTCOneVCStore"),b("RTCP2PCallStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore")]);b("RTCMediaDevicesStore").refresh();return c}c.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCOneVCStore")]};c.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=a.localUser;a=a.remoteUsers;var e=b("RTCP2PCallStore").getState();e=e.endCallReason;return{conferenceState:c.conferenceState,endCallReason:e,isAudioMuted:d.isAudioMuted(),isVideoMuted:d.isVideoMuted(),meetingID:b("RTCOneVCStore").getState().meetingID,meetingPassword:b("RTCOneVCStore").getState().meetingPassword,peer:a.first()}};var d=c.prototype;d.componentDidUpdate=function(a,c){if(this.$1&&this.state.conferenceState==="TERMINATED"){this.$1=!1;a=b("RTCUserSettingsStore").getState();c=a.audioInput;a=a.videoInput;b("RTCP2PProtocolHandler").initStream(!0,c,a).then(function(a){return b("RTCCallActions").addLocalStream(a)})["catch"](function(a){b("RTCCallLogActions").logEvent("get user media: error",{error:a.name,constraint:a.constraint,trigger:"redial"})})}};d.$2=function(a){if(a==="TERMINATED"){a=b("generateRTCCallID")().toString();b("RTCCallActions").resetForRedial(a,a);b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.REDIAL_BUTTON)}else b("RTCP2PCallStore").getState().protocolHandler.startCall(b("FBRTCLogger").Trigger.VC_PRECALL_SETUP)};d.render=function(){return b("React").jsx(b("RTCPreCallSetup.react"),babelHelpers["extends"]({},this.state,{onClick:this.$2}))};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PAppViewContent.react",["cx","fbt","FBRTCConfig","React","RTCAppSpinner.react","RTCAppViewMain.react","RTCCallConnectionStatus.react","RTCCallStateInfo.react","RTCCallUser.react","RTCEndOfCallSurvey.react","RTCP2PCallActions","RTCP2PIncallView.react","RTCP2PStartCallButton.react","RTCPreCallSetupContainer.react","RTCRingBackTone.react","RTCStarRating.react","RTWebCollabClientFeatureGating","SignalsSimpleFadeOutContainer.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();if(a.remoteUser==null)return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!0,children:b("React").jsx(b("RTCAppSpinner.react"),{})});var c=a.awaitingEscalationACK,d=a.conferenceState,e=a.connectionStatus,f=a.endCallReason,g=a.escalationInProgress,m=a.escalationRequest,n=a.isAudioCall,o=a.isRedialFooterButtonShown,p=a.isScreenContentPoppedOut,q=a.isStarRatingShown,r=a.remoteUser;switch(d){case"NEW":return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsxs(b("RTCCallStateInfo.react"),{children:[b("RTWebCollabClientFeatureGating").showPreCallSetup(a.isCaller)?b("React").jsx(b("RTCPreCallSetupContainer.react"),{}):b("React").jsx(b("RTCCallUser.react"),{isP2PCall:!0,user:r}),b("React").jsx(b("RTCAppSpinner.react"),{})]})});case"AWAITING_USER_START":return b("RTWebCollabClientFeatureGating").showPreCallSetup(a.isCaller)?b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsx(b("RTCCallStateInfo.react"),{children:b("React").jsx(b("RTCPreCallSetupContainer.react"),{})})}):b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsxs(b("RTCCallStateInfo.react"),{children:[b("React").jsx(b("RTCCallUser.react"),{isP2PCall:!0,user:r}),b("React").jsx(b("RTCCallConnectionStatus.react"),{children:h._("Ready to call?")}),b("React").jsx(b("RTCP2PStartCallButton.react"),{conferenceState:d,isAudio:n})]})});case"CONNECTING":case"CONNECTED":var s=m&&c||g;return b("React").jsxs(b("RTCAppViewMain.react"),{fullBleed:!n,children:[b("React").jsx(b("RTCP2PIncallView.react"),babelHelpers["extends"]({audioSinkID:a.audioOutput,renderScreenStreams:!p,user:r},{isAudioCall:n},{children:b("React").jsxs(b("RTCCallStateInfo.react"),{className:n?"":"_2fsu",children:[b("React").jsx(b("RTCCallUser.react"),{isP2PCall:!0,meetingID:a.meetingID,user:r}),b("React").jsx(b("RTCCallConnectionStatus.react"),babelHelpers["extends"]({connectionStatus:e},{children:s?b("React").jsx(i,{awaitingEscalationACK:c,escalationInProgress:g,escalationRequest:m}):null})),k(a.failureReason)]})})),b("React").jsx(j,{conferenceState:d,connectionStatus:e})]});case"TERMINATING":case"TERMINATED":if(q)return b("RTWebCollabClientFeatureGating").showTheNewEndCallSurvey()?b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsx(b("RTCEndOfCallSurvey.react"),{onDone:l,shouldCloseWindow:!1})}):b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsx(b("RTCStarRating.react"),babelHelpers["extends"]({isGroupCall:!1,onDone:l,shouldCloseWindow:!o},{isAudioCall:n}))});else return b("RTWebCollabClientFeatureGating").showPreCallSetup(a.isCaller)?b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsx(b("RTCCallStateInfo.react"),{children:b("React").jsx(b("RTCPreCallSetupContainer.react"),{})})}):b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1,children:b("React").jsxs(b("RTCCallStateInfo.react"),{children:[b("React").jsx(b("RTCCallUser.react"),{isP2PCall:!0,user:r}),b("React").jsx(b("RTCCallConnectionStatus.react"),babelHelpers["extends"]({connectionStatus:e},{children:f?f.toString(b("FBRTCConfig").isVCEndpointCall()):null}))]})})}return b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!1})};var i=function(a){if(a.escalationRequest)return a.awaitingEscalationACK?h._("Sending response..."):b("React").jsxs("div",{children:[h._("Would like to video chat..."),b("React").jsx("br",{}),b("React").jsx("div",{className:"_46la _43ut",children:h._("This will turn your video on.")})]});return a.escalationInProgress?h._("Requesting video..."):null},j=function(a){return a.conferenceState==="CONNECTING"?b("React").jsx(b("RTCRingBackTone.react"),{active:a.connectionStatus==="RINGING"}):null};function k(a){__p&&__p();var c;switch(a){case"denied":c=h._("The video request was denied...");break;case"cancelled":c=h._("The video request was cancelled...");break;case"timeout":c=h._("Video request timed out...");break;default:return null}return b("React").jsx("div",{className:"_46la",children:b("React").jsx(b("SignalsSimpleFadeOutContainer.react"),{delay:1,duration:2,children:c})})}function l(){b("RTCP2PCallActions").starRatingDone(!0)}e.exports=a}),null);
__d("RTCP2PAppViewContentContainer.react",["FluxContainer","React","RTCOneVCStore","RTCP2PAppViewContent.react","RTCP2PCallEscalationStore","RTCP2PCallStore","RTCUserSettingsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("RTCOneVCStore"),b("RTCP2PCallEscalationStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){var a=b("RTCP2PCallEscalationStore").getState(),c=b("RTCP2PCallStore").getState(),d=c.isCaller,e=c.isRedialFooterButtonShown;c=c.isStarRatingShown;var f=b("RTCUserSettingsStore").getState();f=f.audioOutput;return{audioOutput:f,awaitingEscalationACK:a.awaitingACK,escalationInProgress:a.inProgress,escalationRequest:Boolean(a.request),failureReason:a.failureReason,isCaller:d,isRedialFooterButtonShown:e,isStarRatingShown:c,meetingID:b("RTCOneVCStore").getState().meetingID}};var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCP2PAppViewContent.react"),babelHelpers["extends"]({},this.props,this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCCallControlsEscalationAcceptButton.react",["cx","React","RTCCallControlsButtonWithLabel.react","RTCUICameraIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);return b("React").jsx(b("RTCCallControlsButtonWithLabel.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"opaque redial icon-48"),"data-testid":"acceptEscalationButton"},a,{children:b("React").jsx(b("RTCUICameraIcon.react"),{})}))};e.exports=a}),null);
__d("RTCCallControlsEscalationDeclineButton.react",["cx","React","RTCCallControlsButtonWithLabel.react","RTCUIXIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var c=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["className"]);return b("React").jsx(b("RTCCallControlsButtonWithLabel.react"),babelHelpers["extends"]({className:b("joinClasses")(c,"icon-48 closeWindow")},a,{children:b("React").jsx(b("RTCUIXIcon.react"),{})}))};e.exports=a}),null);
__d("RTCCollabEndCallFooterContainer.react",["cx","FluxContainer","React","RTCAppViewFooter.react","RTCCallActions","RTCCallControls.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleVideoButton.react","RTCCallStore","RTCP2PCallStore","RTCP2PProtocolHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore")]};c.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo;a=a.localUser;c=c.conferenceState;return{conferenceState:c,initializeVideo:a.hasVideo(),localUser:a,wasStarRatingDone:b("RTCP2PCallStore").getState().wasStarRatingDone}};var d=c.prototype;d.render=function(){if(this.state.wasStarRatingDone||b("RTCP2PProtocolHandler").showRedialButton()){var a;return(a=b("React")).jsx(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.props.onResize,children:a.jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.props.onCallControlsResize,children:[a.jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:this.state.conferenceState,disabled:!1,initializeVideo:this.state.initializeVideo,isP2P:!0,onToggle:this.$1,videoMuted:this.state.localUser.isVideoMuted()}),a.jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:this.state.localUser.isAudioMuted()})]})})}return b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-7"})};d.$1=function(a){b("RTCCallActions").toggleMuteVideo(a)};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PAppViewFooterUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getScreenSharingCallControlPopoverBody:function(a,b,c,d,e){if(a)return d?g._("Screen sharing is not currently available for Messenger to room calls."):g._("Screen sharing is disabled for this call because {name}'s device does not support receiving screen shares.",[g._param("name",e)]);else if(b)return g._("{name} is already sharing their screen. You can share your screen as soon as they've stopped sharing.",[g._param("name",e)]);else if(c)return g._("Screen sharing is only available for video calls.");return null},getVideoCallControlPopoverTitle:function(a,b){return!a&&b?g._("Can't find camera"):null},getVideoCallControlPopoverBody:function(a,b,c,d){if(a)return g._("Video is disabled for this call because {name}'s device does not support video.",[g._param("name",d)]);else if(b)return g._("Connect your camera and refresh the page to turn on video. If your camera is already connected, try restarting your browser.");else if(c)return g._("Video is paused because the connection is slow.");return null}};e.exports=a}),null);
__d("RTCP2PAppViewFooter.react",["cx","fbt","Promise","requireCond","Bootloader","CollabRTCChromeScreenSharingExtension","FBRTCCallControlPopover.react","FBRTCConfig","FBRTCConsoleLogger","FBRTCPoorNetworkTooltip.react","cr:1230890","FBRTCSupport","MercuryIDs","MessengerParticipants.bs","React","RTCAppViewFooter.react","RTCCallActions","RTCCallControls.react","RTCCallControlsAddGroupMembersButton.react","RTCCallControlsButton.react","RTCCallControlsCloseWindowButton.react","RTCCallControlsEndCallButton.react","RTCCallControlsEscalationAcceptButton.react","RTCCallControlsEscalationDeclineButton.react","RTCCallControlsToggleAudioButton.react","RTCCallControlsToggleScreenSharingWithFunnelButton.react","RTCCallControlsToggleVideoButton.react","RTCCallControlsVideoEscalationButton.react","RTCCallStore","RTCChromeScreenSharingUtils","RTCCollabEndCallFooterContainer.react","RTCP2PAppViewFooterUtils","RTCP2PCallActions","RTCP2PCallEscalationActions","RTCP2PCallEscalator","RTCP2PProtocolHandler","RTCP2PRedialButton.react","RTCSelfView.react","RTCUIPhoneIcon.react","RTWebClientFeatureGating","RTWebStrings","RTWebUserActionLogger","UserAgent","gkx","immutable","keyMirror","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId,j=1e4,k=b("keyMirror")({READY:null,SHOWN:null,COMPLETE:null}),l=255,m=255,n=320;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={forceVisible:k.READY,participants:b("immutable").Map(),showPopovers:!0},d.$2=0,d.$4=0,d.$5=null,d.$8=0,d.$10=0,d.shouldAlwaysShowRedial=!1,d.$14=function(){d.props.protocolHandler.endCall()},d.$13=function(a){b("RTWebClientFeatureGating").stopVideoWhenMute()?a?b("promiseDone")(b("RTCP2PProtocolHandler").initStream(!0),function(a){var c=d.props.localUser.getStream();c?b("RTCCallActions").replaceLocalStream(c,a):b("RTCCallActions").addLocalStream(a)}):b("RTCCallActions").stopLocalVideo():b("RTCCallActions").toggleMuteVideo(a)},d.$17=function(){b("RTWebUserActionLogger").logClick({component:"video_escalate_accept",surface:"call_controls"}),b("RTCCallStore").mutateCallSummary(function(a){a.setVidEscalationAcceptedClick(),a.setVidEscalationMediaRequested()}),b("RTCP2PCallEscalator").acceptEscalation().then(function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaSuccess()})})["catch"](function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaFailed()}),d.$25("get user media: error",JSON.stringify({error:a.name,constraint:a.constraint,trigger:"escalation_approved"}))})},d.$19=function(){b("RTWebUserActionLogger").logClick({component:"video_escalate",surface:"call_controls"}),b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationInitClick()}),d.props.escalationInProgress?b("RTCP2PCallEscalationActions").cancel():(b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaRequested()}),b("RTCP2PCallEscalator").initEscalation().then(function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaSuccess()})})["catch"](function(a){b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationMediaFailed()}),b("RTWebUserActionLogger").logError({errorDomain:"video_escalation_error",errorType:a.toString()}),d.$25("get user media: error",JSON.stringify({error:a.name,constraint:a.constraint,trigger:"escalation_initiated"}))}))},d.$20=function(a){d.$9!==a&&(d.$9=a,d.forceUpdate())},d.$22=function(a){d.$7!==a&&(d.$7=a,d.forceUpdate())},d.$23=function(a){d.$1!==a&&(d.$1=a,d.forceUpdate())},d.$11=function(a){a=a.width;if(d.$10===a)return;d.$10=a;d.$26()},d.$12=function(a){a=a.width;if(d.$2===a)return;d.$2=a;d.$26()},d.$24=function(a){a=a.width;if(d.$2===a)return;d.$2=a},d.$18=function(a){d.setState({showPopovers:a})},d.$15=function(a){a=a.width;if(d.$8===a)return;d.$8=a;d.$26()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;if(b("gkx")("678353")){var c=b("MercuryIDs").getParticipantIDFromUserID(this.props.remoteUserID);b("MessengerParticipants.bs").get(c,function(d){var e;a.setState({participants:b("immutable").Map((e={},e[c]=d,e))})})}this.shouldAlwaysShowRedial=b("RTWebClientFeatureGating").shouldAlwaysShowRedial()};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.canPeerReceiveScreenSharing,e=c.conferenceState,f=c.escalationInProgress,g=c.hasRemoteScreenStream,i=c.initializeVideo,j=c.isAudioCall,l=c.isPoorNetworkQualityShown,m=c.isRedialFooterButtonShown,n=c.isRemoteVideoSupported,s=c.localUser,t=c.remotePeerName,u=c.protocolHandler;c=c.wasStarRatingDone;var v=this.state.participants,w=b("RTCP2PProtocolHandler").supportMultipleStreams(),x=s.getScreenStream(),y=b("gkx")("678353")&&this.props.offerEscalationSupport&&b("FBRTCSupport").isGroupCallWebtrcSupported(),z=i||s.hasVideo();switch(e){case"AWAITING_USER_START":if(b("FBRTCConfig").isVCEndpointCall()){var A;return(A=b("React")).jsx(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11,children:A.jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[A.jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:e,disabled:!b("FBRTCConfig").isVCEndpointCall(),initializeVideo:z,isP2P:!0,onToggle:this.$13,videoMuted:s.isVideoMuted()}),A.jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:s.isAudioMuted()})]})})}return b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-7"});case"CONNECTING":return b("React").jsxs(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11,children:[b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:e,disabled:!b("FBRTCConfig").isVCEndpointCall(),initializeVideo:z,isP2P:!0,onToggle:this.$13,videoMuted:s.isVideoMuted()}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:s.isAudioMuted()}),b("React").jsx(p,{conferenceState:e,disabled:!0,protocolHandler:u,stream:x}),b("React").jsx(b("RTCCallControlsEndCallButton.react"),{onClick:this.$14})]}),b("React").jsx(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!w,isAudioCall:j,isP2P:!0,onResize:this.$15,onScreenSharingStop:function(a){return u.stopScreenStream(a)},user:s})]});case"CONNECTED":if(this.props.escalationRequest){var A,B=this.props.awaitingEscalationACK;return(A=b("React")).jsx(b("RTCAppViewFooter.react"),{className:"_2s-6",children:A.jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",children:[A.jsx(b("RTCCallControlsEscalationDeclineButton.react"),{disabled:B,onClick:this.$16,title:h._("Decline")}),A.jsx(b("RTCCallControlsEscalationAcceptButton.react"),{disabled:B,onClick:this.$17,title:h._("Accept")})]})})}A=g||s.hasScreenStream();return b("React").jsxs(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11,children:[b("React").jsxs(b("RTCCallControls.react"),{autoHide:!j&&this.state.forceVisible!==k.SHOWN,className:"_2s-7",onResize:this.$12,onUpdateVisibility:this.$18,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[j&&n?b("React").jsx(b("RTCCallControlsVideoEscalationButton.react"),{onClick:this.$19,videoMuted:j&&!f}):b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:e,disabled:!n,initializeVideo:z,isP2P:!0,nodeRef:this.$20,onToggle:this.$13,videoMuted:s.isVideoMuted()}),this.state.showPopovers?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(o,{initializeVideo:i,isRemoteVideoSupported:n,localUser:s,peerName:t,referenceElement:this.$9,videoIsAutoDisabled:this.props.videoIsAutoDisabled}),b("RTWebClientFeatureGating").shouldShowNetworkQualityIndicator()?b("React").jsx(b("FBRTCPoorNetworkTooltip.react"),{onClick:this.$21,referenceElement:this.$9,shown:l&&s.hasVideo()&&!s.isVideoMuted()}):null]}):null]}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:s.isAudioMuted()}),b("React").jsx(p,{conferenceState:e,disabled:j||!d||g,nodeRef:this.$22,protocolHandler:u,stream:x}),this.state.showPopovers?b("React").jsx(q,{canPeerReceiveScreenSharing:d,hasRemoteScreenStream:g,isAudioCall:j,peerName:t,referenceElement:this.$7}):null,y?b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallControlsAddGroupMembersButton.react"),{conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,disabled:A,isP2P:!0,localUser:s,participants:v,ref:this.$23,remoteUsers:b("immutable").List(this.props.remoteUsers),showNux:this.props.showAddMemberNux,thread:null}),this.state.showPopovers&&A?b("React").jsx(r,{referenceElement:this.$1}):null]}):null,b("React").jsx(b("RTCCallControlsEndCallButton.react"),{onClick:this.$14})]}),b("React").jsx(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!w,isAudioCall:j,isP2P:!0,onResize:this.$15,onScreenSharingStop:function(a){return u.stopScreenStream(a)},user:s})]});case"TERMINATING":return b("React").jsxs(b("RTCAppViewFooter.react"),{className:"_2s-6",onResize:this.$11,children:[b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$12,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[b("React").jsx(b("RTCCallControlsToggleVideoButton.react"),{conferenceState:e,disabled:!0,initializeVideo:z,isP2P:!0,nodeRef:this.$20,onToggle:this.$13,videoMuted:!0}),b("React").jsx(b("RTCCallControlsToggleAudioButton.react"),{audioMuted:!0,disabled:!0}),b("React").jsx(p,{conferenceState:e,disabled:!0,nodeRef:this.$22,protocolHandler:u,stream:null}),b("React").jsx(b("RTCCallControlsEndCallButton.react"),{disabled:!0})]}),b("React").jsx(b("RTCSelfView.react"),{className:"_2s-8",hideCameraViewWhenScreenSharing:!w,isAudioCall:j,isP2P:!0,onResize:this.$15,user:s})]});case"TERMINATED":if(b("FBRTCConfig").isVCEndpointCall())return b("React").jsx(b("RTCCollabEndCallFooterContainer.react"),{onCallControlsResize:this.$12,onResize:this.$11});return m||c?b("React").jsxs(b("RTCAppViewFooter.react"),{className:"_2s-6",children:[b("cr:1230890")&&b("React").jsx(b("cr:1230890"),{isDarkTheme:!j}),b("React").jsxs(b("RTCCallControls.react"),{autoHide:!1,className:"_2s-7",onResize:this.$24,ref:function(b){return a.$3=b?b.getDOMNode():b},children:[b("React").jsx(b("RTCP2PRedialButton.react"),{icon:b("React").jsx(b("RTCUIPhoneIcon.react"),{variant:"start call"}),title:b("RTWebStrings").redial}),this.props.shouldHideCloseButton?null:b("React").jsx(b("RTCCallControlsCloseWindowButton.react"),{})]})]}):b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-7"});default:return b("React").jsx(b("RTCAppViewFooter.react"),{className:"_2s-7"})}};d.$21=function(){b("RTWebUserActionLogger").logClick({component:"poor_network_tooltip",surface:"call_controls"}),b("RTCP2PCallActions").togglePoorNetworkQualityIndicator(!1)};d.$16=function(){b("RTWebUserActionLogger").logClick({component:"video_escalate_decline",surface:"call_controls"}),b("RTCCallStore").mutateCallSummary(function(a){return a.setVidEscalationDeclinedClick()}),b("RTCP2PCallEscalator").declineEscalation()};d.$26=function(){__p&&__p();var a=this;if(this.$10===0||this.$2===0)return;var b=Math.min(0,this.$10/2-(this.$2/2+this.$8));if(b===this.$4)return;this.$4=b;if(this.$3){var c=this.$3.style;c.transition="none";this.$5=window.requestAnimationFrame(function(){c.transform="translateX("+a.$4+"px)",c.transition=""})}};d.$27=function(a){var b=this,c=this.props,d=c.localUser;c=c.videoIsAutoDisabled;a=a.forceVisible;c||d.hasStream()&&!d.hasVideo()?a===k.READY&&(this.setState({forceVisible:k.SHOWN}),this.$6=window.setTimeout(function(){b.setState({forceVisible:k.COMPLETE})},j)):a===k.SHOWN&&this.setState({forceVisible:k.COMPLETE})};d.$25=function(a,c){var d=this;if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(a,{peerID:d.props.remoteUserID,callID:Number(d.props.callID),eventDetails:c})},"RTCP2PAppViewFooter.react")};d.componentDidUpdate=function(a,b){this.$27(b)};d.componentWillUnmount=function(){window.cancelAnimationFrame(this.$5),window.clearTimeout(this.$6)};return c}(b("React").PureComponent);a.defaultProps={isRemoteVideoSupported:!0,videoIsAutoDisabled:!1};var o=function(a){var c=a.initializeVideo,d=a.isRemoteVideoSupported,e=a.localUser,f=a.peerName,g=a.referenceElement;a=a.videoIsAutoDisabled;var i=b("RTCP2PAppViewFooterUtils").getVideoCallControlPopoverTitle(!d,!e.hasVideo()&&c);d=b("RTCP2PAppViewFooterUtils").getVideoCallControlPopoverBody(!d,!e.hasVideo()&&c,a,f);return b("React").jsx(b("FBRTCCallControlPopover.react"),{body:d,className:"_26bw",hideOnBlur:!0,label:h._("Video error status"),referenceElement:g,title:i,width:n})},p=function(a){var c=a.conferenceState,d=a.disabled,e=a.nodeRef,f=a.protocolHandler;a=a.stream;return b("React").jsx(b("RTCCallControlsToggleScreenSharingWithFunnelButton.react"),{conferenceState:c,disabled:d,isP2P:!0,onExtensionInstallStart:function(){return b("UserAgent").isBrowser("Chrome")?b("CollabRTCChromeScreenSharingExtension").install(i()):b("Promise").reject("unexpected browser")},onShareStarted:function(a){return f.startScreenStream(a)},onShareStop:function(a){return f.stopScreenStream(a)},onShareStreamUpdate:function(a,b){return f.updateScreenStream(a,b)},ref:e,stream:a})},q=function(a){var c=a.canPeerReceiveScreenSharing,d=a.hasRemoteScreenStream,e=a.isAudioCall,f=a.peerName;a=a.referenceElement;var g=null;c=b("RTCP2PAppViewFooterUtils").getScreenSharingCallControlPopoverBody(!c,d,e,b("FBRTCConfig").isVCEndpointCall(),f);return b("React").jsx(b("FBRTCCallControlPopover.react"),{body:c,className:"_26bw",hideOnBlur:!0,label:h._("Screen-sharing status"),referenceElement:a,title:g,width:m})},r=function(a){a=a.referenceElement;var c=h._("Adding a participant is not allowed while screen-sharing is ongoing");return b("React").jsx(b("FBRTCCallControlPopover.react"),{body:c,className:"_26bw",hideOnBlur:!0,label:h._("Adding a participant is not allowed while screen-sharing is ongoing"),referenceElement:a,title:null,width:l})};e.exports=a}),null);
__d("RTCP2PAppViewFooterContainer.react",["FluxContainer","React","RTCAppDispatcher","RTCCallNUXStore","RTCCallStore","RTCP2PAppViewFooter.react","RTCP2PCallEscalationStore","RTCP2PCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCP2PCallEscalationStore"),b("RTCCallNUXStore")]};c.calculateState=function(){var a=b("RTCP2PCallEscalationStore").getState(),c=b("RTCP2PCallStore").getState(),d=b("RTCCallStore").getState();return{awaitingEscalationACK:a.awaitingACK,escalated:a.escalated,escalationInProgress:a.inProgress,escalationRequest:Boolean(a.request),isCaller:c.isCaller,isPoorNetworkQualityShown:c.isPoorNetworkQualityShown,isRedialFooterButtonShown:c.isRedialFooterButtonShown,offerEscalationSupport:c.offerEscalationSupport&&c.escalationConferenceName!==null,protocolHandler:c.protocolHandler,remoteUsers:d.remoteUsers,showAddMemberNux:b("RTCCallNUXStore").getState().showAddGroupMemberNUX,wasStarRatingDone:c.wasStarRatingDone}};function c(){var d;d=a.call(this)||this;b("RTCAppDispatcher").explicitlyRegisterStores([].concat(c.getStores()));return d}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCP2PAppViewFooter.react"),babelHelpers["extends"]({},this.props,this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCUIPopoutIcon.react",["React","RTCSVGIcon.react"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.filledWindow;c=c===void 0?"front":c;a=babelHelpers.objectWithoutPropertiesLoose(a,["filledWindow"]);return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 50 50",children:c==="front"?b("React").jsx("path",{d:"M26 23H14.012a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2H26a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm9.994-8H24.006a2 2 0 0 0-2 2v4.997h2V17h11.988v8h-6.967v2h6.967a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z"}):b("React").jsx("path",{d:"M36.01 14.996H24.02a2 2 0 0 0-2 2v4.997h4.028a3 3 0 0 1 3 3v2.003h6.96a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm-10.004 8.007H14.018a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11.988a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm0 10H14.018v-8h11.988v8z"})})}))};e.exports=a}),null);
__d("RTCCallControlsPopOutScreenContentButton.react",["cx","fbt","FluxContainer","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXStore","RTCP2PCallActions","RTCUIPopoutIcon.react","RTWebUserActionLogger","XUIAmbientNUX.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCCallNUXStore")]};c.calculateState=function(a){a===void 0&&(a={});return babelHelpers["extends"]({},a,{showNUX:b("RTCCallNUXStore").getState().showRemoteScreenContentPopOutNUX})};function c(c){var d;d=a.call(this,c)||this;d.$2=function(){b("RTWebUserActionLogger").logClick({component:"screensharing_pop_out_button",surface:d.props.surface}),d.props.onClick!=null?d.props.onClick():(d.state.showNUX&&i(),b("RTCP2PCallActions").togglePopOutScreenContent(d.props.mediaStream))};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")]);return d}var d=c.prototype;d.render=function(){var a=this,c=this.props.mediaStream==null,d=c?h._("Show Shared Content"):h._("Open Shared Content in New Window");return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")(this.props.className,"transparent icon-50"),onClick:this.$2,ref:function(b){return a.$1=b},title:this.props.title||d,children:b("React").jsx(b("RTCUIPopoutIcon.react"),{filledWindow:c?"back":"front"})}),b("React").jsx(j,{contextRef:function(){return a.$1},shown:this.state.showNUX&&this.props.mediaStream!=null})]})};d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({component:"screensharing_pop_out_button",surface:this.props.surface}),this.$3()};d.componentDidUpdate=function(){this.$3()};d.$3=function(){this.state.showNUX&&this.props.mediaStream!=null&&b("RTCCallNUXActions").markNUXViewed(4774)};return c}(b("React").PureComponent);function i(){b("RTCCallNUXActions").dismissNUX(4774)}var j=function(a){return b("React").jsx(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:i,position:"below",width:"auto"},a,{children:h._("Pop out shared content as a separate window")}))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCPushToTalkIcon.react",["cx","React","RTCSVGIcon.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return b("React").jsx(b("RTCSVGIcon.react"),{className:b("joinClasses")(a.className,"_6zy0"),children:b("React").jsx("svg",{viewBox:"0 0 48 48",children:b("React").jsx("path",{d:"M25 31c.7-.1 1.3-.3 1.9-.6l-.5-.9c-.6.3-1.2.5-1.9.5-2.5 0-4.5 -2.2-4.5-5v-5h-1v5.2c0 3.1 2.2 5.6 5 5.8v3h-3v1h7v-1h-3v-3z m-.5-2c.5 0 1-.1 1.4-.3L21 20.6v4.9c0 1.9 1.6 3.5 3.5 3.5z m-5.8-16l-.9.5L30.3 34l.9-.5L18.7 13zM30 25.2V20h-1v5c0 .8-.2 1.6-.5 2.2l.6 1c.6-.8.9-1.9.9-3zm-2 .3v-9c0-1.9-1.6-3.5-3.5 -3.5-1.5 0-2.7.9-3.2 2.2L28 26.3v-.8z"})})})};e.exports=a}),null);
__d("RTCCallControlsPushToTalkButton.react",["cx","fbt","React","RTCCallActions","RTCCallControlsButton.react","RTCHotKeys","RTCHotKeysConfig","RTCPushToTalkIcon.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RTCHotKeysConfig").RTCHotKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isPushKeyEnabled:!0},d.$2=function(a){__p&&__p();if(!d.props.isAudioMuted&&d.state.isPushKeyEnabled)return!1;if(a.type==="keydown"&&d.state.isPushKeyEnabled){d.setState(function(a){return{isPushKeyEnabled:!a.isPushKeyEnabled}});b("RTCCallActions").toggleMuteAudio(!0);return!0}if(a.type==="keyup"){d.setState({isPushKeyEnabled:!0});b("RTCCallActions").toggleMuteAudio(!1);return!0}return!1},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.isAudioMuted,c=this.state.isPushKeyEnabled;if(!a&&!c)return null;if(!a&&c)return null;a=h._("Push M to talk");return b("React").jsx(b("RTCCallControlsButton.react"),{className:"pushToTalk icon-48",disabled:!0,labelIsHidden:!1,onClick:b("emptyFunction"),title:a,children:b("React").jsx(b("RTCPushToTalkIcon.react"),{})})};d.componentDidMount=function(){this.$1=b("RTCHotKeys").register(i.PUSH_TO_TALK,b("emptyFunction"),this.$2)};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("RTCSettingsAudioOutputPreview.react",["cx","Promise","FBRTCLogger","FBRTCUtils","MercurySoundsConfig","React","ShimButton.react","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentTime:0,disabled:!0,duration:0,playing:!1},d.$5=function(){var a=d.$1;if(!a||d.state.disabled)return;d.state.playing?(a.pause(),a.currentTime=0,d.$11()):(d.setState({disabled:!0}),b("promiseDone")(b("Promise").resolve(a.play()),function(){return d.setState({disabled:!1})}))},d.$12=function(a){a&&(d.$2=a)},d.$13=function(a){a&&(a.volume=.3,d.$1=a)},d.$14=function(a){a=a.target;d.setState({disabled:!1,duration:a.duration})},d.$15=function(){window.clearInterval(d.$3);d.setState({playing:!0,currentTime:0});var a=Date.now(),b=function(){return d.setState({currentTime:(Date.now()-a)/1e3})};b();d.$3=window.setInterval(b,40)},d.$11=function(){window.clearInterval(d.$3),d.$3=window.setTimeout(function(){return d.setState({playing:!1,currentTime:0})},250)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").jsxs(b("ShimButton.react"),{className:"_7bn0",onClick:this.$5,tabIndex:0,children:[this.$6(),this.$7(),this.$8(),this.$9(),this.$10()]})};d.$6=function(){return b("React").jsx("audio",{ref:this.$12,autoPlay:!0})};d.$7=function(){return b("React").jsxs("audio",{ref:this.$13,autoPlay:!1,loop:!1,preload:"auto",onDurationChange:this.$14,onPlay:this.$15,onEnded:this.$11,children:[b("React").jsx("source",{src:b("MercurySoundsConfig").settings_preview_sound_mp3_url,type:"audio/mpeg"}),b("React").jsx("source",{src:b("MercurySoundsConfig").settings_preview_sound_ogg_url,type:"audio/ogg"})]})};d.$8=function(){var a=this.state.playing?b("React").jsx("path",{d:"M7 5h2v10H7V5zm4 0h2v10H11V5z"}):b("React").jsx("path",{d:"M7 6l6 4-6 4"});return b("React").jsx("svg",{className:"_7bn1 button",viewBox:"0 0 20 20",children:a})};d.$9=function(){var a=this.state,c=a.duration;a=a.currentTime;return b("React").jsx("div",{className:"_7bm4",children:b("React").jsx("div",{className:"_7bm5",style:{transform:"scaleX("+(c?a/c:0)+")"}})})};d.$10=function(){var a=this.state.playing?this.state.currentTime:this.state.duration;return b("React").jsx("div",{className:"_7bn1 text",children:Math.floor(a)+"s"})};d.componentDidMount=function(){var a=this,b=this.props,c=b.sinkID;b=b.mediaStream;this.$16(b);this.$4=window.setTimeout(function(){return a.$17(c)},1e3)};d.componentDidUpdate=function(a){var b=this.props,c=b.sinkID;b=b.mediaStream;b!==a.mediaStream?(this.$16(b),this.$17(c)):c!==a.sinkID&&this.$17(c)};d.$16=function(a){this.$2&&a&&b("FBRTCUtils").attachMediaStream(this.$2,a)};d.$17=function(a){window.clearTimeout(this.$4);if(!this.$18()||!a)return;[this.$2,this.$1].reduce(function(b,c){return c?b.then(function(){return c.setSinkId(a)}):b},b("Promise").resolve())["catch"](function(a){})};d.$18=function(){var a=HTMLAudioElement;a=a.prototype;return"sinkId"in a&&typeof a.setSinkId==="function"};d.componentWillUnmount=function(){this.$1&&this.$1.pause(),window.clearInterval(this.$3),window.clearTimeout(this.$4),this.$2=null,this.$1=null};return c}(a);c.defaultProps={sinkID:null};e.exports=c}),null);
__d("RTCSettingsDialog.react",["cx","fbt","FBRTCConfig","FBRTCLogger","FBRTCUtils","FBRTCVideo.react","Link.react","React","RTCDialog.react","RTCDialogBody.react","RTCDialogHeader.react","RTCDialogHeaderButton.react","RTCHotKeysConfig","RTCP2PProtocolHandler","RTCSettingsAudioInputPreview.react","RTCSettingsAudioOutputPreview.react","RTCSettingsMediaDeviceSelector.react","RTCUserMediaConstraints","RTCUserSettingsActions","RTCUtils","RTWebUserActionLogger","SUIMessengerRTCLightTheme","SUIText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={audioInput:d.props.audioInput,audioOutput:d.props.audioOutput,mediaStream:null,videoInput:d.props.videoInput},d.$2=function(){b("RTCUserSettingsActions").cancel(),b("RTWebUserActionLogger").logClick({surface:"setting_dialog",component:"cancel_button"}),d.props.onHideDialog()},d.$3=function(){var a=d.state,c=a.audioInput,e=a.audioOutput;a=a.videoInput;b("RTCUserSettingsActions").save({audioInput:c,audioOutput:e,videoInput:a});b("RTWebUserActionLogger").logClick({surface:"setting_dialog",component:"save_button"});d.props.onHideDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("RTCUserSettingsActions").edit(),b("RTWebUserActionLogger").logImpression({surface:"setting_dialog"}),this.$1()["catch"](s)};d.componentWillUnmount=function(){var a=this.state.mediaStream;a&&b("RTCUtils").stopMediaStream(a)};d.render=function(){var a=this;return!this.props.devices?null:b("React").jsxs(b("RTCDialog.react"),{label:"Video and audio call settings",onToggle:this.props.onHideDialog,width:564,children:[b("React").jsx(n,{onCancel:this.$2,onSave:this.$3}),b("React").jsxs(b("RTCDialogBody.react"),{children:[this.props.isAudioOnly?null:b("React").jsx(i,{devices:this.props.devices,mediaStream:this.state.mediaStream,onVideoInputChange:function(b){return a.$4({videoInput:b})},selectedVideoInput:this.state.videoInput}),b("React").jsx(j,{devices:this.props.devices,mediaStream:this.state.mediaStream,onAudioInputChange:function(b){return a.$4({audioInput:b})},selectedAudioInput:this.state.audioInput}),b("FBRTCUtils").supportsSetSink()?b("React").jsx(k,{devices:this.props.devices,mediaStream:this.props.remoteStream,onAudioOutputChange:function(b){return a.$4({audioOutput:b})},selectedAudioOutput:this.state.audioOutput}):null,b("React").jsx(l,{}),b("React").jsx(o,{})]})]})};d.$4=function(a){var b=this;this.setState(a,function(){b.$1()["catch"](s)})};d.$1=function(){var a=this,c=this.state,d=c.audioInput,e=c.mediaStream;c=c.videoInput;return b("RTCUtils").getUserMedia({audio:b("RTCUserMediaConstraints").audio(d),video:this.props.isAudioOnly?!1:b("RTCUserMediaConstraints").video(b("RTCP2PProtocolHandler").getDefaultVideoQuality(),c)}).then(function(c){e&&b("RTCUtils").stopMediaStream(e),a.setState({mediaStream:c})})};return c}(b("React").PureComponent);var i=function(a){var c;return(c=b("React")).jsxs(p,{className:"_10mn",children:[c.jsx(q,{children:c.jsx(r,{children:h._("Camera")})}),c.jsx(q,{children:c.jsx(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"videoinput"),onChange:a.onVideoInputChange,value:a.selectedVideoInput,width:212})}),c.jsx(q,{children:c.jsx(b("FBRTCVideo.react"),{className:"_10mo",mediaStream:a.mediaStream,muted:!0})})]})},j=function(a){var c;return(c=b("React")).jsxs(p,{className:"_10mn",children:[c.jsx(q,{children:c.jsx(r,{children:h._("Microphone")})}),c.jsx(q,{children:c.jsx(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"audioinput"),onChange:a.onAudioInputChange,value:a.selectedAudioInput,width:212})}),c.jsx(q,{children:c.jsx(b("RTCSettingsAudioInputPreview.react"),{mediaStream:a.mediaStream})})]})},k=function(a){var c;return(c=b("React")).jsxs(p,{className:"_10mn",children:[c.jsx(q,{children:c.jsx(r,{children:h._("Audio output")})}),c.jsx(q,{children:c.jsx(b("RTCSettingsMediaDeviceSelector.react"),{devices:b("RTCUtils").filterDevicesByKind(a.devices,"audiooutput"),onChange:a.onAudioOutputChange,value:a.selectedAudioOutput,width:212})}),c.jsx(q,{children:c.jsx(b("RTCSettingsAudioOutputPreview.react"),{mediaStream:a.mediaStream,sinkID:a.selectedAudioOutput})})]})},l=function(){var a,c=b("RTCHotKeysConfig").getSupportedHotKeys();return(a=b("React")).jsxs(p,{className:"_10mn",children:[a.jsx(q,{children:a.jsx(r,{children:h._("Keyboard shortcuts")})}),a.jsx("div",{className:"_6zxh",children:c.slice(0,Math.ceil(c.length/2)).map(function(a,c){return b("React").jsx(m,{keyConfig:a},c)})}),a.jsx("div",{className:"_6zxh",children:c.slice(Math.ceil(c.length/2),c.length).map(function(a,c){return b("React").jsx(m,{keyConfig:a},c)})})]})},m=function(a){a=a.keyConfig;var c=(a.altKey?"Alt + ":"")+a.key.toUpperCase();return b("React").jsxs("div",{className:"_6zxi",children:[b("React").jsx(b("SUIText.react"),{color:"placeholder",size:"body1",theme:b("SUIMessengerRTCLightTheme"),children:a.label}),b("React").jsx(b("SUIText.react"),{color:"placeholder",size:"body1",theme:b("SUIMessengerRTCLightTheme"),children:c})]},a.label)},n=function(a){var c;return(c=b("React")).jsxs(b("RTCDialogHeader.react"),{children:[c.jsx("h1",{className:"_10mm",children:h._("Settings")}),c.jsx(b("RTCDialogHeaderButton.react"),{label:h._("Cancel"),onClick:a.onCancel}),c.jsx(b("RTCDialogHeaderButton.react"),{"data-testid":"saveSettingsButton",label:h._("Save"),onClick:a.onSave})]})},o=function(){var a;return(a=b("React")).jsxs("footer",{className:"_10mv _10mn",children:[a.jsx(q,{children:a.jsx(b("SUIText.react"),{color:"placeholder",size:"header4",theme:b("SUIMessengerRTCLightTheme"),children:h._("Tip: Try restarting your browser if you're having trouble with your camera or microphone.")})}),a.jsx(q,{children:a.jsx(b("SUIText.react"),{color:"blueLink",size:"header4",theme:b("SUIMessengerRTCLightTheme"),children:a.jsx(b("Link.react"),{href:b("FBRTCConfig").userMediaErrorUrl(),target:"_blank",children:h._("Get help")})})})]})},p=function(a){var c=a.children,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className"]);return b("React").jsx("section",babelHelpers["extends"]({className:b("joinClasses")(d,"_10mx")},a,{children:c}))},q=function(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return b("React").jsx("div",babelHelpers["extends"]({className:"_10my"},a,{children:c}))},r=function(a){a=a.children;return b("React").jsx(b("SUIText.react"),{color:"placeholder",size:"header3",theme:b("SUIMessengerRTCLightTheme"),children:a})};function s(a){}e.exports=a}),null);
__d("RTCSettingsContainer.react",["FluxContainer","React","RTCAppDispatcher","RTCCallStore","RTCCallType","RTCMediaDevicesStore","RTCP2PCallStore","RTCSettingsDialog.react","RTCUserSettingsStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d){d=a.call(this,d)||this;b("RTCAppDispatcher").explicitlyRegisterStores([].concat(c.getStores()));b("RTCMediaDevicesStore").refresh();return d}c.getStores=function(){return[b("RTCMediaDevicesStore"),b("RTCCallStore"),b("RTCP2PCallStore"),b("RTCUserSettingsStore")]};c.calculateState=function(){var a=b("RTCCallStore").getState();a=a.remoteUsers;var c=b("RTCP2PCallStore").getState();c=c.callType;var d=b("RTCUserSettingsStore").getState(),e=d.audioInput,f=d.audioOutput;d=d.videoInput;a=a?a.first():null;return{audioInput:e,audioOutput:f,devices:b("RTCMediaDevicesStore").getState(),isAudioOnly:c===b("RTCCallType").AUDIO_ONLY,remoteStream:a?a.streams.first():null,videoInput:d}};var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCSettingsDialog.react"),babelHelpers["extends"]({},this.props,this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCUISettingsCogIcon.react",["React","RTCSVGIcon.react","RTCSVGIconDropShadowFilter.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1="",c.$2=function(a){a&&(c.$1=a.getURL(),c.forceUpdate())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.variant,d=a.shadow;a=babelHelpers.objectWithoutPropertiesLoose(a,["variant","shadow"]);if(d){return(d=b("React")).jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:d.jsxs("svg",{viewBox:"0 0 50 50",children:[d.jsx("defs",{children:d.jsx(b("RTCSVGIconDropShadowFilter.react"),{height:24,ref:this.$2,width:24})}),d.jsx("g",{filter:this.$1,children:d.jsx(g,{variant:c})})]})}))}return b("React").jsx(b("RTCSVGIcon.react"),babelHelpers["extends"]({},a,{children:b("React").jsx("svg",{viewBox:"0 0 50 50",children:b("React").jsx(g,{variant:c})})}))};return c}(b("React").PureComponent);a.defaultProps={variant:"outline"};var g=function(a){a=a.variant;return a==="outline"?b("React").jsxs("g",{strokeWidth:"2",children:[b("React").jsx("path",{d:"M34.1 23.4l-1.4-.2c-1.1-.2-1.7-1.5-1-2.4l.8-1.1c.3-.4.3-1-.1-1.3l-.9-.9c-.3-.4-.9-.4-1.3-.1l-1.1.8c-.9.7-2.2.1-2.4-1l-.2-1.4c-.1-.5-.5-.9-1-.9h-1.3c-.5 0-.9.4-1 .9l-.2 1.4c-.2 1.1-1.5 1.7-2.4 1l-1.1-.8c-.4-.3-1-.3-1.3.1l-.9.9c-.3.4-.4.9-.1 1.3l.8 1.1c.7.9.1 2.2-1 2.4l-1.4.2c-.5.1-.9.5-.9 1v1.3c0 .5.4.9.9 1l1.4.2c1.1.2 1.7 1.5 1 2.4l-.8 1.1c-.3.4-.3 1 .1 1.3l.9.9c.3.4.9.4 1.3.1l1.1-.8c.9-.7 2.2-.1 2.4 1l.2 1.4c.1.5.5.9 1 .9h1.3c.5 0 .9-.4 1-.9l.2-1.4c.2-1.1 1.5-1.7 2.4-1l1.1.8c.4.3 1 .3 1.3-.1l.9-.9c.4-.4.4-.9.1-1.3l-.8-1.1c-.7-.9-.1-2.2 1-2.4l1.4-.2c.5-.1.9-.5.9-1v-1.3c0-.5-.4-1-.9-1z",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),b("React").jsx("circle",{cx:"25",cy:"25",fill:"none",r:"3.5"})]}):b("React").jsx("path",{d:"M34.2 22.9l-1.4-.2c-.4-.1-.6-.3-.8-.6-.1-.3-.1-.7.1-1L33 20c.4-.6.4-1.4-.1-2l-.9-.9c-.3-.3-.7-.4-1.1-.4-.3 0-.6.1-.9.3l-1.1.8c-.2.1-.4.2-.6.2-.4 0-.9-.3-1-.9l-.2-1.4c-.1-.7-.7-1.3-1.5-1.3h-1.3c-.7 0-1.4.5-1.5 1.3l-.2 1.4c-.1.6-.6.9-1 .9-.2 0-.4-.1-.6-.2l-1-.8c-.3-.2-.6-.3-.9-.3-.4 0-.8.2-1.1.4l-.9.9c-.5.5-.6 1.4-.1 2l.8 1.1c.2.3.3.6.1 1-.1.3-.4.6-.8.6l-1.4.2c-.7.1-1.3.7-1.3 1.5v1.3c0 .7.5 1.4 1.3 1.5l1.4.2c.3.1.6.3.8.6s.1.7-.1 1l-.8 1c-.4.6-.4 1.4.1 2l.9.9c.3.3.7.4 1.1.4.3 0 .6-.1.9-.3l1.1-.8c.2-.1.4-.2.6-.2.4 0 .9.3 1 .9l.2 1.4c.1.7.7 1.3 1.5 1.3h1.3c.7 0 1.4-.5 1.5-1.3l.2-1.4c.1-.6.6-.9 1-.9.2 0 .4.1.6.2l1 .8c.3.2.6.3.9.3.4 0 .8-.2 1.1-.4l.9-.9c.5-.5.6-1.4.1-2l-.8-1.1c-.2-.3-.3-.7-.1-1 .1-.3.4-.6.8-.6l1.4-.2c.7-.1 1.3-.7 1.3-1.5v-1.3c-.1-.7-.6-1.3-1.4-1.4zM25 28.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"})};e.exports=a}),null);
__d("RTCCallControlsShowSettingsButton.react",["cx","fbt","FBRTCUserSettings","FluxContainer","React","RTCAppDispatcher","RTCCallControlsButton.react","RTCCallNUXActions","RTCCallNUXStore","RTCCallStore","RTCHotKeys","RTCHotKeysConfig","RTCSettingsContainer.react","RTCUISettingsCogIcon.react","RTWebUserActionLogger","XUIAmbientNUX.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RTCHotKeysConfig").RTCHotKey;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCCallNUXStore")]};c.calculateState=function(a){a===void 0&&(a={highlighted:!1,pressed:!1});return babelHelpers["extends"]({},a,{showNux:b("RTCCallNUXStore").getState().showSettingsNUX})};function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$3=function(){if(!b("FBRTCUserSettings").isEnabled())return;var a=babelHelpers.assertThisInitialized(d);a=a.context;a&&a.dialogShow&&a.dialogHide&&(a.dialogShow(b("React").jsx(b("RTCSettingsContainer.react"),{onHideDialog:d.$4})),d.setState({highlighted:!0}));d.state.showNux&&j();a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logClick(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!d.props.isP2P),component:"settings",surface:"call_controls"}))};d.$4=function(){d.setState({highlighted:!1}),d.context.dialogHide()};b("RTCAppDispatcher").explicitlyRegisterStores([b("RTCCallNUXStore")]);return d}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.state,d=c.highlighted;c=c.pressed;var e=this.props,f=e.isAudioOnly;e=e.className;c=d?c?"outline":"filled":c?"filled":"outline";return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallControlsButton.react"),{className:b("joinClasses")("transparent icon-50",e),"data-testid":"settingsButton",highlighted:d,onClick:this.$3,onMouseDown:function(){return a.setState({pressed:!0})},onMouseUp:function(){return a.setState({pressed:!1})},ref:function(b){return a.$2=b},title:h._("Settings"),children:b("React").jsx(b("RTCUISettingsCogIcon.react"),{shadow:!f,variant:c})}),b("React").jsx(k,{contextRef:function(){return a.$2},shown:this.state.showNux})]})};d.componentDidMount=function(){this.$5();var a=b("RTWebUserActionLogger").getWebLoggerInfoFromStore(b("RTCCallStore").getState());b("RTWebUserActionLogger").logImpression(babelHelpers["extends"]({},a,{callType:b("RTWebUserActionLogger").getCallType(!this.props.isP2P),component:"settings",surface:"call_controls"}));this.$1=b("RTCHotKeys").register(i.SETTINGS,this.$3)};d.componentDidUpdate=function(){this.$5()};d.$5=function(){this.state.showNux&&b("RTCCallNUXActions").markNUXViewed(4776)};d.componentWillUnmount=function(){var a=this.context;this.state.highlighted&&a&&a.dialogHide&&a.dialogHide();this.$1&&this.$1.remove()};return c}(b("React").PureComponent);a.contextTypes={dialogShow:b("prop-types").func,dialogHide:b("prop-types").func};function j(){b("RTCCallNUXActions").dismissNUX(4776)}var k=function(a){return b("React").jsx(b("XUIAmbientNUX.react"),babelHelpers["extends"]({alignment:"right",onCloseButtonClick:j,position:"below",width:"auto"},a,{children:h._("Change your microphone, camera and speaker devices")}))};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PAppViewHeader.react",["cx","FBRTCConfig","FBRTCUserSettings","JSResource","React","RTCAppViewHeader.react","RTCCallControls.react","RTCCallControlsChatButton.react","RTCCallControlsPopOutScreenContentButton.react","RTCCallControlsPushToTalkButton.react","RTCCallControlsShowSettingsButton.react","RTCCallControlsToggleFullScreenButton.react","RTCCallNUXStore","RTCP2PCallStore","RTWebCollabClientFeatureGating","UserAgent","lazyLoadComponent","BootloaderResource"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=(a=b("lazyLoadComponent"))((c=b("JSResource"))("RTCCallControlsShowCameraControlsButton.react").__setRef("RTCP2PAppViewHeader.react")),i=a(c("RTCMediaStateController.react").__setRef("RTCP2PAppViewHeader.react")),j=a(c("RTCCallControlsMeetingRosterContainer.react").__setRef("RTCP2PAppViewHeader.react")),k=a(c("RTCDtmfController.react").__setRef("RTCP2PAppViewHeader.react"));d=function(a){__p&&__p();var c=a.callID,d=a.conferenceName,e=a.conferenceState,f=a.isAudioCall,g=a.isScreenContentPoppedOut,o=a.remoteUser,p=!n({callID:c,conferenceName:d,conferenceState:e,isAudioCall:f,isScreenContentPoppedOut:g,remoteUser:o});if(b("FBRTCConfig").isVCEndpointCall()){var q,r;(q=b("BootloaderResource")).preload((r=b("JSResource"))("RTCMediaStateController.react").__setRef("RTCP2PAppViewHeader.react"));q.preload(r("RTCDtmfController.react").__setRef("RTCP2PAppViewHeader.react"));q.preload(r("RTCCallControlsShowCameraControlsButton.react").__setRef("RTCP2PAppViewHeader.react"));q.preload(r("RTCCallControlsMeetingRosterContainer.react").__setRef("RTCP2PAppViewHeader.react"))}switch(e){case"AWAITING_USER_START":if(b("FBRTCConfig").isVCEndpointCall()){return(q=b("React")).jsx(b("RTCAppViewHeader.react"),babelHelpers["extends"]({isAudioCall:f},{children:q.jsxs(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:p},{children:[q.jsx(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:f}),q.jsx(m,{isAudioOnly:f,peer:o}),q.jsx(b("RTCCallControlsChatButton.react"),{conferenceState:e,isP2P:!0})]}))}))}return b("React").jsx(l,{autoHide:p,callID:c,conferenceName:d,conferenceState:e,isAudioCall:f});case"CONNECTED":r=b("RTWebCollabClientFeatureGating").showPushToTalk();return b("React").jsx(b("RTCAppViewHeader.react"),babelHelpers["extends"]({isAudioCall:f},{children:b("React").jsxs(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:p},{children:[r?b("React").jsx("div",{className:"_6zx7",children:b("React").jsx(b("RTCCallControlsPushToTalkButton.react"),{isAudioMuted:a.localUser.isAudioMuted()})}):null,o&&o.hasScreenStream()?b("React").jsx(b("RTCCallControlsPopOutScreenContentButton.react"),{mediaStream:g?null:o.getScreenStream(),surface:"call_container"}):null,b("FBRTCConfig").isVCEndpointCall()?b("React").jsxs(b("React").Suspense,{fallback:null,children:[b("React").jsx(h,{}),b("React").jsx(i,{}),b("React").jsx(k,{})]}):null,b("React").jsx(b("RTCCallControlsToggleFullScreenButton.react"),{isAudioOnly:f}),b("React").jsx(m,{isAudioOnly:f,peer:o}),b("RTWebCollabClientFeatureGating").showParticipantsRoster()?b("React").jsx(j,{}):null,b("React").jsx(b("RTCCallControlsChatButton.react"),{conferenceState:e,isP2P:!0})]}))}));default:return b("React").jsx(l,{autoHide:p,callID:c,conferenceName:d,conferenceState:e,isAudioCall:f})}};var l=function(a){var c=a.autoHide;a.callID;a.conferenceName;var d=a.conferenceState;a=a.isAudioCall;return b("React").jsx(b("RTCAppViewHeader.react"),babelHelpers["extends"]({isAudioCall:a},{children:b("React").jsx(b("RTCCallControls.react"),babelHelpers["extends"]({compact:!0},{autoHide:c},{children:b("React").jsx(b("RTCCallControlsChatButton.react"),{conferenceState:d,isP2P:!0})}))}))},m=function(a){var c=a.isAudioOnly;a=a.peer;var d=b("RTCP2PCallStore").getState();d=d.isPeerOnMobile;d=d&&b("UserAgent").isBrowser("Firefox");d=b("FBRTCUserSettings").isEnabled()&&!d;return d?b("React").jsx(b("RTCCallControlsShowSettingsButton.react"),{isAudioOnly:c,isP2P:!0,remoteStream:a?a.streams.first():null}):null};function n(a){__p&&__p();a.callID;a.conferenceName;var c=a.conferenceState,d=a.isAudioCall,e=a.isScreenContentPoppedOut;a=a.remoteUser;if(d)return!0;if(c!=="CONNECTED")return!1;d=b("RTCCallNUXStore").getState();c=d.showRemoteCameraControlsNUX;var f=d.showRemoteScreenContentPopOutNUX,g=d.showRemoteStreamsSliderNUX;d=d.showSettingsNUX;return d||b("FBRTCConfig").isVCEndpointCall()&&c||!!a&&a.hasScreenStream()&&!e&&(g||f)}e.exports=d}),null);
__d("RTCP2PAppView.react",["cx","CssBackgroundImage.react","FBRTCPoorNetworkNotification.react","MercuryIDs","MessengerParticipants.bs","React","RTCAppSpinner.react","RTCAppView.react","RTCAppViewFooter.react","RTCAppViewHeader.react","RTCAppViewMain.react","RTCConferenceState","RTCGrantUserMediaAccessView.react","RTCP2PAppViewContentContainer.react","RTCP2PAppViewFooterContainer.react","RTCP2PAppViewHeader.react","RTCP2PCallActions","RTCPeerConnectionStats.react","RTCUserMediaRequestState","RTWebClientFeatureGating"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.callID,d=a.conferenceName,e=a.conferenceState,f=a.initializeVideo,g=a.isAudioCall,h=a.isScreenContentPoppedOut,i=a.isPoorNetworkQualityShown,j=a.localUser,k=a.remoteUser,l=a.userMediaRequest;switch(l.state){case b("RTCUserMediaRequestState").PENDING:case b("RTCUserMediaRequestState").REJECTED:return b("React").jsxs(b("RTCAppView.react"),{isAudioCall:g,children:[b("React").jsx(b("RTCAppViewHeader.react"),{isAudioCall:g}),b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!0,children:b("React").jsx(b("RTCGrantUserMediaAccessView.react"),{isAudioCall:g,userMediaRequest:l})}),b("React").jsx(b("RTCAppViewFooter.react"),{})]});case b("RTCUserMediaRequestState").FULFILLED:l=b("MercuryIDs").getParticipantIDFromUserID(a.remoteUserFBID);l=b("MessengerParticipants.bs").getNow(l);return b("React").jsxs(b("RTCAppView.react"),{isAudioCall:g&&!a.acceptedEscalation,children:[b("RTWebClientFeatureGating").callUnification()?b("React").jsx(b("CssBackgroundImage.react"),{backgroundPosition:"center center",className:"_6qmp",height:"100%",imageURI:l.image_src,width:"100%"}):null,b("React").jsx(b("RTCP2PAppViewHeader.react"),{callID:c,conferenceName:d,conferenceState:e,isAudioCall:g,isScreenContentPoppedOut:h,localUser:j,remoteUser:k}),b("React").jsx(b("RTCP2PAppViewContentContainer.react"),{conferenceName:a.conferenceName,conferenceState:e,connectionStatus:a.connectionStatus,endCallReason:a.endCallReason,isAudioCall:g,isScreenContentPoppedOut:h,remoteUser:k}),b("React").jsx(b("RTCP2PAppViewFooterContainer.react"),{callID:c,canPeerReceiveScreenSharing:a.canPeerReceiveScreenSharing,conferenceName:d,conferenceState:e,hasRemoteScreenStream:k?k.hasScreenStream():!1,initializeVideo:f,isAudioCall:g,localUser:a.localUser,remotePeerName:k?k.userName:"",remoteUserID:k?k.FBID:"",shouldHideCloseButton:a.shouldHideCloseButton}),b("RTWebClientFeatureGating").shouldShowNetworkQualityIndicator()?b("React").jsx(b("FBRTCPoorNetworkNotification.react"),{onClick:function(){b("RTCP2PCallActions").togglePoorNetworkQualityIndicator(!1)},shown:i&&(g||j.isVideoMuted())&&e==="CONNECTED"}):null,b("React").jsx(b("RTCPeerConnectionStats.react"),{connection:a.connection,style:{marginBottom:40}})]});default:return b("React").jsxs(b("RTCAppView.react"),{isAudioCall:g,children:[b("React").jsx(b("RTCAppViewHeader.react"),{isAudioCall:g}),b("React").jsx(b("RTCAppViewMain.react"),{fullBleed:!0,children:b("React").jsx(b("RTCAppSpinner.react"),{})}),b("React").jsx(b("RTCAppViewFooter.react"),{})]})}};e.exports=a}),null);
__d("RTCP2PAppViewContainer.react",["FBRTCScreenSharingUtils","FluxContainer","React","RTCAppDispatcher","RTCP2PAppView.react","RTCP2PCallEscalationStore","RTCP2PCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("RTCP2PCallEscalationStore"),b("RTCP2PCallStore")]};c.calculateState=function(){var a=b("RTCP2PCallStore").getState(),c=a.connectionStatus,d=a.endCallReason,e=a.isPoorNetworkQualityShown,f=a.isScreenContentPoppedOut;a=a.signalingExperiments;return{acceptedEscalation:b("RTCP2PCallEscalationStore").getState().response,connectionStatus:c,endCallReason:d,canPeerReceiveScreenSharing:b("FBRTCScreenSharingUtils").canPeerReceiveScreenSharing(a),isAudioCall:b("RTCP2PCallStore").isAudioOnly(),isScreenContentPoppedOut:f,isPoorNetworkQualityShown:e}};function c(){var d;d=a.call(this)||this;b("RTCAppDispatcher").explicitlyRegisterStores([].concat(c.getStores()));return d}var d=c.prototype;d.render=function(){return b("React").jsx(b("RTCP2PAppView.react"),babelHelpers["extends"]({},this.props,this.state))};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCP2PUnloadHandler",["FBRTCCallSummaryStore","FBRTCConstants","RTCCallStore","RTCP2PCallStore","RTCUserMediaRequestState","RTWebUserActionLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=b("RTCCallStore").getState(),d=c.callInfo;c=c.callSummary;if(d.conferenceState==="TERMINATED")return;if(d.conferenceState==="NEW"||d.conferenceState==="AWAITING_USER_START"){c.onCallEnded(b("FBRTCConstants").CallEndReason.HANGUP_CALL,!1,null,"DidNotInitiate");c.save(b("FBRTCCallSummaryStore").getInstance());return}d=b("FBRTCConstants").CallEndReason.HANGUP_CALL;c="BrowserClosed";if(a.state===b("RTCUserMediaRequestState").PENDING)d=b("FBRTCConstants").CallEndReason.CLIENT_ERROR,c="MediaPending";else if(a.state===b("RTCUserMediaRequestState").REJECTED){a=a.error;d=b("FBRTCConstants").CallEndReason.CLIENT_ERROR;c=!a||a.name==="NotAllowedError"?"MediaDenied":a.getEndCallSubReason()}a=b("RTCP2PCallStore").getState();a=a.protocolHandler;b("gkx")("896198")?(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"async onunload endcall"}),a.endCall(d,c,!1)):(b("RTWebUserActionLogger").logCheckpoint({checkpoint:"sync onunload endcall"}),a.endCall(d,c,!0))}e.exports={handleUnload:a}}),null);
__d("MessengerRTCUserMediaErrorDialog.react",["cx","fbt","FluxContainer","MessengerDialog.react","MessengerDialogBody.react","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogTitleReact.re","React","RTCCallStore","RTWebUserActionLogger","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerDialogTitleReact.re").make,j=300,k=function(a){return b("React").jsx("h2",{className:b("joinClasses")("_4ebz","_6dxt"),children:a.children})};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state=babelHelpers["extends"]({},c.calculateState()),b)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("RTCCallStore")]};c.calculateState=function(){return{conferenceState:b("RTCCallStore").getState().callInfo.conferenceState}};var d=c.prototype;d.componentDidMount=function(){var a=this.props,c=a.conferenceName;a=a.isGroupCall;b("RTWebUserActionLogger").logImpression({surface:"audio_fallback_dialog",conferenceState:this.state.conferenceState,callType:b("RTWebUserActionLogger").getCallType(a),conferenceName:c})};d.render=function(){if(this.state.conferenceState!=="TERMINATED"){var a;return(a=b("React")).jsxs(b("MessengerDialog.react"),{onToggle:this.props.onUnmount,type:"default",width:j,children:[a.jsx(k,{children:a.jsx(i,{children:h._("Can't find camera")})}),a.jsx(b("MessengerDialogBody.react"),{className:"_233q",children:h._("Connect your camera and refresh the Page to turn on video. If your camera is already connected, try restarting your browser.")}),a.jsx(b("MessengerDialogFooter.react"),{children:a.jsx(b("MessengerDialogButton.react"),{className:"_30vt _233r",label:h._("OK"),onClick:this.props.onUnmount,type:"primary",use:"default"})})]})}else return null};return c}(b("React").Component);e.exports=b("FluxContainer").create(a)}),null);
__d("RTCUserMediaErrorDialogController",["DOM","MessengerRTCUserMediaErrorDialog.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={_container:b("DOM").create("div"),_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._container)},showMediaErrorDialog:function(a,c){var d=this;b("ReactDOM").render(b("React").jsx(b("MessengerRTCUserMediaErrorDialog.react"),{conferenceName:c,isGroupCall:a,onUnmount:function(){return d._onUnmount()}}),this._container)}};e.exports=a}),null);
__d("RTCUserMediaRequest",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({error:null,state:null});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("RTWebGetUserMediaWithRetryOnPermissionChange",["Promise","DateConsts","UserAgent","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2*b("DateConsts").MS_PER_SEC;function h(a,c,d,e){__p&&__p();return d()["catch"](function(f){__p&&__p();e&&e(f);var i=window.navigator.permissions;if(b("UserAgent").isBrowser("Chrome")&&i&&i.query)return new(b("Promise"))(function(a,b){__p&&__p();i.query({name:"microphone"}).then(function(e){if(e.state==="granted"){b(f);return}var h=window.setTimeout(function(){return b(f)},c*g);e.onchange=function(){e.state==="granted"&&(window.clearTimeout(h),a(d()))}})["catch"](function(a){throw f})});else return new(b("Promise"))(function(e,i){f.name==="NotAllowedError"&&a<c?window.setTimeout(function(){h(a+1,c,d,b("emptyFunction")).then(function(a){return e(a)})["catch"](function(a){return i(a)})},g):i(f)})})}a={gen:function(a,b,c){return h(0,a,b,c)}};e.exports=a}),null);
__d("RTCP2PCallView.react",["cx","fbt","PageHooks","Bootloader","CSS","FBRTCConfig","FBRTCConstants","FBRTCLogger","FBRTCMessageListener","FBRTCStatsHelpers","FBRTCSupport","MercuryIDs","MessengerBugNub.react","React","RTCAppView.react","RTCCallActions","RTCCallInitUtils","RTCCallStore","RTCCallType","RTCChatViewWrapper.react","RTCEndCallQPSurface.react","RTCMediaDevices","RTCP2PAppViewContainer.react","RTCP2PCallActions","RTCP2PCallWindowHandler","RTCP2PProtocolHandler","RTCP2PUnloadHandler","RTCUserMediaErrorDialogController","RTCUserMediaRequest","RTCUserMediaRequestState","RTWebClientFeatureGating","RTWebCollabClientFeatureGating","RTWebGetUserMediaWithRetryOnPermissionChange","RTWebMobileCallView.react","RTWebUserActionLogger","Run","gkx","immutable","debounce"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();b("PageHooks");var i=b("FBRTCConstants").SignalingProtocol,j=60,k=150;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={userMediaRequest:new(b("RTCUserMediaRequest"))()};d.$1=null;d.$2=b("FBRTCLogger").getInstance();d.$3={};d.$4={};d.$5=function(){return d.props.conferenceState==="CONNECTED"||d.props.conferenceState==="CONNECTING"?h._("Leaving this page will end your call."):null};d.$6=function(){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"window_unload"}),b("RTCP2PUnloadHandler").handleUnload(d.state.userMediaRequest)};d.$9=b("debounce")(function(){b("RTWebUserActionLogger").logClick({component:"window_resize",surface:"call_container"})},2e3);if(!c.allowsMWEscalation){c=d.props.conferenceName;b("RTCCallActions").initialize({protocol:i.P2P,conferenceName:c,serverInfoData:null,callID:c});b("RTCP2PCallActions").setCallType(d.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO)}b("RTCP2PCallActions").setIsCaller(d.props.isCaller);return d}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;b("RTCP2PCallWindowHandler").init(window);b("gkx")("939162")?(this.$3=b("Run").onBeforeUnload(this.$5,!1),this.$4=b("Run").onUnload(this.$6)):(b("Run").onBeforeUnload(this.$5,!1),b("Run").onUnload(this.$6));document.documentElement!=null&&b("CSS").addClass(document.documentElement,"_2ujx");this.$2.logCallAction(this.$7(),this.$8(),b("FBRTCLogger").CallAction.POPUP_OPENED);window.addEventListener("resize",this.$9);b("RTCCallInitUtils").initializeCallSummary({peerID:this.$7(),callID:String(this.$8()),isCaller:this.props.isCaller,isAudio:this.props.isInitiallyAudioCall,protocol:b("FBRTCConstants").SignalingProtocol.P2P});this.props.protocolHandler.init(this.$7(),this.$8());var c=[this.props.localUser.FBID,this.props.remoteUserFBID];b("RTCCallInitUtils").initializeRTCUsers(c,function(){a.$1=window.setTimeout(function(){a.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("state",a.state||b("RTCUserMediaRequestState").PENDING)}})},2e3),b("RTWebUserActionLogger").logStopTimer({timerName:"PreGetUserMediaRequestTimer",checkpointName:"CallStart_PreGetUserMediaRequest"}),b("RTWebUserActionLogger").startTimer("GetUserMediaRequestTimer"),a.$10().then(function(c){window.clearTimeout(a.$1),b("RTCCallActions").addLocalStream(c),b("RTWebUserActionLogger").logStopTimer({timerName:"GetUserMediaRequestTimer",checkpointName:"CallStart_GetUserMediaRequest"}),a.$11()})["catch"](l)})};d.$7=function(){return this.props.remoteUserFBID};d.$8=function(){return Number(this.props.conferenceName)};d.$12=function(){return b("RTCP2PProtocolHandler").initStream(this.props.initializeVideo)};d.$13=function(){var a=this,c=this.props.isCaller?k:j;return b("RTWebGetUserMediaWithRetryOnPermissionChange").gen(c,function(){return a.$12()},function(c){a.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("error",c).set("state",b("RTCUserMediaRequestState").REJECTED)}})})};d.$10=function(){__p&&__p();var a=this;b("RTCCallStore").mutateCallSummary(function(a){return a.onMediaRequested()});return this.$12().then(function(c){__p&&__p();var d=!a.props.isInitiallyAudioCall,e=c.getVideoTracks().length>0;if(d&&!e){b("RTCCallStore").mutateCallSummary(function(a){return a.onFellbackToAudio()});d=a.props.conferenceName;e=b("RTWebCollabClientFeatureGating").showPreCallSetup(a.props.isCaller);!e&&a.props.initializeVideo&&b("RTCUserMediaErrorDialogController").showMediaErrorDialog(!1,d)}a.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("state",b("RTCUserMediaRequestState").FULFILLED)}});b("RTCCallStore").mutateCallSummary(function(a){a.onMediaSucceeded()});b("RTCMediaDevices").enumerateDevices().then(function(a){b("RTCCallStore").mutateCallSummary(function(d){b("FBRTCStatsHelpers").logCapabilities(d,c,a)})})["catch"](l);return c})["catch"](function(c){a.setState(function(a){a=a.userMediaRequest;return{userMediaRequest:a.set("error",c).set("state",b("RTCUserMediaRequestState").REJECTED)}});a.props.connectionStatus==="INIT"&&b("RTCCallStore").mutateCallSummary(function(a){return a.onCallEnded(b("FBRTCConstants").CallEndReason.CLIENT_ERROR,!1,!0,"MediaDenied: "+c.name+", "+c.constraint)});a.$14(c,"user_media_request");throw c})};d.$11=function(){var a=this;b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallView_startCall"});b("RTWebUserActionLogger").startTimer("fetchTurnCredentialsTimer");this.props.protocolHandler.fetchTURNCredentials().then(function(){b("RTWebUserActionLogger").logStopTimer({timerName:"fetchTurnCredentialsTimer",checkpointName:"CallStart_fetchTurnCredentialsTimer"}),m()?a.$15():a.$16()})["catch"](function(a){b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallView_startCall_start_call_failed"})})};d.$16=function(){var a=this;b("RTWebUserActionLogger").startTimer("StartCall");var c=!1;b("FBRTCMessageListener").setParentWindowStartCallHandler(function(d){c=!0,a.props.protocolHandler.startCall(void 0,d),b("RTWebUserActionLogger").logStopTimer({timerName:"StartCall",checkpointName:"CallStart_StartCall"}),b("RTWebUserActionLogger").logStopTimer({timerName:"InCallStartFlowTimer",checkpointName:"CallStart_InCallStartFlowTimer"})});b("FBRTCMessageListener").init(!0,this.$7());window.setTimeout(function(){c||(b("RTWebUserActionLogger").startTimer("WaitForUserInputTimer"),b("FBRTCMessageListener").setParentWindowStartCallHandler(null),b("RTCCallActions").waitForUserInput())},1500)};d.$15=function(){b("FBRTCMessageListener").init(!0,this.$7()),this.props.protocolHandler.startCall("mweb_p2p_call",null)};d.$14=function(a,b){this.$17("get user media: error",JSON.stringify({error:a.name,constraint:a.constraint,trigger:b}))};d.$17=function(a,c){var d=this;if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],function(b){return b.log(a,{peerID:d.props.remoteUserFBID,callID:d.$8(),eventDetails:c})},"RTCP2PCallView.react")};d.render=function(){var a=!b("RTCCallStore").hasRemoteVideo();if(m()){var c=this.props,d=c.localUser,e=c.conferenceState,f=c.protocolHandler;c=c.remoteUser;c=c!=null?b("immutable").List([c]):null;return b("React").jsx("div",{className:"_38jq _li"+(this.props.conferenceState==="TERMINATED"?" _17cj":""),children:b("React").jsx(b("RTCAppView.react"),{isAudioCall:a,children:b("React").jsx(b("RTWebMobileCallView.react"),{conferenceState:e,connectedRemoteUsersSize:1,hasVideoInput:!0,isAudioCall:a,isP2P:!0,layout:"DOMINANT_SPEAKER",localUser:d,protocolHandler:f,remoteUsers:c})})})}else{return(e=b("React")).jsx(b("RTCChatViewWrapper.react"),{callerID:this.props.localUser.FBID,chatWindowVisible:this.props.chatWindowVisible,threadID:b("MercuryIDs").getThreadIDFromUserID(this.$7()),children:e.jsxs("div",{className:"_7q_4",children:[e.jsxs("div",{className:"_7q_5",children:[e.jsx(b("RTCP2PAppViewContainer.react"),{allowsMWEscalation:this.props.allowsMWEscalation,callID:this.$8().toString(),conferenceName:this.props.conferenceName,conferenceState:this.props.conferenceState,connection:this.props.connection,initializeVideo:this.props.initializeVideo,localUser:this.props.localUser,remoteUser:this.props.remoteUser,remoteUserFBID:this.$7(),shouldHideCloseButton:!this.props.nonce||this.isParentWindow(),userMediaRequest:this.state.userMediaRequest}),b("React").jsx(b("MessengerBugNub.react"),{isBetaEnabled:this.props.isBetaEnabled,unixName:this.props.unixName}),this.props.children]}),b("RTWebClientFeatureGating").shouldShowEndCallQPs()?b("React").jsx(b("RTCEndCallQPSurface.react"),{className:"_7q_6",conferenceState:this.props.conferenceState,visible:!this.props.chatWindowVisible&&this.props.conferenceState==="TERMINATED"}):null]})})}};d.componentDidUpdate=function(a){__p&&__p();var c=this;if(a.userSettings.editing&&!this.props.userSettings.editing){var d=this.props.userSettings,e=d.audioInput;d=d.videoInput;(a.userSettings.audioInput!==e||a.userSettings.videoInput!==d)&&b("RTCP2PProtocolHandler").initStream(!this.props.isAudioCall,e,d).then(function(a){return b("RTCP2PProtocolHandler").replaceLocalStream(a,!0)})["catch"](function(a){return c.$14(a,"user_settings_changed")})}this.props.conferenceState!==a.conferenceState&&this.$2.logToConsole('UI: state change - from "'+a.conferenceState+'" to "'+this.props.conferenceState+'"');this.state.userMediaRequest.state===b("RTCUserMediaRequestState").PENDING&&this.props.connectionStatus==="INIT"&&b("RTCCallStore").mutateCallSummary(function(a){return a.onCallEnded(b("FBRTCConstants").CallEndReason.CLIENT_ERROR,!1,!0,"MediaPending")})};d.componentWillUnmount=function(){window.clearTimeout(this.$1),document.documentElement!=null&&b("CSS").removeClass(document.documentElement,"_2ujx"),window.removeEventListener("resize",this.$9),b("gkx")("939162")&&(this.$3.remove(),this.$4.remove())};d.isParentWindow=function(){return!window.opener};return c}(b("React").PureComponent);function l(a){}function m(){return b("FBRTCSupport").isMobileDevice()&&b("RTWebClientFeatureGating").canCallMWeb()}e.exports=a}),null);
__d("RTCP2PLoggerStore",["Bootloader","FBRTCConfig","FBRTCLogger","FluxReduceStore","RTCAppDispatcher","RTCCallStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return{}};d.reduce=function(a,c){__p&&__p();var d=b("RTCCallStore").getState(),e=d.remoteUsers;d=d.callInfo;if(!e.count())return a;var f=b("FBRTCLogger").getInstance();e=e.first().FBID;switch(c.type){case"AUDIO_MUTED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_MUTE,!0);break;case"AUDIO_UNMUTED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_MUTE,!1);break;case"VIDEO_MUTED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_VIDEO_ON,!1);break;case"VIDEO_UNMUTED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_VIDEO_ON,!0);break;case"SELF_VIEW_COLLAPSED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_SELF_VIEW_ON,!1);break;case"SELF_VIEW_UNCOLLAPSED":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.SET_SELF_VIEW_ON,!0);break;case"ADD_LOCAL_STREAM":this.$RTCP2PLoggerStore1("local stream: set",c.stream,e,Number(d.conferenceName));break;case"USER_SETTINGS_SAVE":case"USER_SETTINGS_SET_AUDIO_INPUT":case"USER_SETTINGS_SET_AUDIO_OUTPUT":case"USER_SETTINGS_SET_VIDEO_INPUT":f.logCallAction(e,d.conferenceName,b("FBRTCLogger").CallAction.USER_SETTINGS_CHANGED),this.$RTCP2PLoggerStore1("user settings change",c,e,Number(d.conferenceName))}return a};d.$RTCP2PLoggerStore1=function(a,b,c,d){g(function(e){return e.log(a,{peerID:c,callID:d,eventDetails:b})})};return c}(b("FluxReduceStore"));a.__moduleID=e.id;function g(a){if(!b("FBRTCConfig").isVCEndpointCall())return;b("Bootloader").loadModules(["CollabMessengerLogger"],a,"RTCP2PLoggerStore")}e.exports=new a(b("RTCAppDispatcher"))}),null);
__d("RobotRTCOneVCLazyload.react",["CurrentUser","JSResource","React","RoboticsPermission","RoboticsRTCMeeting","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";a=function(){var a;return(a=b("React")).jsx(a.Suspense,{fallback:a.jsx("div",{}),children:a.jsx(h,{})})};var g=b("lazyLoadComponent")(b("JSResource")("RobotRTCOneVCAutoAnswer.react").__setRef("RobotRTCOneVCLazyload.react")),h=function(){var a=b("RoboticsRTCMeeting").robot[b("CurrentUser").getID()];return!b("RoboticsPermission")||!b("RoboticsPermission").is_authorized_robot||!a?null:b("React").jsx(g,{})};e.exports=a}),null);
__d("RTCP2PCallContainer.react",["BootloadOnRender.react","ChannelManager","FBRTCConfig","FluxContainer","JSResource","LazyComponent.react","React","RobotRTCOneVCLazyload.react","RTCAppData","RTCAppDispatcher","RTCCallActions","RTCCallNUXStore","RTCCallStore","RTCCallType","RTCCoExperienceStore","RTCGroupCallEscalationStore","RTCMediaDevicesStore","RTCOneVCActions","RTCOneVCStore","RTCP2PCallActions","RTCP2PCallEscalationStore","RTCP2PCallStore","RTCP2PCallView.react","RTCP2PLoggerStore","RTCUserSettingsStore","RTWebFluxDebugger","RTWebUserActionLogger","dangerouslyBypassDispatchError","generateRTCCallID","objectValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("generateRTCCallID")().toString(),h={RTCCallStore:b("RTCCallStore"),RTCCoExperienceStore:b("RTCCoExperienceStore"),RTCP2PCallStore:b("RTCP2PCallStore"),RTCUserSettingsStore:b("RTCUserSettingsStore")},i=babelHelpers["extends"]({},h,{RTCCallStore:b("RTCCallStore"),RTCCoExperienceStore:b("RTCCoExperienceStore"),RTCP2PCallStore:b("RTCP2PCallStore"),RTCUserSettingsStore:b("RTCUserSettingsStore"),RTCGroupCallEscalationStore:b("RTCGroupCallEscalationStore"),RTCMediaDevicesStore:b("RTCMediaDevicesStore"),RTCP2PCallEscalationStore:b("RTCP2PCallEscalationStore"),RTCCallNUXStore:b("RTCCallNUXStore"),RTCP2PLoggerStore:b("RTCP2PLoggerStore"),RTCOneVCStore:b("RTCOneVCStore")});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return b("objectValues")(h)};c.calculateState=function(){var a=b("RTCCallStore").getState(),c=a.callInfo,d=c.conferenceState;c=c.conferenceName;var e=a.connections,f=a.localUser;a=a.remoteUsers;var g=b("RTCCoExperienceStore").getState();g=g.chatWindowVisible;var h=b("RTCP2PCallStore").getState(),i=h.callType,j=h.protocolHandler;h=h.connectionStatus;return{chatWindowVisible:g,conferenceName:c,conferenceState:d,connection:e.first(),connectionStatus:h,isAudioCall:i===b("RTCCallType").AUDIO_ONLY,localUser:f,protocolHandler:j,remoteUser:a.first(),userSettings:b("RTCUserSettingsStore").getState()}};function c(c){__p&&__p();var d;d=a.call(this,c)||this;b("ChannelManager").startChannelManagerForApp(b("RTCAppData").getChannelManagerAppName());b("RTCAppDispatcher").explicitlyRegisterStoresInMap(i);b("RTWebFluxDebugger").attach(b("RTCAppDispatcher"),i);b("RTCP2PCallActions").setCallType(d.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO);c.meetingID!=null&&b("RTCOneVCActions").setMeetingID(c.meetingID);c.meetingPassword!=null&&b("RTCOneVCActions").setMeetingPassword(c.meetingPassword);b("RTWebUserActionLogger").logCheckpoint({checkpoint:"RTCP2PCallContainer_created",callID:d.$1(),callType:"p2p",isCaller:d.props.isCaller,mediaType:b("RTWebUserActionLogger").getMediaType(d.props.isInitiallyAudioCall)});return d}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logImpression({surface:"call_container",conferenceState:this.state.conferenceState})};d.componentDidUpdate=function(a,c){var d=this.state.remoteUser,e=this.props.roomLocation;if(b("FBRTCConfig").isVCEndpointCall()&&d!=null&&d.getRoomLocation()==null&&e!=null){a=b("RTCCallStore").getState();var f=a.remoteUsers;b("dangerouslyBypassDispatchError")(function(){return b("RTCCallActions").updateRemoteUsers(f["delete"](d).add(d.setRoomLocation(e)))})}};d.$1=function(){return this.state&&this.state.conferenceName||this.props.conferenceName||g};d.render=function(){var a=this.props;a.conferenceName;a.roomLocation;a.meetingID;a.meetingPassword;a=babelHelpers.objectWithoutPropertiesLoose(a,["conferenceName","roomLocation","meetingID","meetingPassword"]);return b("React").jsxs(b("RTCP2PCallView.react"),babelHelpers["extends"]({},a,this.state,{conferenceName:this.$1(),initializeVideo:this.props.initializeVideo,children:[b("React").jsx(j,{}),b("React").jsx(b("RobotRTCOneVCLazyload.react"),{})]}))};return c}(b("React").PureComponent);var j=function(){return!b("FBRTCConfig").isVCEndpointCall()?null:b("React").jsx(b("BootloadOnRender.react"),{component:b("React").jsx(b("LazyComponent.react"),{}),loader:b("JSResource")("RTCCollabActionLoggerBootloader.react").__setRef("RTCP2PCallContainer.react"),placeholder:b("React").jsx("div",{})})};e.exports=b("FluxContainer").create(a)}),null);
__d("RTCCallContainer.react",["PageHooks","FBRTCConstants","FBRTCGroupCallStore","FBRTCMWProtocolStore","FluxContainer","MercurySyncEnvironment","RTCCallNotificationContainer.react","RTCCallNotificationStore","RTCProxyUserStore","RTWebUserActionLogger","gkx","immutable","JSResource","lazyLoadComponent","MessengerBugNub.react","React","RoboticsPermission","RTCGroupCallView.react","RTCP2PCallContainer.react","RTCGroupCallEscalationStore","RTCP2PCallEscalationStore","RTCUserMediaRequest","RTCUserMediaRequestState","RTCAppDispatcher","RTCCallActions","RTCCallInitUtils","RTCCallStore","RTCCallType","RTCCoExperienceStore","RTCMediaDevicesStore","RTCP2PCallActions","RTCCallNUXStore","RTCP2PCallStore","RTCP2PLoggerStore","RTCUserSettingsStore","generateRTCCallID","MessengerCollisionContextQuery","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("PageHooks");var g=b("FBRTCConstants").SignalingProtocol,h=b("lazyLoadComponent")(b("JSResource")("RobotRTCCallStoreBootloader.react").__setRef("RTCCallContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("FBRTCGroupCallStore"),b("RTCCallStore"),b("RTCGroupCallEscalationStore")]};c.calculateState=function(){var a=b("RTCGroupCallEscalationStore").getState();a=a.readyToTransition;var c=b("RTCCallStore").getState(),d=c.callInfo,e=c.connections;c=c.localUser;var f=b("FBRTCGroupCallStore").getState(),g=f.layout;f=f.participants;var h=b("RTCCallStore").getSortedRemoteUsers();return{conferenceState:d.conferenceState,connection:e.first(),layout:g,localUser:c,participants:f,remoteUsers:h,serverInfoData:d.serverInfoData,useGroupCallView:a}};function c(d){__p&&__p();d=a.call(this,d)||this;d.state=babelHelpers["extends"]({},c.calculateState());b("RTWebUserActionLogger").startTimer("InCallStartFlowTimer");b("RTWebUserActionLogger").startTimer("PreGetUserMediaRequestTimer");document.documentElement&&(document.documentElement.style.overflow="hidden");var e=[b("FBRTCGroupCallStore"),b("RTCCallNotificationStore"),b("RTCCallStore"),b("RTCP2PCallEscalationStore"),b("RTCCallNUXStore"),b("RTCP2PCallStore"),b("RTCCoExperienceStore"),b("RTCP2PLoggerStore"),b("RTCMediaDevicesStore"),b("RTCUserSettingsStore"),b("RTCGroupCallEscalationStore"),b("FBRTCMWProtocolStore")];b("gkx")("882839")||e.push(b("RTCProxyUserStore"));b("RTCAppDispatcher").explicitlyRegisterStores(e);d.$1=d.props.conferenceName!=null?d.props.conferenceName:b("generateRTCCallID")().toString();b("RTCCallActions").initialize({protocol:g.P2P,conferenceName:d.$1,serverInfoData:null,callID:d.$1});b("RTCP2PCallActions").setCallType(d.props.isInitiallyAudioCall?b("RTCCallType").AUDIO_ONLY:b("RTCCallType").AUDIO_VIDEO);return d}var d=c.prototype;d.componentDidMount=function(){b("gkx")("961768")&&b("MercurySyncEnvironment").setUp()};d.render=function(){__p&&__p();var a=null;if(this.props.allowsMWEscalation&&this.state.useGroupCallView){var c=b("RTCP2PCallStore").getState();c=c.escalationConferenceName;var d=!b("RTCCallStore").hasRemoteVideo(),e=new(b("RTCUserMediaRequest"))();e=e.set("state",b("RTCUserMediaRequestState").FULFILLED);a=b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCGroupCallView.react"),{chatWindowVisible:!1,conferenceName:c||"",conferenceState:this.state.conferenceState,connection:this.state.connection,endCallReason:null,isAudioCall:d,layout:this.state.layout,localUser:this.state.localUser,onStartCallClick:this.$2,participants:this.state.participants,remoteUsers:this.state.remoteUsers,serverInfoData:this.state.serverInfoData,thread:null,userMediaRequest:e}),b("React").jsx(b("MessengerBugNub.react"),{isBetaEnabled:this.props.isBetaEnabled,unixName:this.props.unixName})]})}else a=b("React").jsx(b("RTCP2PCallContainer.react"),{allowsMWEscalation:this.props.allowsMWEscalation,conferenceName:this.$1,initializeVideo:this.props.initializeVideo,isBetaEnabled:this.props.isBetaEnabled,isCaller:this.props.isCaller,isInitiallyAudioCall:this.props.isInitiallyAudioCall,nonce:this.props.nonce,remoteUserFBID:this.props.remoteUserFBID,unixName:this.props.unixName});return b("React").jsxs(b("React").Fragment,{children:[b("React").jsx(b("RTCCallNotificationContainer.react"),{conferenceState:this.state.conferenceState}),b("React").jsx(i,{}),a]})};d.componentDidUpdate=function(a,c){a=b("RTCP2PCallStore").getState();a=a.escalationConferenceName;a!=null&&c.remoteUsers.size!==this.state.remoteUsers.size&&b("promiseDone")(b("MessengerCollisionContextQuery")(a),function(a){b("RTCCallInitUtils").initializeThreadFromCollisionContext(a)})};d.$2=function(a,b,c){};return c}(b("React").PureComponent);var i=function(){return!b("RoboticsPermission").is_authorized_robot?null:b("React").jsx(b("React").Suspense,{fallback:b("React").jsx("div",{}),children:b("React").jsx(h,{})})};e.exports=b("FluxContainer").create(a)}),null);