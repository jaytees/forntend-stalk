if (self.CavalryLogger) { CavalryLogger.start_js(["VKIMC"]); }

__d("routeBuilderUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();a=a.split("/");return a.filter(function(a){return a!==""}).map(function(a){__p&&__p();var b=a.split(/{|}/);if(b.length<3)return{isToken:!1,part:a};else{a=b[0];var c=b[1];b=b[2];var d=c[0]==="?",e=c[d?1:0]==="*";c=c.substring((d?1:0)+(e?1:0));return{isToken:!0,optional:d,prefix:a,suffix:b,token:c}}})}e.exports={getPathParts:a}}),null);
__d("cometRouteBuilder",["ConstUriUtils","FBLogger","routeBuilderUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("routeBuilderUtils").getPathParts;function a(a,c,d){__p&&__p();var e=g(a);function f(f){__p&&__p();var g={},h="",i=!1;h=e.reduce(function(a,b){__p&&__p();if(!b.isToken)return a+"/"+b.part;else{var d,e=b.optional,h=b.prefix,j=b.suffix;b=b.token;if(e&&i)return a;d=(d=f[b])!=null?d:c[b];if(d==null&&e){i=!0;return a}if(d==null)throw new Error("Missing required template parameter: "+b);if(d==="")throw new Error("Required template parameter is an empty string: "+b);g[b]=!0;return a+"/"+h+d+j}},"");a.slice(-1)==="/"&&(h+="/");h===""&&(h="/");var j=b("ConstUriUtils").getUri(h);for(var k in f){var l=f[k];!g[k]&&l!=null&&j!=null&&(d!=null&&d.has(k)?l!==!1&&(j=j.addQueryParam(k,null)):j=j.addQueryParam(k,l))}return j==null?h:j.toString()}return{buildURL:function(c){try{return f(c)}catch(c){b("FBLogger")("CometRouteBuilder").catching(c).mustfix("Failed building URL for base path: %s",a);return"#"}}}}e.exports=a}),null);
__d("XCometMessengerControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/messages/t/{?thread_key}/",Object.freeze({}),void 0);e.exports=a}),null);
__d("XCometWorkChatControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/chat/t/{?thread_key}/",Object.freeze({}),void 0);e.exports=a}),null);
__d("useFriendingCometFriendRequestBadgeCountQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"friending_possibilities",storageKey:null,args:null,concreteType:"FriendingPossibilitiesConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"unseen_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"unseen_accept_notification_count",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"useFriendingCometFriendRequestBadgeCountQuery",type:"Query",metadata:null,argumentDefinitions:[],selections:a},operation:{kind:"Operation",name:"useFriendingCometFriendRequestBadgeCountQuery",argumentDefinitions:[],selections:a},params:{operationKind:"query",name:"useFriendingCometFriendRequestBadgeCountQuery",id:"2734906106592178",text:null,metadata:{relayPreloadable:!0}}}}();e.exports=a}),null);
__d("useGroupsCometTabBadgeCountFragment_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useGroupsCometTabBadgeCountFragment_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"groups_tab",storageKey:null,args:null,concreteType:"GroupsTab",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"badge_content",storageKey:'badge_content(seen_states:["NEW"])',args:[{kind:"Literal",name:"seen_states",value:["NEW"]}],concreteType:"GroupsTabBadgeContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]}]}]};e.exports=a}),null);
__d("useGroupsCometTabBadgeCountQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"groups_tab",storageKey:null,args:null,concreteType:"GroupsTab",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"badge_content",storageKey:'badge_content(seen_states:["NEW"])',args:[{kind:"Literal",name:"seen_states",value:["NEW"]}],concreteType:"GroupsTabBadgeContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"useGroupsCometTabBadgeCountQuery",type:"Query",metadata:null,argumentDefinitions:[],selections:a},operation:{kind:"Operation",name:"useGroupsCometTabBadgeCountQuery",argumentDefinitions:[],selections:a},params:{operationKind:"query",name:"useGroupsCometTabBadgeCountQuery",id:"2832713710108683",text:null,metadata:{relayPreloadable:!0}}}}();e.exports=a}),null);
__d("useCometMarketplaceBadgeCountFragment_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useCometMarketplaceBadgeCountFragment_viewer",type:"Viewer",metadata:{mask:!1},argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"notification_stories",storageKey:'notification_stories(environment:"MARKETPLACE",first:200,seen_state:"UNSEEN_AND_UNREAD",source:"marketplace")',args:[{kind:"Literal",name:"environment",value:"MARKETPLACE"},{kind:"Literal",name:"first",value:200},{kind:"Literal",name:"seen_state",value:"UNSEEN_AND_UNREAD"},{kind:"Literal",name:"source",value:"marketplace"}],concreteType:"NotificationStoriesConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NotificationStoriesEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]}]}]};e.exports=a}),null);
__d("useCometMarketplaceBadgeCountQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"notification_stories",storageKey:'notification_stories(environment:"MARKETPLACE",first:200,seen_state:"UNSEEN_AND_UNREAD",source:"marketplace")',args:[{kind:"Literal",name:"environment",value:"MARKETPLACE"},{kind:"Literal",name:"first",value:200},{kind:"Literal",name:"seen_state",value:"UNSEEN_AND_UNREAD"},{kind:"Literal",name:"source",value:"marketplace"}],concreteType:"NotificationStoriesConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NotificationStoriesEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"useCometMarketplaceBadgeCountQuery",type:"Query",metadata:null,argumentDefinitions:[],selections:a},operation:{kind:"Operation",name:"useCometMarketplaceBadgeCountQuery",argumentDefinitions:[],selections:a},params:{operationKind:"query",name:"useCometMarketplaceBadgeCountQuery",id:"2743809069038159",text:null,metadata:{relayPreloadable:!0}}}}();e.exports=a}),null);
__d("CometNewsFeedConnectionHandler",["RelayFBConnectionHandler_UNSTABLE","relay-runtime","unrecoverableViolation","warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(g=b("relay-runtime")).ConnectionHandler,i=g.ConnectionInterface,j=g.generateClientID,k=g.getRelayHandleKey,l="comet_news_feed",m="__connection_next_edge_index",n="received_edges_count";function a(a,c){__p&&__p();var d,e=a.get(c.dataID);if(!e)return;var f=i.get(),g=f.EDGES,k=f.END_CURSOR,l=f.HAS_NEXT_PAGE,p=f.HAS_PREV_PAGE,q=f.PAGE_INFO,r=f.PAGE_INFO_TYPE;f=f.START_CURSOR;var s=e.getLinkedRecord(c.fieldKey),t=s&&s.getLinkedRecord(q);if(!s){e.setValue(null,c.handleKey);return}var u=j(e.getDataID(),c.handleKey),v=e.getLinkedRecord(c.handleKey);d=(d=v)!=null?d:a.get(u);var w=d&&d.getLinkedRecord(q);if(!d){var x=a.create(u,s.getType());x.setValue(0,m);x.copyFieldsFrom(s);u=s.getLinkedRecords(g);u&&(u=u.map(function(b){return h.buildConnectionEdge(a,x,b)}),x.setLinkedRecords(u,g),x.setValue(u.length,n));e.setLinkedRecord(x,c.handleKey);w=a.create(j(x.getDataID(),q),r);w.setValue(!1,l);w.setValue(!1,p);w.setValue(null,k);w.setValue(null,f);t&&w.copyFieldsFrom(t);x.setLinkedRecord(w,q)}else{v==null&&e.setLinkedRecord(d,c.handleKey);var y=d;u=s.getLinkedRecords(g);u&&(u=u.map(function(b){return h.buildConnectionEdge(a,y,b)}),y.setValue(u.length,n));r=y.getLinkedRecords(g);v=y.getLinkedRecord(q);y.copyFieldsFrom(s);r&&y.setLinkedRecords(r,g);v&&y.setLinkedRecord(v,q);e=[];d=c.args;if(r&&u)if(d.after!=null)if(w&&d.after===w.getValue(k)){s=new Set();o(r,e,s);o(u,e,s)}else{b("warning")(!1,"Relay: Unexpected after cursor `%s`, edges must be fetched from the end of the list (`%s`).",d.after,w&&w.getValue(k));return}else if(d.before!=null)if(w&&d.before===w.getValue(f)){v=new Set();o(u,e,v);o(r,e,v)}else{b("warning")(!1,"Relay: Unexpected before cursor `%s`, edges must be fetched from the beginning of the list (`%s`).",d.before,w&&w.getValue(f));return}else e=u;else u?e=u:e=r;e!=null&&e!==r&&y.setLinkedRecords(e,g);if(w&&t)if(d.after==null&&d.before==null)w.copyFieldsFrom(t);else if(d.before!=null||d.after==null&&d.last){w.setValue(!!t.getValue(p),p);q=t.getValue(f);if(typeof q==="string")w.setValue(q,f);else if(e!=null){c=e[0];if(c!=null){s=c.getValue("cursor");typeof s==="string"&&w.setValue(s,f)}}}else if(d.after!=null||d.before==null&&d.first){w.setValue(!!t.getValue(l),l);v=t.getValue(k);if(typeof v==="string")w.setValue(v,k);else if(e!=null){u=e[e.length-1];if(u!=null){r=u.getValue("cursor");typeof r==="string"&&w.setValue(r,k)}}}}}function c(a,b,c){b=k(l,b,null);return a.getLinkedRecord(b,c)}function d(a,c,d){return b("RelayFBConnectionHandler_UNSTABLE").unstable_getAllConnectionsWithKey(a,c,d,l)}function o(a,b,c){__p&&__p();var d=i.get();d=d.NODE;for(var e=0;e<a.length;e++){var f=a[e];if(!f)continue;var g=f.getLinkedRecord(d);g=g&&g.getDataID();if(g!=null){if(c.has(g))continue;c.add(g)}b.push(f)}}function f(a,c,d,e){__p&&__p();if(d==null)return d;var f=i.get();f=f.EDGES;var g=c.getValue(m);if(!(typeof g==="number"))throw b("unrecoverableViolation")("CometNewsFeedConnectionHandler: Expected edgeIndex to be a number","comet_feed");e=(e=e)!=null?e:j(c.getDataID(),f,g);f=a.create(e,d.getType());f.copyFieldsFrom(d);c.setValue(g+1,m);return f}e.exports={buildConnectionEdge:f,getConnection:c,insertEdgeBefore:h.insertEdgeBefore,unstable_getAllConnectionsWithKey:d,update:a}}),null);
__d("PinnedCommentEventsConnectionHandler",["expectationViolation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-runtime").getRelayHandleKey;function a(a,b){__p&&__p();a=a.get(b.dataID);if(!a)return;var c=a.getLinkedRecords(b.fieldKey);if(!c){a.setValue(null,b.handleKey);return}var d=a.getLinkedRecords(b.handleKey);if(!d){a.setLinkedRecords(c,b.handleKey);return}var e;d==null?e=c:c==null?e=d:e=h(d,c);a.setLinkedRecords((d=e)!=null?d:[],b.handleKey)}function h(a,c){__p&&__p();var d=0,e=0,f=new Set(),g=[],h=function(a){var c=a==null?void 0:a.getValue("id");if(c==null){b("expectationViolation")("Pinned Comment Event should have id");return}if(f.has(c))return;f.add(c);g.push(a)};while(d<a.length&&e<c.length){var i,j;i=(i=a[d])==null?void 0:i.getValue("vod_time_offset");j=(j=c[e])==null?void 0:j.getValue("vod_time_offset");if(typeof i!="number"){d++;continue}if(typeof j!="number"){e++;continue}if(i>j){h(a[d]);d++;continue}if(i<j){h(c[e]);e++;continue}h(a[d]);h(c[e]);d++;e++}for(var i=d;i<a.length;i++)h(a[i]);for(var j=e;j<c.length;j++)h(c[j]);return g}function i(a){return g("pinned_comment_events",a,null)}function j(a,b,c){return(a=a.getLinkedRecords(i(b),c))!=null?a:[]}function c(a,b,c,d){a.setLinkedRecords(j(a,b,d).filter(function(a){return(a==null?void 0:a.getValue("id"))!==c}),i(b));return}e.exports={deleteEvent:c,getEvents:j,update:a}}),null);
__d("MaybeNativePromise",["Promise"],(function(a,b,c,d,e,f){"use strict";c=a.Promise||b("Promise");b("Promise").resolve();e.exports=c}),null);
__d("VideoAkamaiRequestHelper",["URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){return a.toLowerCase().indexOf("akamai")!==-1}function h(a){var b=a.startByte;a=a.endByte;if(b!=void 0&&!(b===0&&a==void 0)){b="bytes="+b+"-"+(a==void 0?"":a);return{Range:b}}return null}function c(a){var c=new(g||(g=b("URI")))(a);c=c.getQueryData();var d=c.startByte;c=c.endByte;return h({baseUrl:a,startByte:d,endByte:c})}e.exports={isAkamai:a,getRequestHeaders:h,getRequestHeadersFromUrl:c}}),null);
__d("VideoPlayerShakaExperimentsConfig",["VideoPlayerShakaExperimentsPayload"],(function(a,b,c,d,e,f){"use strict";e.exports=b("VideoPlayerShakaExperimentsPayload").experiments}),null);
__d("VideoPlayerShakaExposureLogger",["QE2Logger","VideoPlayerShakaExperimentsPayload"],(function(a,b,c,d,e,f){var g=Object.keys(b("VideoPlayerShakaExperimentsPayload").universeToExposureConfig).reduce(function(a,c){a[c]={};a[c].exposureCondition=b("VideoPlayerShakaExperimentsPayload").universeToExposureConfig[c].exposure_condition;a[c].exposureParams=new Set(b("VideoPlayerShakaExperimentsPayload").universeToExposureConfig[c].exposure_params);return a},{});a={logExposureForParamMaybe:function(a){Object.keys(g).forEach(function(c){g[c].exposureCondition==="any_param_accessed"&&g[c].exposureParams.has(a)?(b("QE2Logger").logExposureForUser(c),delete g[c]):g[c].exposureCondition==="all_params_accessed"&&(g[c].exposureParams["delete"](a),g[c].exposureParams.size===0&&(b("QE2Logger").logExposureForUser(c),delete g[c]))})}};e.exports=a}),null);
__d("VideoPlayerShakaParsedContextualConfig",["EventEmitter","FBLogger","VideoPlayerShakaContextualConfig"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$VideoPlayerShakaParsedContextualConfig1=null;b.$VideoPlayerShakaParsedContextualConfig2={};b.parseConfig();return b}var d=c.prototype;d.getGlobalConfig=function(){return this.$VideoPlayerShakaParsedContextualConfig2};d.getStaticConfig=function(){return b("VideoPlayerShakaContextualConfig").staticConfig};d.getRawContextualConfig=function(){return this.$VideoPlayerShakaParsedContextualConfig1};d.parseConfig=function(){this.$VideoPlayerShakaParsedContextualConfig3(),this.$VideoPlayerShakaParsedContextualConfig4(),this.emit("configChange")};d.$VideoPlayerShakaParsedContextualConfig3=function(){if(!b("VideoPlayerShakaContextualConfig").rawContextualConfig)return;try{this.$VideoPlayerShakaParsedContextualConfig1=JSON.parse(b("VideoPlayerShakaContextualConfig").rawContextualConfig)}catch(a){b("FBLogger")("VideoPlayerShakaParsedContextualConfig").warn("Failed to parse raw config")}};d.$VideoPlayerShakaParsedContextualConfig4=function(){var a=this;this.$VideoPlayerShakaParsedContextualConfig2=Object.assign({},b("VideoPlayerShakaContextualConfig").staticConfig);this.$VideoPlayerShakaParsedContextualConfig1&&this.$VideoPlayerShakaParsedContextualConfig1.defaults.forEach(function(b){return a.$VideoPlayerShakaParsedContextualConfig2[b.name]=b.value})};return c}(b("EventEmitter"));e.exports=new a()}),null);
__d("VideoPlayerShakaGlobalConfig",["VideoPlayerShakaExperimentsConfig","VideoPlayerShakaExposureLogger","VideoPlayerShakaParsedContextualConfig"],(function(a,b,c,d,e,f){__p&&__p();a={getBool:function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=b("VideoPlayerShakaParsedContextualConfig").getGlobalConfig();return d&&d[a]!==void 0?d[a]==="true"||d[a]===!0:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="boolean"?b("VideoPlayerShakaExperimentsConfig")[a]:c},getNumber:function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=b("VideoPlayerShakaParsedContextualConfig").getGlobalConfig();return d&&d[a]!==void 0?Number(d[a]):typeof b("VideoPlayerShakaExperimentsConfig")[a]==="number"?b("VideoPlayerShakaExperimentsConfig")[a]:c},getString:function(a,c){b("VideoPlayerShakaExposureLogger").logExposureForParamMaybe(a);var d=b("VideoPlayerShakaParsedContextualConfig").getGlobalConfig();return d&&d[a]!==void 0?String(d[a]):typeof b("VideoPlayerShakaExperimentsConfig")[a]==="string"?b("VideoPlayerShakaExperimentsConfig")[a]:c}};e.exports=a}),null);
__d("parseHeaders",[],(function(a,b,c,d,e,f){__p&&__p();var g=/\r?\n[\t]+/g,h=/\r?\n/;function a(a){__p&&__p();a=a.replace(g," ");var b={};a.split(h).forEach(function(a){a=a.split(":");var c=a.shift().trim();if(c){a=a.join(":").trim();b[c.toLowerCase()]=a}});return b}e.exports=a}),null);
__d("VideoPlayerShakaError",["VideoPlayerShakaGlobalConfig","parseHeaders"],(function(a,b,c,d,e,f){"use strict";a={translateError:function(a,c,d){var e=b("VideoPlayerShakaGlobalConfig").getBool("fix_shaka_xhr_error_status",!0)?a.errorRawTransportStatus:a.errorCode,f=null;b("VideoPlayerShakaGlobalConfig").getBool("enable_double_ingest",!1)&&a.errorRawResponseHeaders!=null&&(f=b("parseHeaders")(a.errorRawResponseHeaders));a={name:a.errorType,message:a.errorMsg,type:d,url:c,status:e,responseHeaders:f};return a},createTimeoutError:function(a){a={name:"timeout",message:"timeout",type:"net",url:a,status:0,responseHeaders:null};return a}};e.exports=a}),null);
__d("VideoDashPrefetchCache",["regeneratorRuntime","Promise","requireCond","BanzaiODS","Deferred","MaybeNativePromise","cr:1209197","cr:1209198","URI","VideoAkamaiRequestHelper","VideoPlayerPrefetchExperiments","VideoPlayerShakaError","VideoPlayerShakaGlobalConfig","XHRRequest","getCrossOriginTransport","recoverableViolation","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g,h=function(a){b("cr:1209197")!=null?b("cr:1209197").onLeave(a):b("cr:1209198")!=null?b("cr:1209198").onUnload(a):b("recoverableViolation")("Dash prefetch cache onNavigatingAway handler was not properly set","video")},i=null;b("requireWeak")("VideoPlayerShakaBandwidthEstimator",function(a){return i=a});var j=null;b("requireWeak")("VideoStreamingTaskQueueProvider",function(a){return j=a});function k(a){return a.audio.length+a.video.length+a.manifest.length}function l(a,c){b("BanzaiODS").bumpEntityKey(2966,"www_video_playback","prefetch."+a,c)}function m(a){var b="aborted",c={status:0},d=new Error("Prefetch request aborted.");return Object.assign(d,{type:b,url:a,xhr:c})}function n(a){var c=a.getURI(),d=c.toString();if(b("VideoAkamaiRequestHelper").isAkamai(d)){var e=b("VideoAkamaiRequestHelper").getRequestHeadersFromUrl(d);d=c.removeQueryData(["bytestart","byteend"]);a.setURI(d);e&&Object.keys(e).forEach(function(b){a.setRequestHeader(b,e[b])})}return a}var o=null,p=new Map();function q(a){a=new(g||(g=b("URI")))(a);a=a.getDomain();return a.endsWith("fbcdn.net")&&!a.startsWith("interncache")&&!a.endsWith("ak.fbcdn.net")}function r(a,c){c===void 0&&(c=!1);return c&&q(a)?b("getCrossOriginTransport").withCredentials:b("getCrossOriginTransport")}function s(a){return q(a.url)}function t(a,b,c){return{response:a.slice(b.start+0,b.end+1),responseTime:c}}function u(a){__p&&__p();var c=new(g||(g=b("URI")))(a);if(c.getDomain()){c=c.removeQueryData(["oh"]);c=c.removeQueryData("__gda__");var d=Object.keys(c.getQueryData());for(var e=0;e<d.length;e++){var f=d[e];f.startsWith("_nc")&&(c=c.removeQueryData(f))}return c.toString()}return a}a=function(){"use strict";__p&&__p();function a(){this.$2=new Map(),this.$9=new Map(),this.$1=new Map(),this.$3=[],this.$4=[],this.$5=0,this.$6=b("VideoPlayerPrefetchExperiments").maxPrefetchVideosNum,this.$7=b("VideoPlayerPrefetchExperiments").consolidateFragmentedPrefetchRequest}var c=a.prototype;c.$10=function(a,c){__p&&__p();var d=this;c===void 0&&(c=!1);var e=a,f=new(b("XHRRequest"))(e).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(r(e,c));n(f);var g=new(b("MaybeNativePromise"))(function(c,h){f.setErrorHandler(function(a){d.$11(f),h(b("VideoPlayerShakaError").translateError(a,e,"preload"))}),f.setResponseHandler(function(a){f.response=a,d.$11(f),c(f)}),f.setAbortHandler(function(){if(b("VideoPlayerPrefetchExperiments").fixPrefetchCacheAbort){d.$11(f);var c=m(a);h(c)}else h(g,new Error("Request promise aborted"))})});this.$12(a,g);this.$3.push(f);this.$8?this.$8.push(f):f.send();return g};c.genPrefetchMpdNow=function(a){__p&&__p();return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:if(!this.has(a)){b.next=2;break}return b.abrupt("return",null);case 2:return b.abrupt("return",this.$10(a));case 3:case"end":return b.stop()}},null,this)};c.$13=function(b,c,d){__p&&__p();c===void 0&&(c=!1);d===void 0&&(d=null);var e=[];for(var f=0;f<b.length;f++){var g=a.createQueryStringURL(b[f]);this.has(g)||(e.push(this.$10(g,c).then(function(a){l("received",1);return a})),d!=null&&this.$2.set(g,d))}l("sent",e.length);return e};c.$14=function(c){__p&&__p();var d=this,e=a.getConsolidatedURL(c);if(e==null)return this.$13(c);var f=new(b("XHRRequest"))(e).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(r(e));n(f);var g=Date.now(),h=[];for(var i=0;i<c.length;i++){var j=a.createQueryStringURL(c[i]),k=new(b("Deferred"))();this.has(j)||this.$12(j,k.getPromise());h.push(k)}f.setErrorHandler(function(c){d.$11(f);for(var a=0;a<h.length;a++)h[a].reject(b("VideoPlayerShakaError").translateError(c,e,"preload"))});f.setResponseHandler(function(b){var e=Date.now()-g;for(var a=0;a<c.length;a++){var i=h[a],j=c[a];i.resolve(t(b,j,e))}d.$11(f)});f.setAbortHandler(function(){for(var a=0;a<c.length;a++){var b=h[a];b.reject(new Error("Request aborted."))}});this.$3.push(f);f.send();l("consolidated.sent",1);l("sent",h.length);j=h.map(function(a){return a.getPromise().then(function(a){l("received",1);return a})});b("Promise").all(j).then(function(){return l("consolidated.received",1)});return j};c.$15=function(a){__p&&__p();var c=this,d=a.useCredentials,e=a.connectionQualityLevel;this.$5++;var f=this.$7&&!d;b("VideoPlayerPrefetchExperiments").enableGlobalSchedulerForPrefetch&&(this.$8=[]);var g=f?this.$14(a.video):this.$13(a.video,d,e);f=f?this.$14(a.audio):this.$13(a.audio,d,e);e=this.$13(a.manifest,d);var h=g.concat(f,e);if(this.$8){var i=this.$8||[];this.$8=null;var k=""+a.videoID;d={name:"prefetch task, "+k,run:function(){k&&p["delete"](k);i.forEach(function(a){return a.send()});return b("MaybeNativePromise").all(h).then(function(){})["catch"](function(){})},cancel:function(){}};j?(b("VideoPlayerPrefetchExperiments").switchPrefetchTaskToHighPriWhenPlayed&&k&&p.set(k,d),j.getQueue("video").enqueue(d,b("VideoPlayerPrefetchExperiments").prefetchPriority),this.$16()):(d.run(),b("MaybeNativePromise").all(h).then(function(){return c.$16()})["catch"](function(){return c.$16()}))}else b("MaybeNativePromise").all(h).then(function(){return c.$16()})["catch"](function(){return c.$16()})};c.$12=function(a,b){__p&&__p();var c=this;a=u(a);this.$1.values().next().done&&h(function(){for(var a=0;a<c.$3.length;a++)c.$3[a].abort();c.$3=[];c.$4=[];c.$5=0;c.$1.clear()});this.$1.set(a,b)};c.$11=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};c.$16=function(){this.$5--;var a=this.$4.shift();a&&this.$15(a)};c.has=function(a){a=u(a);return this.$1.has(a)};c.getConnectionQualityLevel=function(a){return this.$2.get(a)};c.getAndDelete=function(a){a=u(a);var b=this.$1.get(a);b?l("cache.hit",1):l("cache.miss",1);this.$1["delete"](a);l("retrieve",1);return b};c.queueRequestBatch=function(a){this.$6===0||this.$5<this.$6?this.$15(a):(l("queued",k(a)),this.$4.push(a))};c.setCachedRepresentations=function(a,b){this.$9.set(a,b)};c.getCachedRepresentations=function(a){return this.$9.get(a)};a.getCachedRepresentations=function(b){return a.getInstance().getCachedRepresentations(b)};a.getInstance=function(){o===null&&(o=new a());return o};a.createQueryStringURL=function(a){var c=a.url,d=a.start;a=a.end;d!==null&&d!==void 0&&a!==null&&a!==void 0&&(c=new(g||(g=b("URI")))(c).addQueryData({bytestart:d,byteend:a}));return c.toString()};a.getConsolidatedURL=function(b){__p&&__p();var c="",d=Infinity,e=0;for(var f=0;f<b.length;f++){var g=b[f],h=g.url,i=g.start;g=g.end;if(h==null||i==null||g==null)return null;if(c==="")c=h;else if(c!==h)return null;d=Math.min(d,i);e=Math.max(e,g)}return a.createQueryStringURL({url:c,start:d,end:e})};a.getPrefetchInfoFromRepresentation=function(a){return a.segments.map(function(b){return{url:a.url,start:b.start,end:b.end}})};a.getVideoRepresentationFromRepresentations=function(a,c){__p&&__p();var d=a.find(function(a){return a.representation_id.endsWith("d")});!c&&i&&(c=i.getBandwidth());if(!c)return d;var e=b("VideoPlayerShakaGlobalConfig").getNumber("client_prefetch_bandwidth_aggressiveness",1);for(var f=0;f<a.length;f++){var g=a[f],h=d&&d.bandwidth||0;if(h>g.bandwidth)continue;else c>g.bandwidth/e&&(d=g)}return d};a.loadVideoGivenAllRepresentations=function(b,c,d){__p&&__p();if(a.isAutoplayBandwidthRestrained())return;var e=[],f=[];c.audio.length>0&&(e=a.getPrefetchInfoFromRepresentation(c.audio[0]),e.length>0&&f.push(c.audio[0].representation_id));var g=[];c=a.getVideoRepresentationFromRepresentations(c.video,d);c&&(g=a.getPrefetchInfoFromRepresentation(c),g.length>0&&f.push(c.representation_id));d=a.getInstance();d.queueRequestBatch({audio:e,video:g,manifest:[],videoID:b,useCredentials:!1});d.setCachedRepresentations(b,f)};a.isAutoplayBandwidthRestrained=function(){return!!i&&i.isAutoplayBandwidthRestrained()};a.loadVideo=function(c,d,e){d=!!d;if(a.isAutoplayBandwidthRestrained())return;if(b("VideoPlayerPrefetchExperiments").disablePrefetchCache)return;var f=a.getInstance();c.manifest||(c.manifest=[]);f.queueRequestBatch({manifest:c.manifest.filter(s),video:c.video.filter(s),audio:c.audio.filter(s),videoID:c.videoID,useCredentials:d,connectionQualityLevel:e})};a.getCacheValue=function(b){return a.getInstance().getAndDelete(b)};a.getConnectionQualityLevel=function(b){return a.getInstance().getConnectionQualityLevel(b)};a.hasCacheValue=function(b){return a.getInstance().has(b)};a.getPrefetchTaskByID=function(a){a=p.get(a)||null;return a};return a}();e.exports=a}),null);
__d("mergeCommentEdgesSortedByTimestampInVideo",["expectationViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){a=a==null?void 0:(a=a.getLinkedRecord("node"))==null?void 0:a.getValue("timestamp_in_video");return typeof a!=="number"?null:a};e.exports=function(a,c){__p&&__p();var d=0,e=0,f=new Set(),h=[],i=function(a){__p&&__p();var c;c=a==null?void 0:(c=a.getLinkedRecord("node"))==null?void 0:c.getValue("id");if(c==null){b("expectationViolation")("Node should have id");return}if(f.has(c))return;f.add(c);h.push(a)};while(d<a.length&&e<c.length){var j=g(a[d]),k=g(c[e]);if(j==null){d++;continue}if(k==null){e++;continue}if(j<k){i(a[d]);d++;continue}if(j>k){i(c[e]);e++;continue}i(a[d]);i(c[e]);d++;e++}for(var j=d;j<a.length;j++)i(a[j]);for(var k=e;k<c.length;k++)i(c[k]);return h}}),null);
__d("VideoTimestampedCommentsConnectionHandler",["mergeCommentEdgesSortedByTimestampInVideo","relay-runtime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-runtime").generateClientID,h=b("relay-runtime").getRelayHandleKey;function a(a,c){__p&&__p();var d=a.get(c.dataID);if(!d)return;var e=d.getLinkedRecord(c.fieldKey);if(!e){d.setValue(null,c.handleKey);return}var f=d.getLinkedRecord(c.handleKey);if(!f){a=a.create(g(d.getDataID(),c.handleKey),e.getType());a.copyFieldsFrom(e);d.setLinkedRecord(a,c.handleKey);return}d=e.getLinkedRecords("edges");a=f.getLinkedRecords("edges");a==null?c=d:d==null?c=a:c=b("mergeCommentEdgesSortedByTimestampInVideo")(a,d);f.setLinkedRecords((e=c)!=null?e:[],"edges")}function c(a,b,c){b=h("video_timestamped_comments",b,null);return a.getLinkedRecord(b,c)}function d(a,c){var d=a.getLinkedRecords("edges");if(!d){a.setLinkedRecords([c],"edges");return}d=b("mergeCommentEdgesSortedByTimestampInVideo")(d,[c]);a.setLinkedRecords((c=d)!=null?c:[],"edges");return}e.exports={getConnection:c,insertEdge:d,update:a}}),null);
__d("createRelayFBLocalEnvironment",["RelayFBHandlerProvider","RelayFBOperationLoader","RelayRuntime","getRelayFBMissingFieldHandlers","relayFBGetDataID","resolveImmediate"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRuntime").Environment,h=b("RelayRuntime").RecordSource,i=b("RelayRuntime").Store,j={execute:function(a){throw new Error("RelayFBLocalEnvironment: Network requests are not allowed in the local environment, got: "+a.name)}};function a(a){var c=a.handlerProvider,d=a.missingFieldHandlers,e=a.scheduler,f=a.store,k=a.configName,l=a.log,m=a.operationTracker;a=a.UNSTABLE_DO_NOT_USE_getDataID;c=new g({configName:(k=k)!=null?k:"RelayFBLocalEnvironment",handlerProvider:(k=c)!=null?k:b("RelayFBHandlerProvider"),missingFieldHandlers:(c=d)!=null?c:b("getRelayFBMissingFieldHandlers")(),operationLoader:b("RelayFBOperationLoader"),scheduler:e,store:(k=f)!=null?k:new i(new h(),{UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("resolveImmediate"),operationLoader:b("RelayFBOperationLoader")}),network:j,operationTracker:m,log:l,UNSTABLE_DO_NOT_USE_getDataID:(d=a)!=null?d:b("relayFBGetDataID"),options:{isLocal:!0}});return c}e.exports=a}),null);
__d("CometRelayEnvironmentFactory",["requireCond","ActorURIConfig","CometNewsFeedConnectionHandler","CometRelayConfig","JSTracing","PinnedCommentEventsConnectionHandler","RelayAPIConfig","RelayFBEnvironmentDefinitions","RelayFBOperationLoader","UFI2CommentsConnectionHandler","VideoDashPrefetchCache","VideoTimestampedCommentsConnectionHandler","cr:1121434","createRelayFBLocalEnvironment","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","gkx","relay-runtime","relayFBGetDataID","resolveImmediate","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;var g=(d=b("relay-runtime")).ConnectionHandler,h=d.Observable,i=d.RecordSource,j=d.ROOT_TYPE,k=d.Store,l=d.__internal.OperationTracker,m=d.getStorageKey,n=b("gkx")("1151941");function o(a){switch(a){case"connection":return g;case"video_timestamped_comments":return b("VideoTimestampedCommentsConnectionHandler");case"pinned_comment_events":return b("PinnedCommentEventsConnectionHandler");case"ufi2_comments":return b("UFI2CommentsConnectionHandler");case"comet_news_feed":return b("CometNewsFeedConnectionHandler")}throw b("unrecoverableViolation")("RelayCometEnvironment: No handler defined for `"+a+"`.","comet_ui")}function p(a){__p&&__p();return h.create(function(c){__p&&__p();var d=b("JSTracing").wrap(function(a){a&&a()}),e=b("JSTracing").wrap(function(a){d(),a&&a()});return a.subscribe({complete:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];e(function(){c.complete.apply(c,b)})},error:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];e(function(){c.error.apply(c,b)})},next:function(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];d(function(){c.next.apply(c,b)})},unsubscribe:function(){e()}})})}var q=[].concat(b("getRelayFBMissingFieldHandlers")(),[{handle:function(a,c,d,e){__p&&__p();if(c!=null&&c.__typename===j&&a.name==="user"&&Object.prototype.hasOwnProperty.call(d,"id"))return d.id;if(c!=null&&c.__typename===j&&a.name==="story"&&Object.prototype.hasOwnProperty.call(d,"story_id"))return d.story_id;if(c!=null&&c.__typename==="Story"&&a.name==="comet_sections"&&c[m(a,{renderLocation:"homepage_stream"})]!=null){var f=c[m(a,{renderLocation:"homepage_stream"})];if(f!=null&&typeof f==="object"&&Object.prototype.hasOwnProperty.call(f,"__ref")&&typeof f.__ref==="string")return f.__ref}if(c!=null&&typeof c.id==="string"&&c.__typename==="Feedback"&&a.name.startsWith("__UFI2CommentsProvider_feedback_display_comments_ufi2_comments")){f=e.get(c.id);if(!f)return null;f=b("UFI2CommentsConnectionHandler").getConnection(f,"UFI2CommentsProvider_feedback_display_comments",{feedback_source:1});return!f?null:f.getDataID()}if(c!=null&&typeof c.id==="string"&&c.__typename==="Feedback"&&a.name==="display_comments"){f=e.get(c.id);if(!f)return null;e=f.getLinkedRecord("display_comments",d);if(e)return e.getDataID();e=f.getLinkedRecord("display_comments");if(e)return e.getDataID();Object.prototype.hasOwnProperty.call(d,"is_initial_fetch")&&(e=f.getLinkedRecord("display_comments",babelHelpers["extends"]({},d,{is_initial_fetch:!d.is_initial_fetch})));return e?e.getDataID():null}return c!=null&&a.name==="video"&&Object.prototype.hasOwnProperty.call(d,"id")?d.id:null},kind:"linked"}]);function r(){var a=new i();a=new k(a,{UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),gcReleaseBufferSize:b("CometRelayConfig").gc_release_buffer_size,gcScheduler:b("resolveImmediate"),operationLoader:b("RelayFBOperationLoader")});n||a.holdGC();return a}f=c(function(a){var c=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({actorID:a,getAdditionalData:function(){var c;return a==null?{}:(c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c)},wrapObservableFn:p}),b("createRelayFBSubscribeFunction")({}),function(a){if(window.__comet_ssr_is_server_env_DO_NOT_USE===!0)return;a.forEach(function(a){b("VideoDashPrefetchCache").loadVideo(a)})});return{UNSTABLE_DO_NOT_USE_getDataID:b("relayFBGetDataID"),UNSTABLE_defaultRenderPolicy:"partial",actorID:a,configName:"CometRelayEnvironment",handlerProvider:o,log:b("cr:1121434")!=null?b("cr:1121434")():null,missingFieldHandlers:q,network:c,operationLoader:b("RelayFBOperationLoader"),operationTracker:new l(),scheduler:null,store:r()}});d=f.getForActorID(b("RelayAPIConfig").actorID);function a(){var a=b("createRelayFBLocalEnvironment")({configName:"CometRelayLocalEnvironment",handlerProvider:o,missingFieldHandlers:q,scheduler:null,store:r()});return a}e.exports={createLocalEnvironment:a,"default":d,getForActorID:f.getForActorID}}),null);
__d("CometRelayEnvironment",["CometRelayEnvironmentFactory"],(function(a,b,c,d,e,f){"use strict";e.exports=b("CometRelayEnvironmentFactory")["default"]}),null);
__d("CometToasterStateManager",["requireCond","CometMaxEnqueuedToastsSitevarConfig","JSScheduler","cr:724654","emptyObject","once","removeFromArray","cr:724655","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometMaxEnqueuedToastsSitevarConfig").max;a=function(){__p&&__p();function a(){this.$1=0,this.$2=new Map(),this.$3=[],this.$4=[],this.$5=null}var c=a.prototype;c.push=function(a,b){var c="toast-"+this.$1++;b={duration:b,expired:!1,id:c,shown:!1,timer:null,value:a};this.$6({node:b,type:"PUSH"});return c};c.shown=function(a){this.$6({id:a,type:"SHOWN"})};c["delete"]=function(a){this.$6({id:a,type:"DELETE"})};c.expire=function(a){this.$6({id:a,type:"EXPIRE"})};c.hidden=function(a){this.$6({id:a,type:"HIDDEN"})};c.stopTimer=function(a){this.$6({id:a,type:"STOP_TIMER"})};c.resetTimer=function(a){this.$6({id:a,type:"RESET_TIMER"})};c.getState=function(){return Object.fromEntries(this.$2)};c.getEmptyState=function(){return b("emptyObject")};c.addListener=function(a){var c=this;this.$3.push(a);return{remove:b("once")(function(){b("removeFromArray")(c.$3,a)})}};c.$7=function(a){(this.$5==null||a.priority>this.$5.priority)&&(this.$5=a)};c.registerView=function(a,c){var d=this;c===void 0&&(c=1);var e={handler:a,priority:c};this.$4.push(e);this.$7(e);this.$8();return{remove:b("once")(function(){b("removeFromArray")(d.$4,e),d.$5===e&&(d.$5=null,d.$4.forEach(function(a){return d.$7(a)}))})}};c.$6=function(a){__p&&__p();var b=this.$2;switch(a.type){case"PUSH":var c=a.node;this.$2=new Map([].concat(Array.from(this.$2),[[c.id,c]]));if(g!==0){c=Array.from(this.$2.values()).filter(function(a){return!a.shown&&!a.expired});if(c.length>g){c=c[0];this["delete"](c.id)}}break;case"SHOWN":if(this.$2.has(a.id)&&!this.$9(a.id).shown){c=babelHelpers["extends"]({},this.$9(a.id),{shown:!0});this.$2=new Map([].concat(Array.from(this.$2),[[a.id,this.$10(c)]]))}break;case"EXPIRE":if(this.$2.has(a.id)){c=babelHelpers["extends"]({},this.$9(a.id),{expired:!0});this.$2=new Map([].concat(Array.from(this.$2),[[a.id,this.$11(c)]]));this.$12(c)}break;case"HIDDEN":if(this.$2.has(a.id)){c=this.$9(a.id);(c.shown||c.expired)&&(this.$2=new Map(this.$2),this.$2["delete"](a.id),this.$11(c))}break;case"DELETE":if(this.$2.has(a.id)){c=this.$9(a.id);this.$2=new Map(this.$2);this.$2["delete"](a.id);this.$11(c)}break;case"STOP_TIMER":if(this.$2.has(a.id)&&this.$13(this.$9(a.id))){c=babelHelpers["extends"]({},this.$9(a.id));this.$2=new Map([].concat(Array.from(this.$2),[[a.id,this.$11(c)]]))}break;case"RESET_TIMER":if(this.$2.has(a.id)&&!this.$13(this.$9(a.id))){c=babelHelpers["extends"]({},this.$9(a.id));this.$2=new Map([].concat(Array.from(this.$2),[[a.id,this.$10(c)]]))}break;default:a.type}b!==this.$2&&this.$8()};c.$8=function(){var a=this;this.$3.forEach(function(a){return b("JSScheduler").scheduleNormalPriCallback(function(){a()})});this.$4.forEach(function(c){return b("JSScheduler").scheduleNormalPriCallback(function(){c.handler(c===a.$5?a.getState():a.getEmptyState())})})};c.$10=function(a){var c=this;a.duration!==null&&a.timer==null&&(a.timer=b("cr:724655")(function(){c.expire(a.id)},a.duration));return a};c.$11=function(a){a.timer!=null&&(b("cr:724654")(a.timer),a.timer=null);return a};c.$12=function(a){var c=this;this.$11(a);var d=a.id;b("cr:724655")(function(){c["delete"](d)},1e3)};c.$13=function(a){return a.timer!=null};c.$9=function(a){a=this.$2.get(a);if(a==null)throw b("unrecoverableViolation")("Toast with given identifier was not found","comet_ui");return a};a.getInstance=function(){a.$14==null&&(a.$14=new a());return a.$14};a.resetInstance_DO_NOT_USE=function(){a.$14=null};return a}();e.exports=a}),null);
__d("cometPushToast",["ix","requireDeferred","CometToasterStateManager","React","TetraIcon.react","deferredLoadComponent","fbicon"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("CometToasterStateManager").getInstance(),i=b("deferredLoadComponent")(b("requireDeferred")("CometToast.react"));function j(a,c,d){c===void 0&&(c=2750);var e=(d=d)!=null?d:h,f=e.push(b("React").jsx(i,babelHelpers["extends"]({},a,{loadImmediately:!0,onDismiss:function(){return e.expire(f)}})),c);return f}function a(a,b){return j({message:a},b)}function c(a,c,d){c===void 0&&(c=2750);return j(babelHelpers["extends"]({},a,{icon:b("React").jsx(b("TetraIcon.react"),{color:"warning",icon:b("fbicon")._(g("502062"),20)})}),c,d)}e.exports={cometPushErrorToast:c,cometPushSimpleToast:a,cometPushToast:j}}),null);
__d("useIsMountedRef",["React","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useRef;function a(){var a=g(!1);b("useLayoutEffect_SAFE_FOR_SSR")(function(){a.current=!0;return function(){a.current=!1}},[]);return a}e.exports=a}),null);
__d("CometTransientDialogProvider.react",["fbt","BaseModal.react","CometDialogContext","CometErrorBoundary.react","CometHeroLogging","FBLogger","React","cometPushToast","useCometInteractionTracing","useIsMountedRef"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("React").useCallback,i=b("React").useState,j=b("cometPushToast").cometPushErrorToast;function k(a){var c=a.dialogConfig,d=a.removeDialogConfig;a=c.dialog;var e=c.dialogProps,f=h(function(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];return window.requestAnimationFrame(function(){return d(c,b)})},[c,d]),i=h(function(){f(),j({message:g._("Something isn't working. This may be because of a technical error that we're working to fix.")})},[f]);return b("React").jsx(b("CometErrorBoundary.react"),{fallback:null,onError:i,children:b("React").jsx(b("BaseModal.react"),{interactionDesc:c.interactionDesc,interactionUUID:c.interactionUUID,children:b("React").jsx(a,babelHelpers["extends"]({},e,{onClose:f}))})})}function a(a){__p&&__p();var c=i([]),d=c[0],e=c[1],f=b("useCometInteractionTracing")(30605361,"fluid","INTERACTION");c=h(function(a,c,d){f(function(f){var g=b("CometHeroLogging").genCometHeroInteractionUUIDAndMarkStart(f.getTraceId()),h="Dialog";e(function(b){return b.concat({dialog:a,dialogProps:c,interactionDesc:h,interactionUUID:g,onClose:d})})})},[f]);var g=b("useIsMountedRef")(),j=h(function(a,c){__p&&__p();if(!g.current)return;e(function(c){var d=c.indexOf(a);if(d<0){b("FBLogger")("CometTransientDialogProvider").mustfix("Attempting to close a dialog that does not exist anymore.");return c}return c.slice(0,d)});a.onClose&&a.onClose.apply(a,c)},[g]);return b("React").jsxs(b("CometDialogContext").Provider,{value:c,children:[a.children,d.map(function(a,c){return b("React").jsx(k,{dialogConfig:a,removeDialogConfig:j},c)})]})}e.exports=a}),null);
__d("Actor",["CometRelay","CometRelayEnvironmentFactory","CometTransientDialogProvider.react","React","recoverableViolation","unrecoverableViolation","usePrevious"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometRelay").RelayEnvironmentProvider,h=(f=b("React")).useContext,i=f.useMemo,j=f.useState;function a(a){return function(){throw b("unrecoverableViolation")("You are "+a+" the Actor from a React component that is not a descendent of ActorProvider.","groups_comet")}}var k=f.createContext({get:a("reading"),set:a("setting")});function c(a){__p&&__p();var c=a.children,d=a.initialActorID,e=a.readonly,f=e===void 0?!1:e;e=a.scope;a=e===void 0?null:e;e=j(d);var h=e[0],l=e[1];e=b("usePrevious")(a);var m=b("usePrevious")(d),n=b("CometRelayEnvironmentFactory").getForActorID(h);m=m!=null&&m!==d;e=e!=null&&e!==a;(m||e)&&h!==d&&l(d);a=i(function(){return{get:function(){return h},set:function(a){if(f){b("recoverableViolation")("You tried to update the Actor ID, but the <ActorProvider /> closest to your useActor() call has a read-only Actor ID. To fix this, wrap the React tree that you want to set an Actor ID for with your own <ActorProvider />.","groups_comet");return}l(a)}}},[h,f]);return b("React").jsx(k.Provider,{value:a,children:b("React").jsx(g,{environment:n,children:b("React").jsx(b("CometTransientDialogProvider.react"),{children:c})})})}function d(){var a=h(k);return[a.get(),a.set]}e.exports={ActorProvider:c,useActor:d}}),null);
__d("CometSetBlinkingTitleMessageContext",["React","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(function(){b("recoverableViolation")("No provider of CometSetBlinkingTitleMessageContext exists","comet_ui")});e.exports=a}),null);
__d("CometRouterStateContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext();e.exports=a}),null);
__d("CometRouteParams",["useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";function a(){var a;return(a=(a=b("useCurrentRoute")())==null?void 0:a.params)!=null?a:{}}e.exports={useRouteParams:a}}),null);
__d("useCometRouterState",["CometRouterStateContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){return g(b("CometRouterStateContext"))}e.exports=a}),null);
__d("BaseListItem.react",["React","joinClasses","stylex"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.addon,d=a.children,e=a.className;a=a.right;return b("React").jsxs("div",{className:b("joinClasses")("j83agx80",e),children:[c!=null?b("React").jsx("div",{className:"tvfksri0 taijpn5t j83agx80 ll8tlv6m",children:c}):null,b("React").jsx("div",{className:"hpfvmrgz g5gj957u buofh1pr rj1gh0hx o8rfisnq",children:d}),a!=null?b("React").jsx("div",{className:"ozuftl9m taijpn5t cbu4d94t j83agx80",children:a}):null]})}e.exports=a}),null);
__d("CometBase.react",["BaseView.react"],(function(a,b,c,d,e,f){"use strict";e.exports=b("BaseView.react")}),null);
__d("getPlainTextFromDeferredDraftEditorState",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.__type){case"plain-text":return a.text;case"editor-state-based":return a.draftEditorState.getCurrentContent().getPlainText();default:return a}}e.exports=a}),null);
__d("useFriendingCometFriendRequestBadgeCount",["CometRelay","useFriendingCometFriendRequestBadgeCountQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("CometRelay").graphql;var h=b("CometRelay").useLazyLoadQuery;function a(){var a=h(g!==void 0?g:g=b("useFriendingCometFriendRequestBadgeCountQuery.graphql"),{});a=(a=a.viewer)==null?void 0:a.friending_possibilities;var c=a!=null&&a.unseen_count!=null&&a.unseen_count>0?a.unseen_count:0;a=a!=null&&a.unseen_accept_notification_count!=null&&a.unseen_accept_notification_count>0?a.unseen_accept_notification_count:0;return a+c}e.exports=a}),null);
__d("useGroupsCometTabBadgeCount",["CometRelay","gkx","useGroupsCometTabBadgeCountFragment_viewer.graphql","useGroupsCometTabBadgeCountQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("CometRelay").graphql;var i=b("CometRelay").useLazyLoadQuery;g!==void 0?g:g=b("useGroupsCometTabBadgeCountFragment_viewer.graphql");function a(){var a=i(h!==void 0?h:h=b("useGroupsCometTabBadgeCountQuery.graphql"),{});return(a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.groups_tab)==null?void 0:(a=a.badge_content)==null?void 0:a.count)!=null?a:0}c=b("gkx")("1158117")?a:function(){return 0};e.exports=c}),null);
__d("CometFeedNoRoutingNavigationEventsLoggerImpl",["requireDeferred","JSScheduler","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("Banzai"),h=b("React").useCallback;function a(a,c,d){var e=h(function(b,e,f,g){if(c==null||c==="")return;var h=babelHelpers["extends"]({},b.VITAL,{signal:!0});b.post("comet_metrics:navigation",{dest_module:g,extra:d,href:f,tn:a.join(""),ts:e,xt:c},h)},[a,c,d]);return h(function(a,c,d){b("JSScheduler").scheduleLoggingPriCallback(function(){return g.onReady(function(b){return e(b,a,c,d)})})},[e])}e.exports=a}),null);
__d("useCometFeedNoRoutingNavigationEventLogger",["CometFeedLoggingExtraFieldsContext","CometFeedNoRoutingNavigationEventsLoggerImpl","CometTrackingCodeContext","CometTrackingNodesContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){var a=g(b("CometTrackingNodesContext")),c=g(b("CometTrackingCodeContext"));c=c.encrypted_tracking[0];var d=g(b("CometFeedLoggingExtraFieldsContext"));return c===null||c===void 0?function(){}:b("CometFeedNoRoutingNavigationEventsLoggerImpl")(a,c,d)}e.exports=a}),null);
__d("useCometMarketplaceBadgeCount",["CometRelay","gkx","useCometMarketplaceBadgeCountFragment_viewer.graphql","useCometMarketplaceBadgeCountQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;b("CometRelay").graphql;var i=b("CometRelay").useLazyLoadQuery;g!==void 0?g:g=b("useCometMarketplaceBadgeCountFragment_viewer.graphql");var j=h!==void 0?h:h=b("useCometMarketplaceBadgeCountQuery.graphql");function a(){var a=i(j,{});return(((a=a.viewer)==null?void 0:(a=a.notification_stories)==null?void 0:a.edges)||[]).length}c=b("gkx")("1273808")?a:function(){return 0};e.exports=c}),null);
__d("MWChatStateStore.bs",["bs_curry","bs_js_dict","bs_caml_option","getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c={},d=function(d,e){__p&&__p();if(b("getPlainTextFromDeferredDraftEditorState")(e.editorState).length>0){d=b("bs_curry")._1(a.getStorableKey,d);var f=b("bs_js_dict").get(c,d);if(f!==void 0){f=f;if(typeof f==="number"&&f!==0)return 0;else{c[d]=[e];return 0}}else{c[d]=[e];return 0}}else return 0},e=function(d){d=b("bs_curry")._1(a.getStorableKey,d);var e=b("bs_js_dict").get(c,d);if(e!==void 0){e=e;e=typeof e==="number"?void 0:b("bs_caml_option").some(e[0])}else e=void 0;c[d]=0;return e},f=function(d){d=b("bs_curry")._1(a.getStorableKey,d);c[d]=1;return 0},g=function(d){d=b("bs_curry")._1(a.getStorableKey,d);d=b("bs_js_dict").get(c,d);if(d!==void 0&&typeof d!=="number")return!0;else return!1};return{save:d,restore:e,markClosed:f,hasContent:g}}f.Store=a}),null);
__d("MWChatThreadId.bs",["FBID.bs","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a[0]>=892012143)return b("MercuryIDs").getThreadIDFromUserID(a[1]);else return b("MercuryIDs").getThreadIDFromThreadFBID(a[1])}function c(a){var b=a[0];if(b!==892012143)if(b>=948354667)return"u."+a[1];else return"g."+a[1];else return"p."+a[1]}function d(a){__p&&__p();a=a.split(".");var c=a.length,d;if(c>=3)d=[void 0,void 0];else switch(c){case 0:d=[void 0,void 0];break;case 1:c=a[0];d=[c,void 0];break;case 2:c=a[0];a=a[1];d=/^[1-9]\d*$/.test(a)?[c,a]:[void 0,void 0];break}c=d[1];a=d[0];if(a!==void 0)switch(a){case"g":if(c!==void 0)return[757211935,b("FBID.bs").ofStringExn(c)];else return;case"p":if(c!==void 0)return[892012143,b("FBID.bs").ofStringExn(c)];else return;case"u":if(c!==void 0)return[948354667,b("FBID.bs").ofStringExn(c)];else return;default:return}}f.getMercuryID=a;f.serializeFuture=c;f.deserializeFuture=d}),null);
__d("MWChatComposerViewStateStore.bs",["MWChatThreadId.bs","MWChatStateStore.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("MWChatThreadId.bs").serializeFuture;c={getStorableKey:a};d=b("MWChatStateStore.bs").Store(c);e=d.save;a=d.restore;b=d.markClosed;d=d.hasContent;f.MWChatThreadIdStorable=c;f.save=e;f.restore=a;f.markClosed=b;f.hasContent=d}),null);
__d("BroadcastChannel.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=window.BroadcastChannel;if(c==null)return;else return b("bs_caml_option").some(new BroadcastChannel(a))}f.make=a}),null);
__d("MWChatTabManager.bs",["bs_curry","bs_caml_option","DeferredCookie","BroadcastChannel.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="ChatHeads";d=[!1];e={};var h="presence",i="C";function j(a){b("DeferredCookie").addToQueue(h,i+a,0,"",!1,!1,!0);return 0}function k(a){a=JSON.stringify(a);if(a!==void 0)return j(a);else return 0}function a(a){a=a==null?"":a;var b=a.slice(0,1);a=a.slice(1);b=b===i;if(b)return JSON.parse(a);else return{lm3:void 0,t3:[],utc3:0,v:0}}function c(a,c){__p&&__p();var d=b("BroadcastChannel.bs").make(g),e;if(d!==void 0){var f=b("bs_caml_option").valFromOption(d);f.addEventListener("message",function(c){return b("bs_curry")._1(a,c.data)});e=function(a){f.postMessage(a);return 0}}else e=function(a){return 0};return function(a){k(b("bs_curry")._1(c,a));return b("bs_curry")._1(e,a)}}f.channelName=g;f.postingUpdate=d;f.DeferredCookie=e;f.cookieName=h;f.cookieMode=i;f.writeRawPresenceCookieWithMode=j;f.serializeAndWrite=k;f.deserialize=a;f.setup=c}),null);
__d("MessengerWebEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_HEADS:"chat_heads",CHAT_SEARCH:"chat_search",COMPAT:"compat",COOKIE:"cookie",CRISIS_LISTING_ATTACHMENT:"crisis_listing_attachment",EVENTS_PERMALINK:"events_permalink",FEED_POLL:"feed_poll",FUNDRAISER:"fundraiser",GROUP_MEMBERS_TAB:"group_members_tab",GROUP_QUALITY:"group_quality",GROUP_REMOVE_POST_TOMBSTONE:"group_remove_post_tombstone",JEWEL:"jewel",JEWEL_NEW_MESSAGE:"jewel_new_message",JEWEL_SEARCH:"jewel_search",MARKETPLACE:"marketplace",MEMORIES_HOME:"memories_home",MENTORSHIP:"mentorship",MESSAGE_RECEIVED:"message_received",MUTUAL_FRIENDS_DIALOG:"mutual_friends_dialog",NEW_MESSAGE_BUTTON:"new_msg_button",OFFER:"offer",PAGES_ABOUT:"pages_about",PAGES_COMMUNITY_FRIENDS_DIALOG:"pages_community_friends_dialog",PAGES_CTA:"pages_cta",PAGES_HEADER:"pages_header",PAGES_HOME_FRIENDS_DIALOG:"pages_home_friends_dialog",PAGES_POPUP_CHAT:"pages_popup_chat",RESHARES_DIALOG:"reshares_dialog",RHC_SEARCH:"rhc_search",RHC_SEARCH_ICON:"rhc_search_icon",SEARCH:"search",SEARCH_RESULT_PAGE:"search_result_page",SIDEBAR:"sidebar",STORY_AGGREGATED_USERS:"story_aggregated_users",TIMELINE:"timeline",UFI_REACTIONS:"ufi_reactions",UICE:"uice",UNKNOWN:"unknown",WORK_SHIFT_SWAP:"work_shift_swap"})}),null);
__d("MessengerWebEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RENDER_FIRST_THREAD_CONTENT:"render_first_thread_content",SEND_MSG:"send_msg",RENDER_INCOMING_MSG:"render_incoming_msg",OPEN_CHAT_TAB:"open_chat_tab",MINIMIZE_CHAT_TAB:"minimize_chat_tab",RENDER_INBOX:"render_inbox",SHOW_SIDEBAR_CONTACTS:"show_sidebar_contacts",SEARCH_RENDER_RESULT:"search_render_result",OPEN_THREAD_SETTINGS_MENU:"open_thread_settings_menu",OPEN_EMOJI_FLYOUT:"open_emoji_flyout",OPEN_STICKER_FLYOUT:"open_sticker_flyout",CREATE_THREAD:"create_thread",SEARCH_CLICK_RESULT:"search_click_result",CHANGE_NICKNAME:"change_nickname",SUPPRESS_NEW_MESSAGE:"suppress_new_message",LOAD_TAB_FROM_COOKIE:"load_tab_from_cookie",RENDER_QUICK_REPLIES:"render_quick_replies",CLICK_ICEBKREAKER:"click_icebreaker"})}),null);
__d("useMWChatOpenTabTraceProvider",["React","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useCallback,h=!1;function a(){var a=b("useCometInteractionTracing")(30605380,"responsive","INTERACTION"),c=g(function(b,c,d){a(function(a){a.onComplete(function(b){a.addMetadata("threadType",c),a.addMetadata("entrypoint",d),h?a.addMetadata("revisit",1):(a.addMetadata("revisit",0),h=!0)}),b()})},[a]);return c}e.exports=a}),null);
__d("MWChatTangState.bs",["bs_block","bs_curry","React","gkx","bs_caml_obj","FBLogger","BanzaiODS","bs_caml_array","setTimeout","CurrentUser","killswitch","MWChatThreadId.bs","MWChatTabManager.bs","MessengerWebEvent","MWChatTangState.re","MessengerWebEntryPoint","useCometRouterDispatcher","MWChatComposerViewStateStore.bs","useMWChatOpenTabTraceProvider","MessengerWebStgTypedLoggerLite","XCometWorkChatControllerRouteBuilder","XCometMessengerControllerRouteBuilder","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};function h(a){return[a,!0,!1,[!1]]}function a(f){__p&&__p();var a=function(a){a[2].forEach(function(a){return b("bs_curry")._1(a,0)});return 0},c=function(c,d){d=b("bs_curry")._3(c[0],c[1],d,c);if(d!==c[1]){c[1]=d;return a(c)}else return 0},g=function(a,b){return[a,b,[],function(a){return 0}]},d=function(a,b){a[2].push(b);return function(c){c=a[2].indexOf(b);a[2].splice(c,1);return 0}},e=function(d){var c=b("MWChatTabManager.bs").setup(function(c){if(b("bs_caml_obj").caml_notequal(c,d[1])){d[1]=b("bs_curry")._2(f.getNewState,d[1],c);return a(d)}else return 0},f.makeCookieData);d[3]=c;return 0},h=function(a){return a[1]},i=function(a){return a[3]};return{_inform:a,dispatch:c,make:g,listen:d,subscribe:e,state:h,userAction:i}}function i(a){__p&&__p();if(a!==void 0){a=a;var c=a[0];if(c!==void 0){c=c[0];c=c?b("MWChatThreadId.bs").serializeFuture(c[0]):"l"}else c=void 0;a=[a[1].map(function(a){return{i:b("MWChatThreadId.bs").serializeFuture(a)}}),c]}else a=[[],void 0];c=Date.now();return{t3:a[0],utc3:c,lm3:a[1],v:1}}function j(a,c){__p&&__p();if(a!==void 0)if(c!==void 0&&!b("gkx")("1168393")){var d=c;return[a[0],d[1],d[2]]}else return c;else if(c!==void 0&&!b("gkx")("1168393")){a=c;return[void 0,a[1],a[2]]}else return c}function k(a){a[2].forEach(function(a){return b("bs_curry")._1(a,0)});return 0}function l(a,c){c=b("bs_curry")._3(a[0],a[1],c,a);if(c!==a[1]){a[1]=c;return k(a)}else return 0}function c(a,b){return[a,b,[],function(a){return 0}]}function m(a,b){a[2].push(b);return function(c){c=a[2].indexOf(b);a[2].splice(c,1);return 0}}function n(a){var c=b("MWChatTabManager.bs").setup(function(c){if(b("bs_caml_obj").caml_notequal(c,a[1])){a[1]=j(a[1],c);return k(a)}else return 0},i);a[3]=c;return 0}function d(a){return a[1]}function e(a){return a[3]}d={_inform:k,dispatch:l,make:c,listen:m,subscribe:n,state:d,userAction:e};function o(a){var c=a.t3;c=c.length!==0?c.reduce(function(a,c){c=b("MWChatThreadId.bs").deserializeFuture(c.i);c!==void 0&&a.push(c);return a},[]):void 0;var d=b("gkx")("1168393");a=a.lm3;d=d&&a!==void 0?b("MWChatThreadId.bs").deserializeFuture(a):void 0;return[c,d]}function p(a,c,d){c=[c[0]].concat(a);a=c.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)});if(a!==-1)return c.slice(0,a).concat(c.slice(a+1|0));else return c}function q(a,c){return a.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,c)})===4}function r(a,c,d){var e,f=(e=b("bs_caml_array")).caml_array_get(a,c);e.caml_array_set(a,c,e.caml_array_get(a,d));e.caml_array_set(a,d,f);return a}function s(a,c,d){__p&&__p();var e=a.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)});if(e!==-1)if(e>=5){if(c!==void 0){e=c[0];if(e&&q(a,e[0]))return r([d].concat(a.filter(function(a){return b("bs_caml_obj").caml_notequal(a,d)})),4,5)}return[d].concat(a.filter(function(a){return b("bs_caml_obj").caml_notequal(a,d)}))}else return a;else if(c!==void 0){e=c[0];if(e)if(q(a,e[0]))return r([d].concat(a),4,5);else return[d].concat(a);else return[d].concat(a)}else return[d].concat(a)}function t(c,d,a){var e=c.findIndex(function(a){return b("bs_caml_obj").caml_equal(a[0],d)});if(e!==-1)return c.slice(e+1|0,c.length).concat(c.slice(0,e),[[d,b("setTimeout")(function(c){return l(a,b("bs_block").__(10,[d]))},3e3)]]);else return[[d,b("setTimeout")(function(c){return l(a,b("bs_block").__(10,[d]))},3e3)]].concat(c)}function u(a){if(a!==void 0)return a[1].slice().reverse().slice(-5);else return[]}function v(a){if(a!==void 0)return a[1].reduce(function(a,b){return a.concat([b])},[]);else return[]}function w(a){__p&&__p();if(a!==void 0){a=a[0];if(a!==void 0){a=a;if(a[0])return!1;else return a[3][0]}else return!1}else return!1}function x(a,c){__p&&__p();if(a!==void 0){a=a[0];if(a!==void 0){a=a;var d=a[0];if(d&&b("bs_caml_obj").caml_equal(d[0],c))return a[3][0];else return!1}else return!1}else return!1}function y(a){if(a!==void 0){a=a[0];if(a!==void 0)return a[0];else return}}function z(a){if(a!==void 0)return a[2];else return[]}var A={};function B(a,c){__p&&__p();if(a[0]>=892012143){var d=a[1];A[d]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:d,thread_fbid:null});return 0}else{d=a[1];A[d]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:null,thread_fbid:d});return 0}}function C(a,b){if(a!==void 0){a=a;return[h([b]),s(a[1],a[0],b),a[2]]}else return[h([b]),[b],[]]}function D(a){if(a!==void 0){a=a;return[[0,!0,!1,[!1]],a[1],a[2]]}else return[[0,!0,!1,[!1]],[],[]]}function E(a){if(a!==void 0){a=a;var b=[!1];return[[0,!0,!0,b],a[1],a[2]]}else{b=[!1];return[[0,!0,!0,b],[],[]]}}function F(c,d,a){__p&&__p();if(c!==void 0){c=c;var e=c[2],f=c[1],g=c[0];f.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)})===-1&&B(d,b("MessengerWebEntryPoint").MESSAGE_RECEIVED);if(g!==void 0){if(!g[1]){var i=b("gkx")("1249248")&&f.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)})===-1;if(i){i=h([d]);return[[i[0],!1,i[2],i[3]],s(f,g,d),t(e,d,a)]}else return[c[0],s(f,g,d),t(e,d,a)]}}else if(f.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,d)})===-1){i=h([d]);return[[i[0],!1,i[2],i[3]],s(f,g,d),t(e,d,a)]}return[c[0],s(f,g,d),t(e,d,a)]}else{B(d,b("MessengerWebEntryPoint").MESSAGE_RECEIVED);i=h([d]);return[[i[0],!1,i[2],i[3]],[d],t([],d,a)]}}function G(a,b){if(a!==void 0){var c=a;return[c[0],c[1],c[2].filter(function(a){return a[0]!==b})]}else return a}function H(a,c){__p&&__p();if(a!==void 0){var d=a,e=d[1],f=d[0];if(e.length!==0){var g=e.findIndex(function(a){return b("bs_caml_obj").caml_equal(a,c)});if(g!==-1){b("bs_curry")._1(b("MWChatComposerViewStateStore.bs").markClosed,c);e=e.slice(0,g).concat(e.slice(g+1|0));if(e.length!==0){if(f!==void 0){g=f[0];g=g&&b("bs_caml_obj").caml_notequal(g[0],c)?f:void 0}else g=void 0;return[g,e,d[2]]}else return}else return a}else return}else return a}function I(a){if(a!==void 0){var b=a,c=b[1];if(c.length!==0)return[void 0,c,b[2]];else return}else return a}function J(a,c){__p&&__p();if(a!==void 0){var d=a,e=d[0];if(e!==void 0){e=e[0];if(e&&b("bs_caml_obj").caml_equal(c,e[0]))return[void 0,d[1],d[2]];else return a}else return a}else return a}function K(a,c){__p&&__p();if(a!==void 0){var d=a,e=d[0];if(e!==void 0){e=e;var f=e[0];if(f&&b("bs_caml_obj").caml_equal(c,f[0])&&!e[1])return[[e[0],!0,e[2],e[3]],d[1],d[2]];else return a}else return a}else return a}function L(a){__p&&__p();if(a!==void 0){var b=a,c=b[0];if(c!==void 0){c=c;if(c[0]||c[1])return a;else return[[c[0],!0,c[2],c[3]],b[1],b[2]]}else return a}else return a}function M(a,c){__p&&__p();if(a!==void 0){var d=a,e=d[0];if(e!==void 0){e=e;var f=e[0];if(f&&b("bs_caml_obj").caml_equal(c,f[0]))return[[e[0],!1,e[2],e[3]],d[1],d[2]];else return a}else return a}else return a}function N(a){__p&&__p();if(a!==void 0){var b=a,c=b[0];if(c!==void 0){c=c;if(c[0])return a;else return[[c[0],!1,c[2],c[3]],b[1],b[2]]}else return a}else return a}function O(a){if(a!==void 0){var b=a;return[void 0,b[1],b[2]]}else return a}function P(a,b,c){if(b.length!==0)if(a!==void 0){var d=c!==void 0?h([c]):void 0;return[d,b,a[2]]}else{d=c!==void 0?h([c]):void 0;return[d,b,[]]}}function Q(c,d,a){__p&&__p();var e;if(typeof d==="number")switch(d){case 0:e=D(c);break;case 1:e=E(c);break;case 2:e=void 0;break;case 3:e=O(c);break;case 4:e=I(c);break;case 5:e=N(c);break;case 6:e=L(c);break}else switch(d.tag|0){case 0:e=C(c,d[0]);break;case 1:e=F(c,d[0],a);break;case 2:e=P(c,d[0],d[1]);break;case 3:e=Q(c,b("bs_block").__(0,[[892012143,d[0]]]),a);break;case 4:e=Q(c,b("bs_block").__(0,[[948354667,d[0]]]),a);break;case 5:e=Q(c,b("bs_block").__(0,[[757211935,d[0]]]),a);break;case 6:e=H(c,d[0]);break;case 7:e=J(c,d[0]);break;case 8:e=M(c,d[0]);break;case 9:e=K(c,d[0]);break;case 10:e=G(c,d[0]);break}if(typeof d==="number")b("bs_curry")._1(a[3],e);else switch(d.tag|0){case 1:case 2:break;default:b("bs_curry")._1(a[3],e)}return e}var R=c(function(a,b,c){return a},void 0),S=b("React").createContext(R),T=S.Provider,U=[!1],V=c(Q,void 0);function W(a){__p&&__p();a=a.children;var c=o(b("MWChatTabManager.bs").deserialize(b("MWChatTangState.re").cookie)),d=c[1],e=c[0],f=b("useMWChatOpenTabTraceProvider")();b("React").useEffect(function(){__p&&__p();if(b("gkx")("1134614")&&!b("killswitch")("MESSENGER_WEB_STOP_PERSISTING_CHAT_HEADS")){n(V);var a=U[0];if(e!==void 0&&!a){var c=e;U[0]=!0;b("MessengerWebStgTypedLoggerLite").log({event_name:b("MessengerWebEvent").LOAD_TAB_FROM_COOKIE,extra_data:{tabNumber:c.length}});c.forEach(function(a){return B(a,b("MessengerWebEntryPoint").COOKIE)});if(d!==void 0){a=d[0];f(function(a){return l(V,b("bs_block").__(2,[c,d]))},a!==892012143?a>=948354667?"user":"group":"page","cookie")}else l(V,b("bs_block").__(2,[c,d]))}}return},[]);return b("React").createElement(T,{value:V,children:a})}function X(){__p&&__p();var a=b("React").useContext(S),c=b("useCometRouterDispatcher")(),d=b("useCometFeedNoRoutingNavigationEventLogger")(),e=function(b){d(Date.now(),"","messenger");return l(a,b)},f=b("React").useMemo(function(){return e},[a]),g=function(a){__p&&__p();b("FBLogger")("messenger-comet").warn("MWChatTangState called without context");if(typeof a==="number")return 0;else switch(a.tag|0){case 3:case 4:case 5:break;default:return 0}a=a[0];var d=b("CurrentUser").isWorkUser();d=d?b("XCometWorkChatControllerRouteBuilder").buildURL({thread_key:a}):b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:a});c.go(d);return 0},h=b("React").useMemo(function(){return g},[]);if(a[0]===R[0])return h;else return f}function Y(c){__p&&__p();var a=b("React").useContext(S);c=b("React").useState(function(){return a[1]});var d=c[1];b("React").useEffect(function(){var c=m(a,function(c){return b("bs_curry")._1(d,function(b){return a[1]})});return function(a){return b("bs_curry")._1(c,0)}},[]);return c[0]}function Z(c){var a=X(),d=b("useMWChatOpenTabTraceProvider")();return b("React").useCallback(function(e){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_user");A[e]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:e,thread_fbid:null});return d(function(c){return b("bs_curry")._1(a,b("bs_block").__(4,[e]))},"user",c)},[c])}function $(c){var a=X(),d=b("useMWChatOpenTabTraceProvider")();return b("React").useCallback(function(e){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_group");A[e]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:null,thread_fbid:e});return d(function(c){return b("bs_curry")._1(a,b("bs_block").__(5,[e]))},"group",c)},[c])}function aa(c){var a=X(),d=b("useMWChatOpenTabTraceProvider")();return b("React").useCallback(function(e){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_page");A[e]=c;b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:e,thread_fbid:null});return d(function(c){return b("bs_curry")._1(a,b("bs_block").__(3,[e]))},"page",c)},[c])}function ba(c){var a=X(),d=b("useMWChatOpenTabTraceProvider")();return b("React").useCallback(function(e){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_new");b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB});return d(function(c){return b("bs_curry")._1(a,0)},"new_message",c)},[c])}function ca(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,4)},[c])}function da(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(6,[c]))},[c])}function ea(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,6)},[c])}function fa(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,5)},[c])}function ga(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(9,[c]))},[c])}function ha(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(8,[c]))},[c])}function ia(c){var a=X();return b("React").useCallback(function(c){b("BanzaiODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");return b("bs_curry")._1(a,b("bs_block").__(1,[c]))},[c])}function ja(a){var c=Y(0);return b("React").useCallback(function(a){return w(c)},[c])}function ka(a){var c=Y(0);return b("React").useCallback(function(a){return x(c,a)},[c])}function la(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(0,[c]))},[c])}function ma(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,b("bs_block").__(7,[c]))},[c])}function na(c){var a=X();return b("React").useCallback(function(c){return b("bs_curry")._1(a,3)},[c])}function oa(c){var a=X();return b("React").useCallback(function(d){b("MessengerWebStgTypedLoggerLite").log({entry_point:c,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB});return b("bs_curry")._1(a,1)},[c])}e=1;c=5;var pa=3e3;W=W;f.MessengerWebPresenceCookieData=g;f.getDefaultOpenTab=h;f.MakeDispatcher=a;f.version=e;f.Manager=d;f.parseCookieData=o;f.getTabsWithoutCertainThread=p;f.maxChatHeads=c;f.notificationTime=pa;f.isLastActive=q;f.swap=r;f.reorderChatHeads=s;f.updateNotificationTimers=t;f.getVisibleChatHeads=u;f.getOpenChatTabsNoSearch=v;f.getHasContentSearch=w;f.getHasContentFuture=x;f.getUncollapsedChatTab=y;f.getNotifications=z;f.tabEntryPoints=A;f.logAndSetEntrypoint=B;f.openTab=C;f.openNewTab=D;f.openNewSearchTab=E;f.openTabFromNewMessage=F;f.closeNotification=G;f.closeTab=H;f.closeNewTab=I;f.collapseTab=J;f.focusTab=K;f.focusNewTab=L;f.blurTab=M;f.blurNewTab=N;f.collapseTabs=O;f.loadTabs=P;f.reducer=Q;f.defaultInstance=R;f.context=S;f.provider=T;f.hasLoaded=U;f.instance=V;f.make=W;f.useDispatch=X;f.useState=Y;f.useOpenTabForUser=Z;f.useOpenTabForGroup=$;f.useOpenTabForPage=aa;f.useOpenNewTab=ba;f.useCloseNewTab=ca;f.useCloseTab=da;f.useFocusNewTab=ea;f.useBlurNewTab=fa;f.useFocusTab=ga;f.useBlurTab=ha;f.useOpenTabFromNewMessage=ia;f.useHasSearchTabContent=ja;f.useHasTabContent=ka;f.useOpenTab_DEPRECATED=la;f.useCollapseTab=ma;f.useCollapseTabs=na;f.useOpenNewSearchTab=oa}),null);
__d("MWChatTangState.re",["MessengerWebPresenceCookieData","bs_block","MWChatTangState.bs"],(function(a,b,c,d,e,f){__p&&__p();var g={OpenNewTab:0,OpenNewSearchTab:1,CloseTabs:2,CollapseTabs:3,CloseNewTab:4,BlurNewTab:5,FocusNewTab:6},h={0:"Search"};a=b("MessengerWebPresenceCookieData").cookie;f.cookieTypeChecked=a;c=a;f.cookie=c;e=(d=b("MWChatTangState.bs")).getHasContentSearch;f.getHasContentSearch=e;a=function(a){a=b("MWChatTangState.bs").getUncollapsedChatTab(a);return a==null?a:typeof a==="object"?{tag:"Thread",value:a[0]}:h[a]};f.getUncollapsedChatTab=a;c=d.getNotifications;f.getNotifications=c;(function(a){return null});e=d.make;f.make=e;a=function(){var a=b("MWChatTangState.bs").useDispatch();return function(c){c=a(typeof c==="object"?c.tag==="OpenTab"?b("bs_block").__(0,[c.value]):c.tag==="OpenTabFromNewMessage"?b("bs_block").__(1,[c.value]):c.tag==="LoadTabs"?b("bs_block").__(2,[c.value[0],c.value[1]==null?void 0:c.value[1]]):c.tag==="OpenTabForPage"?b("bs_block").__(3,[c.value]):c.tag==="OpenTabForUser"?b("bs_block").__(4,[c.value]):c.tag==="OpenTabForGroup"?b("bs_block").__(5,[c.value]):c.tag==="CloseTab"?b("bs_block").__(6,[c.value]):c.tag==="CollapseTab"?b("bs_block").__(7,[c.value]):c.tag==="BlurTab"?b("bs_block").__(8,[c.value]):c.tag==="FocusTab"?b("bs_block").__(9,[c.value]):b("bs_block").__(10,[c.value]):g[c]);return c}};f.useDispatch=a;c=d.useState;f.useState=c;e=d.useOpenTabForUser;f.useOpenTabForUser=e;a=d.useOpenTabForGroup;f.useOpenTabForGroup=a;c=d.useOpenTabForPage;f.useOpenTabForPage=c;e=d.useOpenNewTab;f.useOpenNewTab=e;a=d.useOpenNewSearchTab;f.useOpenNewSearchTab=a}),null);
__d("SearchCometGlobalResultPageTracePolicy",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT_TAB:"comet.search_results.default_tab",PHOTOS_TAB:"comet.search_results.photos_tab",PLACES_TAB:"comet.search_results.places_tab",TOP_TAB:"comet.search_results.top_tab"})}),null);
__d("isSearchCometGlobalResultPageTracePolicy",["SearchCometGlobalResultPageTracePolicy"],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.values(b("SearchCometGlobalResultPageTracePolicy")).includes(a)}e.exports=a}),null);
__d("SearchCometScopedResultPageTracePolicy",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTITY_SCOPED:"comet.search_results.entity_scoped",GROUPS_TAB_SEARCH:"comet.groups.search",WATCH_SEARCH:"comet.watch.search"})}),null);
__d("isSearchCometScopedResultPageTracePolicy",["SearchCometScopedResultPageTracePolicy"],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.values(b("SearchCometScopedResultPageTracePolicy")).includes(a)}e.exports=a}),null);
__d("CometSearchInternalTypeaheadStateDispatcherContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext();e.exports=a}),null);
__d("useCometSearchInternalTypeaheadStateDispatcher",["CometSearchInternalTypeaheadStateDispatcherContext","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useContext;function a(){return g(b("CometSearchInternalTypeaheadStateDispatcherContext"))}e.exports=a}),null);
__d("CometSearchRecentSearchEntryAddedEventDefault",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";function a(){return{publishRecentSearchEntryAdded:b("emptyFunction"),subscribeToRecentSearchEntryAdded:function(){return b("emptyFunction")}}}e.exports=a}),null);
__d("CometSearchRecentSearchEntryRemovedEventDefault",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";function a(){return{publishRecentSearchEntryRemoved:b("emptyFunction"),subscribeToRecentSearchEntryRemoved:function(){return b("emptyFunction")}}}e.exports=a}),null);
__d("SearchCometGlobalTypeaheadFocusEventDefault",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";function a(){return{publishGlobalTypeaheadFocus:b("emptyFunction"),subscribeToGlobalTypeaheadFocus:function(){return b("emptyFunction")}}}e.exports=a}),null);
__d("SearchCometScopedTypeaheadFocusEventDefault",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";function a(){return{publishScopedSearchTypeaheadFocus:b("emptyFunction"),subscribeToScopedSearchTypeaheadFocus:function(){return b("emptyFunction")}}}e.exports=a}),null);
__d("CometSearchEventEmitterContext",["CometSearchRecentSearchEntryAddedEventDefault","CometSearchRecentSearchEntryRemovedEventDefault","React","SearchCometGlobalTypeaheadFocusEventDefault","SearchCometScopedTypeaheadFocusEventDefault"],(function(a,b,c,d,e,f){"use strict";function a(){return b("React").createContext(babelHelpers["extends"]({},b("SearchCometGlobalTypeaheadFocusEventDefault")(),b("SearchCometScopedTypeaheadFocusEventDefault")(),b("CometSearchRecentSearchEntryAddedEventDefault")(),b("CometSearchRecentSearchEntryRemovedEventDefault")()))}e.exports=a()}),null);
__d("useSearchCometGlobalTypeaheadStyles",["React","stylex","useSupportsAnimations"],(function(a,b,c,d,e,f){"use strict";var g=b("React").useMemo,h={inputXStyle:{alignItems:"bp9cbjyn",boxSizing:"rq0escxv",display:"j83agx80",height:"byvelhso",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"},typeaheadLayout:{display:"a8c37x1j"},typeaheadLayoutOpened:{borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"o55z2nyb",paddingBottom:"sj5x9vvc"},typeaheadView:{paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"}},i={typeaheadLayout:{display:"a8c37x1j",position:"l9j0dhe7","::before":{bottom:"p9906w3d",boxShadow:"rp3cc1xn",content:"keod5gw0",end:"rpedc2ei",opacity:"bjz44bnn",position:"kf6kxqaw",start:"ex9rxw2n",top:"owhxnkwg"}},typeaheadLayoutOpened:{borderBottom:"nvaqyv4k",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",borderTopColor:"np69z8it",borderEndColor:"et4y5ytx",borderBottomColor:"j7g94pet",borderStartColor:"b74d5cxt",borderEnd:"nlb1jj2x",borderStart:"r7d6kgcz",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTop:"qu0x051f",paddingBottom:"sj5x9vvc","::before":{borderBottomEndRadius:"odn1etrg",borderBottomStartRadius:"chwxu43p",opacity:"e3vzygv9",transitionDuration:"anufkb55",transitionTimingFunction:"l2g7pg2x"}},typeaheadView:{paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"}};function a(){var a=b("useSupportsAnimations")();return g(function(){return a?{inputXStyle:h.inputXStyle,layoutOpenedXStyle:i.typeaheadLayoutOpened,layoutXStyle:i.typeaheadLayout,viewXStyle:i.typeaheadView}:{inputXStyle:h.inputXStyle,layoutOpenedXStyle:h.typeaheadLayoutOpened,layoutXStyle:h.typeaheadLayout,viewXStyle:h.typeaheadView}},[a])}e.exports=a}),null);
__d("CometThrottle",["clearTimeout","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();d=d===void 0?{}:d;var e=d.leading,f=d.trailing,g,h,i,j=null,k=0,l=function(){var c=g;g=null;var d=h;h=null;if(c==null)throw b("unrecoverableViolation")("It should be impossible for `cachedArgs` to be `null` at the moment we invoke the throttled function. Investigate why this is the case.","comet_infra");else return a.apply(d,c)},m=function(){k=e===!1?0:new Date(),j=null,i=l()};d=function(){g=h=null,j!=null&&(b("clearTimeout")(j),j=null)};function n(){var a=new Date();!k&&e===!1&&(k=a);var d=c-(a-k);d<=0?(b("clearTimeout")(j),j=null,k=a,g=arguments,h=this,i=l()):!j&&f!==!1&&(g=arguments,h=this,j=b("setTimeout")(m,d));return i}n.cancel=d;return n}e.exports=a}),null);
__d("DOMRectIsEqual",["DOMRectReadOnly"],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(!a&&!b)return!0;else if(!a||!b)return!1;return a.x===b.x&&a.y===b.y&&a.width===b.width&&a.height===b.height}e.exports=a}),null);
__d("GlobalVideoPortsContexts",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").createContext,h=b("React").useContext,i=b("React").useMemo,j=g(null),k=g(null),l=g(null),m=g({currentPlaceID:null,currentVideoID:null,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:null});function a(a){var c=a.children,d=a.currentPlaceID,e=a.currentVideoID,f=a.portalingEnabled,g=a.previousPlaceMetaData,h=a.thisPlaceID;a=i(function(){return{currentPlaceID:d,currentVideoID:e,portalingEnabled:f,previousPlaceMetaData:g,thisPlaceID:h}},[d,e,f,g,h]);return b("React").jsx(m.Provider,{value:a,children:c})}function c(){return h(j)}function d(){return h(k)}function f(){return h(l)}function n(){return h(m)}e.exports={GlobalVideoPortsLoaderContextProvider:j.Provider,GlobalVideoPortsManagerContextProvider:k.Provider,GlobalVideoPortsStateContextProvider:l.Provider,VideoPlayerPortalingPlaceInfoProvider:a,useGlobalVideoPortsLoader:c,useGlobalVideoPortsManager:d,useGlobalVideoPortsState:f,useVideoPlayerPortalingPlaceInfo:n}}),null);